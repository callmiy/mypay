{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/argsarray/index.js","webpack:///./src/graphql/helpers.ts","webpack:///./node_modules/handlebars/dist/cjs/handlebars/exception.js","webpack:///./node_modules/phoenix/priv/static/phoenix.js","webpack:///./src/service-worker/show-refresh-ui.handlebars","webpack:///./node_modules/pouchdb-browser/node_modules/uuid/v1.js","webpack:///./node_modules/pouchdb-browser/node_modules/uuid/v4.js","webpack:///./node_modules/pouchdb-utils/node_modules/uuid/v1.js","webpack:///./node_modules/pouchdb-utils/node_modules/uuid/v4.js","webpack:///./node_modules/pouchdb-debug/node_modules/debug/src/debug.js","webpack:///./node_modules/ms/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/spark-md5/spark-md5.js","webpack:///./node_modules/events/events.js","webpack:///./src/graphql/gen.types.ts","webpack:///./src/graphql/new-shift-url.fragment.ts","webpack:///./src/graphql/offline-token.fragment.ts","webpack:///./src/graphql/initial-socket-data.query.ts","webpack:///./src/routes/index/utils.ts","webpack:///./node_modules/pouchdb-collections/lib/index.es.js","webpack:///./src/socket.ts","webpack:///./src/service-worker/register-service-worker1.ts","webpack:///./src/service-worker/show-refresh-ui.ts","webpack:///./node_modules/pouchdb-errors/lib/index.es.js","webpack:///./node_modules/pouchdb-utils/lib/index-browser.es.js","webpack:///./node_modules/pouchdb-fetch/lib/index-browser.es.js","webpack:///./node_modules/pouchdb-collate/lib/index.es.js","webpack:///./node_modules/pouchdb-selector-core/lib/index.es.js","webpack:///./node_modules/pouchdb-mapreduce-utils/lib/index.es.js","webpack:///./node_modules/pouchdb-abstract-mapreduce/lib/index.es.js","webpack:///./node_modules/pouchdb-find/lib/index-browser.es.js","webpack:///./node_modules/pouchdb-debug/lib/index-browser.es.js","webpack:///./src/database/index.ts","webpack:///./src/app.ts","webpack:///./node_modules/handlebars/dist/cjs/handlebars/utils.js","webpack:///./node_modules/pouchdb-md5/lib/index-browser.es.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/base.js","webpack:///./src/graphql/shift.fragment.ts","webpack:///./node_modules/pouchdb-binary-utils/lib/index-browser.es.js","webpack:///./node_modules/pouchdb-browser/lib/index.es.js","webpack:///./node_modules/handlebars/runtime.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars.runtime.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js","webpack:///./node_modules/graphql-tag/src/index.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/decorators.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/logger.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/safe-string.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/runtime.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js","webpack:///./src/constants.ts","webpack:///./src/utils/utils.ts","webpack:///./node_modules/graphql/jsutils/invariant.mjs","webpack:///./node_modules/graphql/language/source.mjs","webpack:///./node_modules/graphql/language/location.mjs","webpack:///./node_modules/graphql/error/printError.mjs","webpack:///./node_modules/graphql/error/GraphQLError.mjs","webpack:///./node_modules/graphql/error/syntaxError.mjs","webpack:///./node_modules/graphql/error/formatError.mjs","webpack:///./node_modules/graphql/language/blockStringValue.mjs","webpack:///./node_modules/graphql/language/lexer.mjs","webpack:///./node_modules/graphql/language/kinds.mjs","webpack:///./node_modules/graphql/language/directiveLocation.mjs","webpack:///./node_modules/graphql/language/parser.mjs","webpack:///./node_modules/pouchdb-browser/node_modules/uuid/index.js","webpack:///./node_modules/vuvuzela/index.js","webpack:///./node_modules/pouchdb-utils/node_modules/uuid/index.js","webpack:///./node_modules/pouchdb-debug/node_modules/debug/src/browser.js","webpack:///./node_modules/immediate/lib/browser.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/pouchdb-browser/node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/pouchdb-browser/node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/pouchdb-utils/node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/pouchdb-utils/node_modules/uuid/lib/bytesToUuid.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__assign","assign","arguments","length","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","iterator","v","op","TypeError","pop","push","__makeTemplateObject","cooked","raw","ctor","superCtor","super_","constructor","writable","configurable","TempCtor","fun","len","args","toRunableDocument","document","variables","query","loc","source","stringifyGraphQlErrors","path","_a","errors","reduce","prev","concat","message","join","htmlfyGraphQlErrors","msg_1","JSON","parse","html","keys","map","_utils_utils__WEBPACK_IMPORTED_MODULE_0__","errorProps","Exception","node","line","undefined","column","start","tmp","Error","idx","captureStackTrace","lineNumber","nop","_typeof","obj","_slicedToArray","arr","Array","isArray","_arr","_n","_d","_e","_s","_i","err","sliceIterator","_createClass","defineProperties","target","props","descriptor","Constructor","protoProps","staticProps","_classCallCheck","instance","SOCKET_STATES","connecting","open","closing","closed","DEFAULT_TIMEOUT","CHANNEL_STATES","errored","joined","joining","leaving","CHANNEL_EVENTS","close","error","reply","leave","CHANNEL_LIFECYCLE_EVENTS","TRANSPORTS","longpoll","websocket","Push","channel","event","payload","timeout","receivedResp","timeoutTimer","recHooks","reset","send","hasReceived","startTimeout","socket","topic","ref","join_ref","joinRef","status","callback","response","cancelRefEvent","refEvent","_ref","filter","h","forEach","off","clearTimeout","_this","cancelTimeout","makeRef","replyEventName","on","matchReceive","setTimeout","trigger","Channel","params","_this2","state","bindings","joinedOnce","joinPush","pushBuffer","rejoinTimer","Timer","rejoinUntilConnected","reconnectAfterMs","receive","pushEvent","onClose","log","remove","onError","reason","isLeaving","isClosed","scheduleTimeout","isJoining","leavePush","isConnected","rejoin","isJoined","canPush","_this3","isLifecycleEvent","indexOf","resend","sendJoin","_this4","handledPayload","onMessage","Serializer","encode","msg","stringify","decode","rawPayload","_JSON$parse","_JSON$parse2","LongPoll","Socket","endPoint","_this5","opts","stateChangeCallbacks","channels","sendBuffer","transport","window","WebSocket","defaultEncoder","defaultDecoder","heartbeatIntervalMs","tries","logger","longpollerTimeout","heartbeatTimer","pendingHeartbeatRef","reconnectTimer","disconnect","connect","location","protocol","match","uri","Ajax","appendParams","vsn","charAt","host","code","conn","onclose","_this6","console","endPointURL","onopen","onConnOpen","onerror","onConnError","onmessage","onConnMessage","onConnClose","kind","data","_this7","flushSendBuffer","skipHeartbeat","clearInterval","setInterval","sendHeartbeat","triggerChanError","readyState","connectionState","chanParams","chan","_this8","newRef","toString","rawMessage","_this9","isMember","token","pollEndpoint","normalizeEndpoint","poll","replace","RegExp","closeAndRetry","_this10","request","endpointURL","ontimeout","resp","messages","_this11","method","accept","XDomainRequest","req","xdomainRequest","_req","XMLHttpRequest","ActiveXObject","xhrRequest","_this12","onload","parseJSON","responseText","onprogress","_this13","setRequestHeader","onreadystatechange","states","complete","parentKey","queryStr","paramKey","paramVal","serialize","encodeURIComponent","url","prefix","Presence","syncState","currentState","newState","onJoin","onLeave","_this14","clone","joins","leaves","presence","newPresence","currentPresence","newRefs","metas","phx_ref","curRefs","joinedMetas","leftMetas","syncDiff","_ref2","_state$key$metas","unshift","arr2","from","_toConsumableArray","leftPresence","refsToRemove","list","presences","chooser","pres","func","getOwnPropertyNames","timerCalc","timer","_this15","factory","Handlebars","template","compiler","main","container","depth0","helpers","partials","useData","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","options","buf","offset","b","clockseq","seedBytes","msecs","Date","getTime","nsecs","dt","tl","tmh","rnds","random","ii","createDebug","namespace","prevTime","debug","enabled","self","curr","ms","diff","coerce","index","format","formatter","formatters","val","splice","formatArgs","useColors","color","hash","charCodeAt","colors","Math","abs","selectColor","destroy","init","instances","stack","disable","enable","namespaces","save","names","skips","split","substr","test","humanize","plural","floor","ceil","type","str","String","exec","parseFloat","toLowerCase","isNaN","long","fmtLong","round","fmtShort","Function","eval","hex_chr","md5cycle","x","k","a","md5blk","md5blks","md5blk_array","md51","tail","lo","hi","substring","parseInt","rhex","j","hex","toUtf8","unescape","hexToBinaryString","bytes","fromCharCode","SparkMD5","ArrayBuffer","slice","clamp","max","min","to","num","targetArray","sourceArray","byteLength","begin","end","Uint8Array","set","append","appendBinary","contents","_buff","_length","_hash","ret","buff","_finish","getState","setState","hashBinary","content","first","second","returnUInt8Array","buffer","concatenateArrayBuffers","subarray","arrayBuffer2Utf8Str","utf8Str2ArrayBuffer","md51_array","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNumber","emit","er","handler","listeners","context","addListener","listener","newListener","warned","trace","once","fired","removeListener","position","removeAllListeners","listenerCount","evlistener","emitter","SortingDirective","newShiftUrlFragment","src_default","templateObject_1","tslib_es6","offlineTokenFragment","offline_token_fragment_templateObject_1","initial_socket_data_query","initial_socket_data_query_templateObject_1","shift_fragment","ExportedSet","ExportedMap","getShiftsQueryVairable","today","shift","where","year","getFullYear","month","getMonth","orderBy","date","DESC","writeInitialDataToDb","database","allShifts","shifts","newShiftUrl","db","find","selector","schemaType","$eq","constants","foundShifts","docs","ids_1","id","filteredAllShifts","includes","bulkDocs","newShiftUrls","newShiftUrlFromDoc","_id","doc","put","_rev","socket_AppSocket","dataChannelName","dataChannelJoined","joinDataChannel","dataChannel","channelJoin","getInitialData","initialDataQuery","queryGraphQl","ok","channelName","appInterface","serverOnlineStatus","sendChannelMsg","reasons","initialData","offlineToken","offlineTokens","offlineTokenFromDoc","phoenix","onOpen","updateReady","worker","ui","getElementById","innerHTML","show_refresh_ui_handlebars","addEventListener","postMessage","action","reload","show_refresh_ui","register_service_worker1","navigator","serviceWorker","register","scope","reg","controller","waiting","installing","worker_1","worker1","mangle","unmangle","Map$1","_store","Set$1","array","add","mangled","has","delete","res","cb","size","Map","Set","prop","getOwnPropertyDescriptor","species","supportsMapAndSet","PouchError","inherits_browser_default","UNKNOWN_ERROR","generateErrorFromResponse","cloneBinaryObject","cloneArrayBuffer","webkitSlice","funcToString","objectCtorString","clone$1","newObject","toISOString","Blob","isBinaryObject","proto","getPrototypeOf","Ctor","isPlainObject","toPromise","argsarray_default","usedCB","promise","fulfill","called","mesg","pick","hasLocal","localStorage","setItem","getItem","hasLocalStorage","Changes","events","_listeners","attachBrowserEvents","guardedConsole","dbName","inprogress","eventFunction","changesOpts","changes","seq","since","cancelled","onChange","browser_default","notifyLocalWindows","notify","assign$1","nextSource","nextKey","flatten","arrs","isRemote","_remote","upsert","docId","diffFun","docRev","newDoc","updated","rev","tryAndPut","uuid_default","v4","AbortController","fetch","Headers","MIN_MAGNITUDE","MAGNITUDE_DIGITS","SEP","collate","normalizeKey","ai","collationIndex","bi","stringCollate","sort","arrayCollate","ak","bk","objectCollate","Infinity","origKey","toJSON","indexify","expFormat","toExponential","magnitude","neg","magString","padWith","upToLength","padding","targetLength","pad","padLeft","factor","factorStr","toFixed","numToIndexableString","toIndexableString","objKey","parseNumber","originalIdx","numAsString","magAsString","ch","metaStack","lastMetaElement","element","lastElementIndex","getFieldFromDoc","parsedField","setFieldInDoc","compare","left","right","parseField","fieldName","fields","current","combinationFields","isCombinationalField","field","getKey","getValue","mergeAndedSelectors","selectors","matcher","fieldMatchers","operator","$gte","$gt","mergeGtGte","$lte","$lt","mergeLtLte","$ne","mergeNe","mergeEq","massageSelector","input","wasAnded","orOrNor","subSelector","filterInMemoryFields","rows","requestDef","inMemoryFields","row","rowFilter","fieldSorter","getFieldValuesAsArray","sorting","aRow","bRow","collation","createFieldSorter","reverse","skip","limit","every","docFieldValue","some","orMatchers","matchCominationalSelector","matchSelector","userOperator","userValue","matchers","fieldExists","fieldIsNotUndefined","arrayContainsValue","$elemMatch","$allMatch","$exists","$mod","divisor","mod","modField","neValue","$in","$nin","$size","arraySize","$all","arrayContainsAllValues","$regex","regexMatch","$type","typeMatch","QueryParseError","NotFoundError","BuiltInError","promisedCallback","sequentialize","queue","promiseFactory","that","uniq","theSet","mapToKeysArray","TaskQueue","createView","sourceDB","viewName","mapFun","reduceFun","temporary","localDocName","cachedViews","viewSignature","createViewSignature","_cachedViews","promiseForView","info","depDbName","db_name","index_browser_es","views","fullViewName","depDbs","registerDependentDatabase","auto_compaction","view","adapter","catch","lastSeqDoc","finish","persistentQueues","tempViewQueue","CHANGES_BATCH_SIZE","parseViewName","emitError","lib_index_es","mapper","reducer","ddocValidator","tryMap","tryReduce","values","rereduce","output","sortByKeyThenValue","keyCompare","rowToDocId","postprocessAttachments","include_docs","attachments","binary","atts","_attachments","filename","att","lib_index_browser_es","content_type","readAttachmentsAsBlobOrBuffer","addHttpParam","paramName","asJson","coerceInteger","integerCandidate","asNumber","Number","checkQueryParseError","startkeyName","descending","endkeyName","group","group_level","optionName","number","checkPositiveInteger","defaultsTo","getDocsToPersist","docIdsToChangesAndEmits","metaDocId","defaultMetaDoc","docData","indexableKeysToKeyValues","isGenOne","metaDoc","allDocs","getKeyValueDocs","kvDocsRes","kvDocs","oldKeys","_deleted","keyValue","newKeys","kvDoc","processKeyValueDocs","getQueue","updateView","mapResults","currentSeq","processChange","docIds","all","listOfDocsToPersist","docsToPersist","saveKeyValues","processNextBatch","return_docs","conflicts","style","processBatch","results","change","createIndexableKeysToKeyValues","createDocIdsToChangesAndEmits","lastKey","emittedKeyValue","complexKey","updateViewInQueue","queryView","totalRows","shouldReduce","fetchFromView","viewOpts","total_rows","expectedKeys","parsedKeyAndDocId","parsedNum","parsedStr","arrayElement","objElement","parseIndexableString","onMapResultsReady","finalResults","shouldGroup","groups","lvl","POSITIVE_INFINITY","last","groupKey","reduceTry","sliceResults","reduceView","update_seq","allDocsRes","docIdsToDocs","fetchPromises","startkey","endkey","start_key","end_key","inclusiveEnd","inclusive_end","keyStart","keyEnd","queryViewInQueue","queryPromised","_query","customQuery","keysAsString","parts","headers","Content-Type","json","httpQuery","finalPromiseFactory","fin","designDocName","stale","coerceOptions","viewCleanup","callbackify","_viewCleanup","customViewCleanup","httpViewCleanup","docsToViews","viewsToStatus","ddocName","viewDBNames","statusIsGood","viewDBName","destroyPromises","__opts","localViewCleanup","massageCreateIndexRequest","dbFetch","Content-type","createIndex","index_browser_es_explain","getIndexes","deleteIndex","indexDef","ddoc","getArguments","index_browser_es_callbackify","index_browser_es_promisedCallback","index_browser_es_flatten","subArr","mergeObjects","oneArrayIsSubArrayOfOther","arrayEquals","arr1","createMapper","isShallow","checkShallow","isSingle","createShallowSingleMapper","toEmit","createShallowMultiMapper","createDeepSingleMapper","iLen","jLen","createDeepMultiMapper","abstractMapper","mapFunDef","massageIndexDef","getKeyFromDoc","def","getIndexes$1","indexes","language","COLLATE_LO","COLLATE_HI","￿","checkFieldInIndex","indexFields","userOperatorLosesPrecision","sortFieldsByIndex","userFields","aIdx","bIdx","MAX_VALUE","getInMemoryFields","coreInMemoryFields","index_browser_es_uniq","needToFilterInMemory","getBasicInMemoryFields","getInMemoryFieldsFromNe","checkIndexFieldsMatch","sortOrder","sortMatches","oneArrayIsStrictSubArrayOfOther","selectorMatches","leftIdx","oneSetIsSubArrayOfOther","logicalMatchers","isNonLogicalMatcher","checkIndexMatches","matcherKey","checkFieldsLogicallySound","findBestMatchingIndex","useIndex","matchingIndexes","findMatchingIndexes","defaultIndex","defaultUsed","userFieldsMap","arrayToObject","useIndexDdoc","useIndexName","maxScore","score","indexField","getMultiFieldCoreQueryPlan","inclusive_start","getCoreQueryPlan","queryOpts","getDefaultQueryPlan","combinedOpts","newQueryOpts","getSingleFieldQueryOptsFor","getSingleFieldCoreQueryPlan","inclusiveStart","usingGtlt","previousKeys","previousWasEq","previousWasSame","userOperators","newOpts","getMultiFieldQueryOpts","planQuery","userFieldsRes","selectorFields","sortFields","rightIdx","getUserFields","use_index","coreQueryPlan","find$1","explain","massageSort","cleanedUseIndex","massageUseIndex","validateFindRequest","getIndexesRes","queryPlan","indexToUse","noneIdSorts","sortItem","validateSort","reverseOptions","originalOpts","doAllDocs","signature","indexToSignature","targetValue","docKey","filterInclusiveStart","index_browser_es_pick","warning","createIndexAsCallback","md5","originalIndexDef","getMd5","ascFields","validateIndex","ddocId","hasInvalidLanguage","viewExists","findAsCallback","explainAsCallback","dbname","range","bookmark","getIndexesAsCallback","deleteIndexAsCallback","index_browser_es_plugin","pouchdb_find_lib_index_browser_es","pouchdb_debug_lib_index_browser_es","PouchDB","src_browser_default","logs","logId","logArgs","POUCH_DB_OLD_VERSION","POUCH_DB_CURRENT_VERSION","database_Database","Database","genId","destroyOldDb","getDbName","index_es","version","plugin","onStart","processSidebar","sidebarEl","sidebar","containerEl","sidebarTriggerEl","evt","stopPropagation","classList","preventDefault","contains","sidebarAction","utils","extend","escapeExpression","string","toHTML","possible","badChars","escapeChar","isEmpty","createFrame","frame","_parent","blockParams","ids","appendContextPath","contextPath","escape","&","<",">","\"","'","`","=","chr","global","setImmediate","stringMd5","spark_md5__WEBPACK_IMPORTED_MODULE_1___default","_interopRequireDefault","default","HandlebarsEnvironment","_utils","_exception2","_helpers","_decorators","_logger2","VERSION","COMPILER_REVISION","REVISION_CHANGES","1","2","3","4","5","6","7","decorators","registerDefaultHelpers","registerDefaultDecorators","registerHelper","fn","unregisterHelper","registerPartial","partial","unregisterPartial","registerDecorator","unregisterDecorator","shiftFragment","graphql_tag__WEBPACK_IMPORTED_MODULE_1___default","tslib__WEBPACK_IMPORTED_MODULE_0__","thisAtob","atob","thisBtoa","btoa","binStringToBluffer","binString","properties","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","getBlob","createBlob","bin","binaryStringToArrayBuffer","b64ToBluffer","b64","readAsArrayBuffer","blob","reader","FileReader","onloadend","argsarray__WEBPACK_IMPORTED_MODULE_0___default","adapterFun","_closed","_destroyed","origCallback","responseArgs","logApiCall","taskqueue","isReady","addTask","failed","MAX_NUM_CONCURRENT_REQUESTS","identityFunction","formatResultForOpenRevsGet","bulkGet","requests","requestsById","numDocs","numDone","perDocResults","checkDone","collapseResultsAndFinish","allRequests","nextBatch","upTo","batch","docIdx","docRequests","docOpts","open_revs","formatResult","param","docIndex","gotResult","events__WEBPACK_IMPORTED_MODULE_2__","defaultBackOff","maxTimeout","randomNumber","explainError","inherits__WEBPACK_IMPORTED_MODULE_3___default","immediate__WEBPACK_IMPORTED_MODULE_1___default","$inject_Object_assign","MISSING_BULK_DOCS","MISSING_DOC","REV_CONFLICT","INVALID_ID","MISSING_ID","RESERVED_ID","BAD_ARG","QUERY_PARSE_ERROR","DOC_VALIDATION","BAD_REQUEST","NOT_AN_OBJECT","IDB_ERROR","INVALID_REV","MISSING_STUB","createError","CustomPouchError","filterChange","hasFilter","query_params","filterReturn","tryFilter","stub","invalidIdError","parseDesignDocFunctionName","normalizeDesignDocFunctionName","normalized","qName","qParser","parser","parseUri","encoded","decodeURIComponent","$0","$1","$2","scopeEval","readAsBinaryString","hasBinaryString","arrayBufferToBinaryString","blobToBinaryString","blobOrBuffer","blobToBase64","base64","setImmediateShim","MD5_CHUNK_SIZE","appendBlob","sliceBlob","arrayBuffer","appendString","binaryMd5","inputIsString","chunkSize","chunks","currentChunk","spark_md5__WEBPACK_IMPORTED_MODULE_4___default","loadNextChunk","rawToBase64","rev$$1","deterministic_revs","clonedDoc","_rev_tree","uuid__WEBPACK_IMPORTED_MODULE_5___default","uuid","winningRev","metadata","winningId","winningPos","winningDeleted","toVisit","rev_tree","tree","branches","pos","deleted","traverseRevTree","revs","newCtx","ctx","sortByPos","collectLeaves","isLeaf","acc","collectConflicts","win","leaf","rootToLeaf","paths","history","sortByPos$1","insertSorted","item","comparator","mid","low","high","binarySearch","pathToTree","numStemmed","root","currentLeaf","compareTree","mergeTree","in_tree1","in_tree2","tree1","tree2","merged","doMerge","dontExpand","restree","branch","t1","t2","candidateParents","trees","parent","parentIdx","elements","elementsLen","el","merge","depth","newTree","stemmed","stemmedRevs","revHash","stem","getTrees","isDeleted","isLocalId","Changes$1","ee","onDestroy","cancel","pending","lastSeq","isCancelled","tryCatchInChangeListener","validateChanges","changeList","_conflicts","yankError","compareByIdThenRev","idCompare","_revisions","AbstractPouchDB","backend","adapters","preferredAdapters","adapterName","use_prefix","parseAdapter","_adapter","valid","fail","onDestroyed","from_constructor","onClosed","prepareForDestruction","ready","_changesFilterPlugin","validate","doChanges","continuous","live","normalize","shouldFilter","newPromise","_changes","post","_putLocal","_removeLocal","putDoc","_put","new_edits","force","oldRevId","newRevNum","newRevId","transformForceOptionToNewEditsOption","putAttachment","attachmentId","api","createAttachment","prevrevpos","revpos","removeAttachment","docOrId","optsOrRev","was_delete","revsDiff","count","missing","addToMissing","revId","_getRevisionTree","missingForId","processDoc","missingObj","compactDocument","maxHeight","revTree","height","edges","prnt","edge","computeHeight","candidates","_doCompaction","compact","_compactionQueue","doNextCompaction","task","last_seq","_compact","promises","_getLocal","finishOpenRevs","latest","existing","_get","revs_info","splittedRev","revNo","currentPath","hashIndex","indexOfRev","howMany","_revs_info","_getAttachment","getAttachment","incompatibleOpt","allDocsKeysParse","_allDocs","_close","_info","_type","attachmentError","attachmentNameError","cleanDocs","_bulkDocs","dependentDb","depDB","dependentDbs","usePrefix","destroyDb","_destroy","localDoc","deletedMap","trueName","execute","abort","f$1","eventEmitter","Pouch","destructListeners","_destructionListeners","dbList","setUpEventEmitter","addToPreferredAdapters","__defaults","defaults","defaultOpts","PouchAlt","compare$1","matchesSelector","rowsMatched","filterName","changesHandler","doc_ids","evalView","filterFun","filters","evalFilter","toObject","reservedWords","dataWords","parseRevisionInfo","parseDoc","newEdits","dbOpts","nRevNum","revInfo","revisions","revisionIds","makeRevTreeFromRevisions","specialKey","preprocessString","blobType","asBinary","parseBase64","digest","preprocessAttachment","preprocessBlob","updateDoc","revLimit","docInfo","writeDoc","splitRev","targetPos","targetId","revExists","previousWinningRev","previouslyDeleted","isRoot","newRev","rev_map","winningRev$$1","winningRevIsDeleted","delta","processDocs","docInfos","fetchedDocs","tx","overallCallback","idsToDocs","docsDone","docsToDo","checkAllDocsDone","currentDoc","resultsIdx","docWritten","nextDoc","rootIsMissing","insertDoc","ADAPTER_VERSION","DOC_STORE","BY_SEQ_STORE","ATTACH_STORE","ATTACH_AND_SEQ_STORE","META_STORE","LOCAL_STORE","DETECT_BLOB_SUPPORT_STORE","idbError","encodeMetadata","vuvuzela__WEBPACK_IMPORTED_MODULE_6___default","safeJsonStringify","deletedOrLocal","decodeMetadata","storedObject","safeJsonParse","decodeDoc","_doc_id_rev","lastIndexOf","readBlobData","asBlob","fetchAttachmentsIfNecessary","txn","attObj","objectStore","onsuccess","fetchAttachment","postProcessAttachments","attNames","compactRevs","possiblyOrphanedDigests","seqStore","attStore","attAndSeqStore","countReq","IDBKeyRange","bound","deleteOrphanedAttachments","openCursor","only","cursor","digestSeq","primaryKey","continue","openTransactionSafely","idb","stores","transaction","idbBulkDocs","docStore","bySeqStore","attachStore","attachAndSeqStore","metaStore","docInfoError","allDocsProcessed","docCountDelta","preconditionErrored","_meta","blobSupport","onAllDocsProcessed","updateDocCountIfReady","docCount","newRevIsDeleted","isUpdate","collectResults","finishDoc","attachmentSaved","newAtt","putReq","saveAttachment","writeAttachments","afterPutDoc","revsToDelete","compactTree","metadataToStore","afterPutMetadata","attsAdded","attsToAdd","insertAttachmentMappings","overallErr","docv","recv","processedAttachment","preprocessAttachments","txnResult","onabort","oncomplete","digests","verifyAttachment","attErr","verifyAttachments","numFetched","revs_limit","readMetadata","fetchExistingDocs","startTransaction","runBatchedCursor","keyRange","batchSize","onBatch","keysBatch","valuesBatch","pseudoCursor","onGetAll","onGetAllKeys","onCursor","getAll","getAllKeys","newKeyRange","upper","upperOpen","lowerBound","idbAllDocs","keyRangeError","upperBound","createKeyRange","onResultsReady","updateSeq","docIdRevIndex","allDocsInner","fetchDocAsynchronously","batchValues","batchValue","batchKeys","returnVal","onSuccess","maxKey","getMaxUpdateSeq","allDocsKeys","running","applyNext","numResults","docIdsToMetadata","onGetMetadata","docIdRev","objectStores","winningDocs","metadatas","fetchWinningDocAndMetadata","winningDoc","processMetadataAndWinningDoc","onBatchDone","filtered","blobSupportPromise","cachedDBs","openReqList","IdbPouch","tryCode","enqueueTask","thisCallback","addDeletedOrLocalIndex","unique","migrateLocalStore","localStore","local","seqCursor","migrateAttsAndSeqs","digestMap","migrateMetadata","decodeMetadataCompat","onGetMetadataSeq","metadataSeq","fetchMetadataSeq","instanceId","reqOpts","historyNode","attachId","attachment","blobData","doc_count","idb_attachment_format","oldRev","oStore","oldDoc","openReq","indexedDB","deleteDatabase","cached","onupgradeneeded","oldVersion","createObjectStore","keyPath","autoIncrement","createSchema","currentTarget","createLocalStoreSchema","addAttachAndSeqStore","migrations","migration","onversionchange","storedMetaDoc","completeSetup","storeMetaDocIfReady","instanceKey","countDocs","blob$$1","matchedChrome","userAgent","matchedEdge","checkBlobSupport","MAX_SIMULTANEOUS_REVS","CHANGES_TIMEOUT_BUFFER","DEFAULT_HEARTBEAT","supportsBulkGetMap","encodeDocId","preprocessAttachments$1","getHost","hasUrlPrefix","user","password","auth","username","genDBUrl","genUrl","pathDel","port","paramsToStr","HttpPouch","dbUrl","setupPromise","ourFetch","nAuth","ua","isIE","isTrident","isEdge","isGET","shouldCacheBust","now","adapterFun$$1","setup","fetchJSON","skip_setup","encodeAttachmentId","uuid$$1","ping","compact_running","interval","doBulkGet","doBulkGetShim","numBatches","onResult","batchNum","subOpts","supportsBulkGet","fetchAttachments","filenames","promiseFactories","doNext","runNextBatch","thisErr","pool","process","browser","fetchData","docOrDocs","fetchAllAttachments","contentType","paramStr","batch_size","heartbeat","requestTimeout","leftToFetch","feed","seq_interval","param_name","lastFetchedSeq","aborted","fetchOpts","signal","fetched","raw_results_length","finished","createBuiltInError","sum","jNum","evalFunctionWithEval","TaskQueue$1","CHANGES_BATCH_SIZE$1","builtInReduce","_sum","_count","_stats","sumsqr","_sumsqr","abstract","createAbstractMapReduce","origMap","reduceFunString","builtIn","getBuiltIn","mapreduce","isGenOne$1","getDocAttachments","getDocs","src","diffs","resultDocs","fetchRevisionOneDocs","hasAttachments","hasConflicts","bulkGetOpts","missingRev","createBulkGetOpts","bulkGetResponse","bulkGetInfo","remoteDoc","doCheckForLocalAttachments","fileHasChanged","getDocAttachmentsFromTargetOrSource","Boolean","CHECKPOINT_VERSION","REPLICATOR","CHECKPOINT_HISTORY_SIZE","LOWEST_SEQ","updateCheckpoint","checkpoint","session","returnValue","session_id","replicator","Checkpointer","writeCheckpoint","updateTarget","updateSource","writeTargetCheckpoint","writeSourceCheckpoint","isForbiddenError","comparisons","targetDoc","sourceDoc","srcDoc","tgtDoc","compareReplicationHistory","sourceHistory","targetHistory","S","sourceRest","T","targetRest","sourceId","hasSessionId","compareReplicationLogs","sessionId","rest","getCheckpoint","STARTING_BACK_OFF","generateReplicationId","queryParams","filterViewName","sortObjectPropertiesByKey","queryData","md5sum","replicate","currentBatch","repId","checkpointer","batches","pendingBatch","writingCheckpoint","changesCompleted","replicationCompleted","batches_limit","changesPending","changedDocs","start_time","docs_read","docs_written","doc_write_failures","initCheckpointer","checkpointOpts","writeDocs","bulkOpts","completeReplication","errorsById","errorsNo","errorName","finishBatch","outResult","getChanges","onCheckpointError","getBatchDocs","got","startNextBatch","getDiffs","abortReplication","processPendingBatch","immediate","fatalError","end_time","retry","back_off_function","backOffSet","current_back_off","backOff","onChangesComplete","onChangesError","_abortChanges","abortChanges","startChanges","_addedListeners","Replication","toPouch","PouchConstructor","replicateWrapper","replicateRet","sync","Sync","canceled","optsPush","optsPull","pull","pullChange","direction","pushChange","pushDenied","pullDenied","pushPaused","pullPaused","pushActive","pullActive","removed","removeAll","addOneListener","out","success","_readyCalled","replicateMethods","other","__webpack_exports__","_interopRequireWildcard","newObj","base","_handlebarsSafeString2","_handlebarsException2","Utils","runtime","_handlebarsNoConflict2","hb","SafeString","VM","spec","inst","_helpersBlockHelperMissing2","_helpersEach2","_helpersHelperMissing2","_helpersIf2","_helpersLog2","_helpersLookup2","_helpersWith2","inverse","each","execIteration","priorKey","conditional","includeZero","level","trim","docCache","fragmentSourceMap","cacheKeyFromLoc","printFragmentWarnings","experimentalFragmentVariables","parseDocument","cacheKey","parsed","stripLoc","removeLocAtThisLevel","docType","startToken","endToken","valueType","ast","astFragmentMap","definitions","fragmentDefinition","fragmentName","sourceKey","warn","processFragments","gql","literals","resetCaches","disableFragmentWarnings","enableExperimentalFragmentVariables","disableExperimentalFragmentVariables","_decoratorsInline2","original","methodMap","lookupLevel","levelMap","_len","_key","checkRevision","compilerInfo","compilerRevision","currentRevision","_base","runtimeVersions","compilerVersions","templateSpec","env","decorator","main_d","strict","lookup","depths","lambda","invokePartial","resolvePartial","compile","compilerOptions","indent","lines","programs","program","declaredBlockParams","programWrapper","wrapProgram","common","nullContext","seal","noop","_setup","initData","useBlockParams","useDepths","executeDecorators","isTop","usePartial","useDecorators","_child","currentPartialBlock","partialBlock","prog","currentDepths","$Handlebars","noConflict","SHIFT_TYPENAME","NEW_SHIFT_URL_TYPENAME","OFFLINE_TOKEN_TYPENAME","DATA_CHANNEL_TOPIC_GRAPHQL","capitalize","toUpperCase","docReady","isServerRendered","querySelector","invariant","condition","source_Source","Source","locationOffset","getLocation","lineRegexp","highlightSourceAtLocation","lineOffset","columnOffset","getColumnOffset","contextLine","contextColumn","prevLineNum","lineNum","nextLineNum","padLen","whitespace","lpad","GraphQLError","nodes","positions","originalError","extensions","_nodes","_source","_positions","_locations","locations","syntaxError","description","printedLocations","printError","blockStringValue","rawString","commonIndent","leadingWhitespace","isBlank","createLexer","startOfFileToken","Tok","TokenKind","SOF","lastToken","lineStart","advance","advanceLexer","lookahead","EOF","readToken","COMMENT","freeze","BANG","DOLLAR","AMP","PAREN_L","PAREN_R","SPREAD","COLON","EQUALS","AT","BRACKET_L","BRACKET_R","BRACE_L","PIPE","BRACE_R","NAME","INT","FLOAT","STRING","BLOCK_STRING","getTokenDesc","printCharCode","lexer","bodyLength","startPosition","positionAfterWhitespace","col","readComment","readName","firstCode","isFloat","readDigits","readNumber","chunkStart","rawValue","readBlockString","charCode","uniCharCode","readString","unexpectedCharacterMessage","char2hex","inspect","Kind","DOCUMENT","OPERATION_DEFINITION","VARIABLE_DEFINITION","VARIABLE","SELECTION_SET","FIELD","ARGUMENT","FRAGMENT_SPREAD","INLINE_FRAGMENT","FRAGMENT_DEFINITION","BOOLEAN","NULL","ENUM","LIST","OBJECT","OBJECT_FIELD","DIRECTIVE","NAMED_TYPE","LIST_TYPE","NON_NULL_TYPE","SCHEMA_DEFINITION","OPERATION_TYPE_DEFINITION","SCALAR_TYPE_DEFINITION","OBJECT_TYPE_DEFINITION","FIELD_DEFINITION","INPUT_VALUE_DEFINITION","INTERFACE_TYPE_DEFINITION","UNION_TYPE_DEFINITION","ENUM_TYPE_DEFINITION","ENUM_VALUE_DEFINITION","INPUT_OBJECT_TYPE_DEFINITION","SCALAR_TYPE_EXTENSION","OBJECT_TYPE_EXTENSION","INTERFACE_TYPE_EXTENSION","UNION_TYPE_EXTENSION","ENUM_TYPE_EXTENSION","INPUT_OBJECT_TYPE_EXTENSION","DIRECTIVE_DEFINITION","DirectiveLocation","QUERY","MUTATION","SUBSCRIPTION","SCHEMA","SCALAR","ARGUMENT_DEFINITION","INTERFACE","UNION","ENUM_VALUE","INPUT_OBJECT","INPUT_FIELD_DEFINITION","sourceObj","expect","parseDefinition","parseValue","parseValueLiteral","parseType","parseTypeReference","parseName","peek","parseExecutableDefinition","parseTypeSystemDefinition","peekDescription","unexpected","parseOperationDefinition","expectKeyword","parseFragmentName","variableDefinitions","parseVariableDefinitions","typeCondition","parseNamedType","directives","parseDirectives","selectionSet","parseSelectionSet","parseFragmentDefinition","operation","parseOperationType","operationToken","many","parseVariableDefinition","variable","parseVariable","defaultValue","selections","parseSelection","parseFragment","nameOrAlias","alias","parseArguments","isConst","parseConstArgument","parseArgument","parseConstValue","parseValueValue","openKind","parseFn","closeKind","any","parseList","parseObjectField","parseObject","parseStringLiteral","block","parseDirective","keywordToken","operationTypes","parseOperationTypeDefinition","parseSchemaDefinition","parseDescription","parseScalarTypeDefinition","interfaces","parseImplementsInterfaces","parseFieldsDefinition","parseObjectTypeDefinition","parseInterfaceTypeDefinition","types","parseUnionMemberTypes","parseUnionTypeDefinition","parseEnumValuesDefinition","parseEnumTypeDefinition","parseInputFieldsDefinition","parseInputObjectTypeDefinition","parseScalarTypeExtension","parseObjectTypeExtension","parseInterfaceTypeExtension","parseUnionTypeExtension","parseEnumTypeExtension","parseInputObjectTypeExtension","parseTypeExtension","parseArgumentDefs","parseDirectiveLocation","parseDirectiveLocations","parseDirectiveDefinition","allowLegacySDLImplementsInterfaces","allowLegacySDLEmptyFields","parseFieldDefinition","parseInputValueDef","parseEnumValueDefinition","noLocation","Loc","atToken","v1","arrayPrefix","objPrefix","numChar","parsedString","lastCh","numConsecutiveSlashes","load","storage","DEBUG","lastC","removeItem","documentElement","WebkitAppearance","firebug","exception","table","chrome","localstorage","scheduleDrain","draining","Mutation","MutationObserver","WebKitMutationObserver","observer","nextTick","createTextNode","observe","characterData","MessageChannel","createElement","scriptEl","parentNode","removeChild","appendChild","port1","port2","oldQueue","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","title","argv","versions","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","getRandomValues","crypto","msCrypto","rnds8","byteToHex","bth"],"mappings":"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","file":"js/commons.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 291);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","'use strict';\n\nmodule.exports = argsArray;\n\nfunction argsArray(fun) {\n  return function () {\n    var len = arguments.length;\n    if (len) {\n      var args = [];\n      var i = -1;\n      while (++i < len) {\n        args[i] = arguments[i];\n      }\n      return fun.call(this, args);\n    } else {\n      return fun.call(this, []);\n    }\n  };\n}","import { DocumentNode } from \"graphql\";\nimport { GraphQLError } from \"graphql\";\n\nimport { capitalize } from \"../utils/utils\";\n\nexport const toRunableDocument = <TGraphQLVariables>(\n  document: DocumentNode,\n  variables?: TGraphQLVariables\n) => {\n  return {\n    query: document.loc && document.loc.source.body,\n    variables\n  };\n};\n\nexport const stringifyGraphQlErrors = (\n  path: string,\n  { errors }: { errors: GraphQLError[] }\n) => {\n  const prevVal = [] as string[];\n\n  return errors\n    .reduce((prev, e) => {\n      if (e.path && e.path[0] === path) {\n        return [...prev, e.message];\n      }\n\n      return prev;\n    }, prevVal)\n    .join(\" | \");\n};\n\nexport const htmlfyGraphQlErrors = (\n  path: string,\n  { errors }: { errors: GraphQLError[] }\n) => {\n  const prevVal = [] as string[];\n\n  return errors\n    .reduce((prev, e) => {\n      if (e.path && e.path[0] === path) {\n        const msg = JSON.parse(e.message);\n        const html = Object.keys(msg)\n          .map(\n            (m: string) => `\n          <div>\n            <span class=\"error-key\" >${capitalize(m)}</span>\n            <span class=\"error-value\" >${msg[m]}</span>\n          </div>\n        `\n          )\n          .join(\"\\n\");\n\n        return [...prev, html];\n      }\n\n      return prev;\n    }, prevVal)\n    .join(\"\\n\");\n};\n","'use strict';\n\nexports.__esModule = true;\n\nvar errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      column = undefined;\n  if (loc) {\n    line = loc.start.line;\n    column = loc.start.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsSUFBTSxVQUFVLEdBQUcsQ0FBQyxhQUFhLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQzs7QUFFbkcsU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUNoQyxNQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUc7TUFDdEIsSUFBSSxZQUFBO01BQ0osTUFBTSxZQUFBLENBQUM7QUFDWCxNQUFJLEdBQUcsRUFBRTtBQUNQLFFBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztBQUN0QixVQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7O0FBRTFCLFdBQU8sSUFBSSxLQUFLLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUM7R0FDeEM7O0FBRUQsTUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQzs7O0FBRzFELE9BQUssSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxFQUFFO0FBQ2hELFFBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7R0FDOUM7OztBQUdELE1BQUksS0FBSyxDQUFDLGlCQUFpQixFQUFFO0FBQzNCLFNBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7R0FDMUM7O0FBRUQsTUFBSTtBQUNGLFFBQUksR0FBRyxFQUFFO0FBQ1AsVUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7Ozs7QUFJdkIsVUFBSSxNQUFNLENBQUMsY0FBYyxFQUFFO0FBQ3pCLGNBQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtBQUNwQyxlQUFLLEVBQUUsTUFBTTtBQUNiLG9CQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7T0FDSixNQUFNO0FBQ0wsWUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7T0FDdEI7S0FDRjtHQUNGLENBQUMsT0FBTyxHQUFHLEVBQUU7O0dBRWI7Q0FDRjs7QUFFRCxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7O3FCQUVuQixTQUFTIiwiZmlsZSI6ImV4Y2VwdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgZXJyb3JQcm9wcyA9IFsnZGVzY3JpcHRpb24nLCAnZmlsZU5hbWUnLCAnbGluZU51bWJlcicsICdtZXNzYWdlJywgJ25hbWUnLCAnbnVtYmVyJywgJ3N0YWNrJ107XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgICAgbGluZSxcbiAgICAgIGNvbHVtbjtcbiAgaWYgKGxvYykge1xuICAgIGxpbmUgPSBsb2Muc3RhcnQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcblxuICAgICAgLy8gV29yayBhcm91bmQgaXNzdWUgdW5kZXIgc2FmYXJpIHdoZXJlIHdlIGNhbid0IGRpcmVjdGx5IHNldCB0aGUgY29sdW1uIHZhbHVlXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogY29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKG5vcCkge1xuICAgIC8qIElnbm9yZSBpZiB0aGUgYnJvd3NlciBpcyB2ZXJ5IHBhcnRpY3VsYXIgKi9cbiAgfVxufVxuXG5FeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5cbmV4cG9ydCBkZWZhdWx0IEV4Y2VwdGlvbjtcbiJdfQ==\n","(function (global, factory) {\ntypeof exports === 'object' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\nfactory(global.Phoenix = global.Phoenix || {});\n}(this, (function (exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Phoenix Channels JavaScript client\n *\n * ## Socket Connection\n *\n * A single connection is established to the server and\n * channels are multiplexed over the connection.\n * Connect to the server using the `Socket` class:\n *\n * ```javascript\n *     let socket = new Socket(\"/socket\", {params: {userToken: \"123\"}})\n *     socket.connect()\n * ```\n *\n * The `Socket` constructor takes the mount point of the socket,\n * the authentication params, as well as options that can be found in\n * the Socket docs, such as configuring the `LongPoll` transport, and\n * heartbeat.\n *\n * ## Channels\n *\n * Channels are isolated, concurrent processes on the server that\n * subscribe to topics and broker events between the client and server.\n * To join a channel, you must provide the topic, and channel params for\n * authorization. Here's an example chat room example where `\"new_msg\"`\n * events are listened for, messages are pushed to the server, and\n * the channel is joined with ok/error/timeout matches:\n *\n * ```javascript\n *     let channel = socket.channel(\"room:123\", {token: roomToken})\n *     channel.on(\"new_msg\", msg => console.log(\"Got message\", msg) )\n *     $input.onEnter( e => {\n *       channel.push(\"new_msg\", {body: e.target.val}, 10000)\n *        .receive(\"ok\", (msg) => console.log(\"created message\", msg) )\n *        .receive(\"error\", (reasons) => console.log(\"create failed\", reasons) )\n *        .receive(\"timeout\", () => console.log(\"Networking issue...\") )\n *     })\n *     channel.join()\n *       .receive(\"ok\", ({messages}) => console.log(\"catching up\", messages) )\n *       .receive(\"error\", ({reason}) => console.log(\"failed join\", reason) )\n *       .receive(\"timeout\", () => console.log(\"Networking issue. Still waiting...\") )\n *```\n *\n * ## Joining\n *\n * Creating a channel with `socket.channel(topic, params)`, binds the params to\n * `channel.params`, which are sent up on `channel.join()`.\n * Subsequent rejoins will send up the modified params for\n * updating authorization params, or passing up last_message_id information.\n * Successful joins receive an \"ok\" status, while unsuccessful joins\n * receive \"error\".\n *\n * ## Duplicate Join Subscriptions\n *\n * While the client may join any number of topics on any number of channels,\n * the client may only hold a single subscription for each unique topic at any\n * given time. When attempting to create a duplicate subscription,\n * the server will close the existing channel, log a warning, and\n * spawn a new channel for the topic. The client will have their\n * `channel.onClose` callbacks fired for the existing channel, and the new\n * channel join will have its receive hooks processed as normal.\n *\n * ## Pushing Messages\n *\n * From the previous example, we can see that pushing messages to the server\n * can be done with `channel.push(eventName, payload)` and we can optionally\n * receive responses from the push. Additionally, we can use\n * `receive(\"timeout\", callback)` to abort waiting for our other `receive` hooks\n *  and take action after some period of waiting. The default timeout is 5000ms.\n *\n *\n * ## Socket Hooks\n *\n * Lifecycle events of the multiplexed connection can be hooked into via\n * `socket.onError()` and `socket.onClose()` events, ie:\n *\n * ```javascript\n *     socket.onError( () => console.log(\"there was an error with the connection!\") )\n *     socket.onClose( () => console.log(\"the connection dropped\") )\n * ```\n *\n *\n * ## Channel Hooks\n *\n * For each joined channel, you can bind to `onError` and `onClose` events\n * to monitor the channel lifecycle, ie:\n *\n * ```javascript\n *     channel.onError( () => console.log(\"there was an error!\") )\n *     channel.onClose( () => console.log(\"the channel has gone away gracefully\") )\n * ```\n *\n * ### onError hooks\n *\n * `onError` hooks are invoked if the socket connection drops, or the channel\n * crashes on the server. In either case, a channel rejoin is attempted\n * automatically in an exponential backoff manner.\n *\n * ### onClose hooks\n *\n * `onClose` hooks are invoked only in two cases. 1) the channel explicitly\n * closed on the server, or 2). The client explicitly closed, by calling\n * `channel.leave()`\n *\n *\n * ## Presence\n *\n * The `Presence` object provides features for syncing presence information\n * from the server with the client and handling presences joining and leaving.\n *\n * ### Syncing initial state from the server\n *\n * `Presence.syncState` is used to sync the list of presences on the server\n * with the client's state. An optional `onJoin` and `onLeave` callback can\n * be provided to react to changes in the client's local presences across\n * disconnects and reconnects with the server.\n *\n * `Presence.syncDiff` is used to sync a diff of presence join and leave\n * events from the server, as they happen. Like `syncState`, `syncDiff`\n * accepts optional `onJoin` and `onLeave` callbacks to react to a user\n * joining or leaving from a device.\n *\n * ### Listing Presences\n *\n * `Presence.list` is used to return a list of presence information\n * based on the local state of metadata. By default, all presence\n * metadata is returned, but a `listBy` function can be supplied to\n * allow the client to select which metadata to use for a given presence.\n * For example, you may have a user online from different devices with\n * a metadata status of \"online\", but they have set themselves to \"away\"\n * on another device. In this case, the app may choose to use the \"away\"\n * status for what appears on the UI. The example below defines a `listBy`\n * function which prioritizes the first metadata which was registered for\n * each user. This could be the first tab they opened, or the first device\n * they came online from:\n *\n * ```javascript\n *     let state = {}\n *     state = Presence.syncState(state, stateFromServer)\n *     let listBy = (id, {metas: [first, ...rest]}) => {\n *       first.count = rest.length + 1 // count of this user's presences\n *       first.id = id\n *       return first\n *     }\n *     let onlineUsers = Presence.list(state, listBy)\n * ```\n *\n *\n * ### Example Usage\n *```javascript\n *     // detect if user has joined for the 1st time or from another tab/device\n *     let onJoin = (id, current, newPres) => {\n *       if(!current){\n *         console.log(\"user has entered for the first time\", newPres)\n *       } else {\n *         console.log(\"user additional presence\", newPres)\n *       }\n *     }\n *     // detect if user has left from all tabs/devices, or is still present\n *     let onLeave = (id, current, leftPres) => {\n *       if(current.metas.length === 0){\n *         console.log(\"user has left from all devices\", leftPres)\n *       } else {\n *         console.log(\"user left from a device\", leftPres)\n *       }\n *     }\n *     let presences = {} // client's initial empty presence state\n *     // receive initial presence data from server, sent after join\n *     myChannel.on(\"presence_state\", state => {\n *       presences = Presence.syncState(presences, state, onJoin, onLeave)\n *       displayUsers(Presence.list(presences))\n *     })\n *     // receive \"presence_diff\" from server, containing join/leave events\n *     myChannel.on(\"presence_diff\", diff => {\n *       presences = Presence.syncDiff(presences, diff, onJoin, onLeave)\n *       this.setState({users: Presence.list(room.presences, listBy)})\n *     })\n * ```\n * @module phoenix\n */\n\nvar VSN = \"2.0.0\";\nvar SOCKET_STATES = { connecting: 0, open: 1, closing: 2, closed: 3 };\nvar DEFAULT_TIMEOUT = 10000;\nvar WS_CLOSE_NORMAL = 1000;\nvar CHANNEL_STATES = {\n  closed: \"closed\",\n  errored: \"errored\",\n  joined: \"joined\",\n  joining: \"joining\",\n  leaving: \"leaving\"\n};\nvar CHANNEL_EVENTS = {\n  close: \"phx_close\",\n  error: \"phx_error\",\n  join: \"phx_join\",\n  reply: \"phx_reply\",\n  leave: \"phx_leave\"\n};\nvar CHANNEL_LIFECYCLE_EVENTS = [CHANNEL_EVENTS.close, CHANNEL_EVENTS.error, CHANNEL_EVENTS.join, CHANNEL_EVENTS.reply, CHANNEL_EVENTS.leave];\nvar TRANSPORTS = {\n  longpoll: \"longpoll\",\n  websocket: \"websocket\"\n};\n\n/**\n * Initializes the Push\n * @param {Channel} channel - The Channel\n * @param {string} event - The event, for example `\"phx_join\"`\n * @param {Object} payload - The payload, for example `{user_id: 123}`\n * @param {number} timeout - The push timeout in milliseconds\n */\n\nvar Push = function () {\n  function Push(channel, event, payload, timeout) {\n    _classCallCheck(this, Push);\n\n    this.channel = channel;\n    this.event = event;\n    this.payload = payload || {};\n    this.receivedResp = null;\n    this.timeout = timeout;\n    this.timeoutTimer = null;\n    this.recHooks = [];\n    this.sent = false;\n  }\n\n  /**\n   *\n   * @param {number} timeout\n   */\n\n\n  _createClass(Push, [{\n    key: \"resend\",\n    value: function resend(timeout) {\n      this.timeout = timeout;\n      this.reset();\n      this.send();\n    }\n\n    /**\n     *\n     */\n\n  }, {\n    key: \"send\",\n    value: function send() {\n      if (this.hasReceived(\"timeout\")) {\n        return;\n      }\n      this.startTimeout();\n      this.sent = true;\n      this.channel.socket.push({\n        topic: this.channel.topic,\n        event: this.event,\n        payload: this.payload,\n        ref: this.ref,\n        join_ref: this.channel.joinRef()\n      });\n    }\n\n    /**\n     *\n     * @param {*} status\n     * @param {*} callback\n     */\n\n  }, {\n    key: \"receive\",\n    value: function receive(status, callback) {\n      if (this.hasReceived(status)) {\n        callback(this.receivedResp.response);\n      }\n\n      this.recHooks.push({ status: status, callback: callback });\n      return this;\n    }\n\n    // private\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.cancelRefEvent();\n      this.ref = null;\n      this.refEvent = null;\n      this.receivedResp = null;\n      this.sent = false;\n    }\n  }, {\n    key: \"matchReceive\",\n    value: function matchReceive(_ref) {\n      var status = _ref.status,\n          response = _ref.response,\n          ref = _ref.ref;\n\n      this.recHooks.filter(function (h) {\n        return h.status === status;\n      }).forEach(function (h) {\n        return h.callback(response);\n      });\n    }\n  }, {\n    key: \"cancelRefEvent\",\n    value: function cancelRefEvent() {\n      if (!this.refEvent) {\n        return;\n      }\n      this.channel.off(this.refEvent);\n    }\n  }, {\n    key: \"cancelTimeout\",\n    value: function cancelTimeout() {\n      clearTimeout(this.timeoutTimer);\n      this.timeoutTimer = null;\n    }\n  }, {\n    key: \"startTimeout\",\n    value: function startTimeout() {\n      var _this = this;\n\n      if (this.timeoutTimer) {\n        this.cancelTimeout();\n      }\n      this.ref = this.channel.socket.makeRef();\n      this.refEvent = this.channel.replyEventName(this.ref);\n\n      this.channel.on(this.refEvent, function (payload) {\n        _this.cancelRefEvent();\n        _this.cancelTimeout();\n        _this.receivedResp = payload;\n        _this.matchReceive(payload);\n      });\n\n      this.timeoutTimer = setTimeout(function () {\n        _this.trigger(\"timeout\", {});\n      }, this.timeout);\n    }\n  }, {\n    key: \"hasReceived\",\n    value: function hasReceived(status) {\n      return this.receivedResp && this.receivedResp.status === status;\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(status, response) {\n      this.channel.trigger(this.refEvent, { status: status, response: response });\n    }\n  }]);\n\n  return Push;\n}();\n\n/**\n *\n * @param {string} topic\n * @param {Object} params\n * @param {Socket} socket\n */\n\n\nvar Channel = exports.Channel = function () {\n  function Channel(topic, params, socket) {\n    var _this2 = this;\n\n    _classCallCheck(this, Channel);\n\n    this.state = CHANNEL_STATES.closed;\n    this.topic = topic;\n    this.params = params || {};\n    this.socket = socket;\n    this.bindings = [];\n    this.timeout = this.socket.timeout;\n    this.joinedOnce = false;\n    this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n    this.pushBuffer = [];\n    this.rejoinTimer = new Timer(function () {\n      return _this2.rejoinUntilConnected();\n    }, this.socket.reconnectAfterMs);\n    this.joinPush.receive(\"ok\", function () {\n      _this2.state = CHANNEL_STATES.joined;\n      _this2.rejoinTimer.reset();\n      _this2.pushBuffer.forEach(function (pushEvent) {\n        return pushEvent.send();\n      });\n      _this2.pushBuffer = [];\n    });\n    this.onClose(function () {\n      _this2.rejoinTimer.reset();\n      _this2.socket.log(\"channel\", \"close \" + _this2.topic + \" \" + _this2.joinRef());\n      _this2.state = CHANNEL_STATES.closed;\n      _this2.socket.remove(_this2);\n    });\n    this.onError(function (reason) {\n      if (_this2.isLeaving() || _this2.isClosed()) {\n        return;\n      }\n      _this2.socket.log(\"channel\", \"error \" + _this2.topic, reason);\n      _this2.state = CHANNEL_STATES.errored;\n      _this2.rejoinTimer.scheduleTimeout();\n    });\n    this.joinPush.receive(\"timeout\", function () {\n      if (!_this2.isJoining()) {\n        return;\n      }\n      _this2.socket.log(\"channel\", \"timeout \" + _this2.topic + \" (\" + _this2.joinRef() + \")\", _this2.joinPush.timeout);\n      var leavePush = new Push(_this2, CHANNEL_EVENTS.leave, {}, _this2.timeout);\n      leavePush.send();\n      _this2.state = CHANNEL_STATES.errored;\n      _this2.joinPush.reset();\n      _this2.rejoinTimer.scheduleTimeout();\n    });\n    this.on(CHANNEL_EVENTS.reply, function (payload, ref) {\n      _this2.trigger(_this2.replyEventName(ref), payload);\n    });\n  }\n\n  _createClass(Channel, [{\n    key: \"rejoinUntilConnected\",\n    value: function rejoinUntilConnected() {\n      this.rejoinTimer.scheduleTimeout();\n      if (this.socket.isConnected()) {\n        this.rejoin();\n      }\n    }\n  }, {\n    key: \"join\",\n    value: function join() {\n      var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.timeout;\n\n      if (this.joinedOnce) {\n        throw \"tried to join multiple times. 'join' can only be called a single time per channel instance\";\n      } else {\n        this.joinedOnce = true;\n        this.rejoin(timeout);\n        return this.joinPush;\n      }\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(callback) {\n      this.on(CHANNEL_EVENTS.close, callback);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(callback) {\n      this.on(CHANNEL_EVENTS.error, function (reason) {\n        return callback(reason);\n      });\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      this.bindings.push({ event: event, callback: callback });\n    }\n  }, {\n    key: \"off\",\n    value: function off(event) {\n      this.bindings = this.bindings.filter(function (bind) {\n        return bind.event !== event;\n      });\n    }\n  }, {\n    key: \"canPush\",\n    value: function canPush() {\n      return this.socket.isConnected() && this.isJoined();\n    }\n  }, {\n    key: \"push\",\n    value: function push(event, payload) {\n      var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.timeout;\n\n      if (!this.joinedOnce) {\n        throw \"tried to push '\" + event + \"' to '\" + this.topic + \"' before joining. Use channel.join() before pushing events\";\n      }\n      var pushEvent = new Push(this, event, payload, timeout);\n      if (this.canPush()) {\n        pushEvent.send();\n      } else {\n        pushEvent.startTimeout();\n        this.pushBuffer.push(pushEvent);\n      }\n\n      return pushEvent;\n    }\n\n    /** Leaves the channel\n     *\n     * Unsubscribes from server events, and\n     * instructs channel to terminate on server\n     *\n     * Triggers onClose() hooks\n     *\n     * To receive leave acknowledgements, use the a `receive`\n     * hook to bind to the server ack, ie:\n     *\n     * ```javascript\n     *     channel.leave().receive(\"ok\", () => alert(\"left!\") )\n     * ```\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave() {\n      var _this3 = this;\n\n      var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.timeout;\n\n      this.state = CHANNEL_STATES.leaving;\n      var onClose = function onClose() {\n        _this3.socket.log(\"channel\", \"leave \" + _this3.topic);\n        _this3.trigger(CHANNEL_EVENTS.close, \"leave\");\n      };\n      var leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n      leavePush.receive(\"ok\", function () {\n        return onClose();\n      }).receive(\"timeout\", function () {\n        return onClose();\n      });\n      leavePush.send();\n      if (!this.canPush()) {\n        leavePush.trigger(\"ok\", {});\n      }\n\n      return leavePush;\n    }\n\n    /**\n     * Overridable message hook\n     *\n     * Receives all events for specialized message handling\n     * before dispatching to the channel callbacks.\n     *\n     * Must return the payload, modified or unmodified\n     */\n\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(event, payload, ref) {\n      return payload;\n    }\n\n    // private\n\n  }, {\n    key: \"isMember\",\n    value: function isMember(topic, event, payload, joinRef) {\n      if (this.topic !== topic) {\n        return false;\n      }\n      var isLifecycleEvent = CHANNEL_LIFECYCLE_EVENTS.indexOf(event) >= 0;\n\n      if (joinRef && isLifecycleEvent && joinRef !== this.joinRef()) {\n        this.socket.log(\"channel\", \"dropping outdated message\", { topic: topic, event: event, payload: payload, joinRef: joinRef });\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"joinRef\",\n    value: function joinRef() {\n      return this.joinPush.ref;\n    }\n  }, {\n    key: \"sendJoin\",\n    value: function sendJoin(timeout) {\n      this.state = CHANNEL_STATES.joining;\n      this.joinPush.resend(timeout);\n    }\n  }, {\n    key: \"rejoin\",\n    value: function rejoin() {\n      var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.timeout;\n      if (this.isLeaving()) {\n        return;\n      }\n      this.sendJoin(timeout);\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(event, payload, ref, joinRef) {\n      var _this4 = this;\n\n      var handledPayload = this.onMessage(event, payload, ref, joinRef);\n      if (payload && !handledPayload) {\n        throw \"channel onMessage callbacks must return the payload, modified or unmodified\";\n      }\n\n      this.bindings.filter(function (bind) {\n        return bind.event === event;\n      }).map(function (bind) {\n        return bind.callback(handledPayload, ref, joinRef || _this4.joinRef());\n      });\n    }\n  }, {\n    key: \"replyEventName\",\n    value: function replyEventName(ref) {\n      return \"chan_reply_\" + ref;\n    }\n  }, {\n    key: \"isClosed\",\n    value: function isClosed() {\n      return this.state === CHANNEL_STATES.closed;\n    }\n  }, {\n    key: \"isErrored\",\n    value: function isErrored() {\n      return this.state === CHANNEL_STATES.errored;\n    }\n  }, {\n    key: \"isJoined\",\n    value: function isJoined() {\n      return this.state === CHANNEL_STATES.joined;\n    }\n  }, {\n    key: \"isJoining\",\n    value: function isJoining() {\n      return this.state === CHANNEL_STATES.joining;\n    }\n  }, {\n    key: \"isLeaving\",\n    value: function isLeaving() {\n      return this.state === CHANNEL_STATES.leaving;\n    }\n  }]);\n\n  return Channel;\n}();\n\nvar Serializer = {\n  encode: function encode(msg, callback) {\n    var payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload];\n    return callback(JSON.stringify(payload));\n  },\n  decode: function decode(rawPayload, callback) {\n    var _JSON$parse = JSON.parse(rawPayload),\n        _JSON$parse2 = _slicedToArray(_JSON$parse, 5),\n        join_ref = _JSON$parse2[0],\n        ref = _JSON$parse2[1],\n        topic = _JSON$parse2[2],\n        event = _JSON$parse2[3],\n        payload = _JSON$parse2[4];\n\n    return callback({ join_ref: join_ref, ref: ref, topic: topic, event: event, payload: payload });\n  }\n};\n\n/** Initializes the Socket\n *\n *\n * For IE8 support use an ES5-shim (https://github.com/es-shims/es5-shim)\n *\n * @param {string} endPoint - The string WebSocket endpoint, ie, `\"ws://example.com/socket\"`,\n *                                               `\"wss://example.com\"`\n *                                               `\"/socket\"` (inherited host & protocol)\n * @param {Object} opts - Optional configuration\n * @param {string} opts.transport - The Websocket Transport, for example WebSocket or Phoenix.LongPoll.\n *\n * Defaults to WebSocket with automatic LongPoll fallback.\n * @param {Function} opts.encode - The function to encode outgoing messages.\n *\n * Defaults to JSON:\n *\n * ```javascript\n * (payload, callback) => callback(JSON.stringify(payload))\n * ```\n *\n * @param {Function} opts.decode - The function to decode incoming messages.\n *\n * Defaults to JSON:\n *\n * ```javascript\n * (payload, callback) => callback(JSON.parse(payload))\n * ```\n *\n * @param {number} opts.timeout - The default timeout in milliseconds to trigger push timeouts.\n *\n * Defaults `DEFAULT_TIMEOUT`\n * @param {number} opts.heartbeatIntervalMs - The millisec interval to send a heartbeat message\n * @param {number} opts.reconnectAfterMs - The optional function that returns the millsec reconnect interval.\n *\n * Defaults to stepped backoff of:\n *\n * ```javascript\n *  function(tries){\n *    return [1000, 5000, 10000][tries - 1] || 10000\n *  }\n * ```\n * @param {Function} opts.logger - The optional function for specialized logging, ie:\n * ```javascript\n * logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n * ```\n *\n * @param {number}  opts.longpollerTimeout - The maximum timeout of a long poll AJAX request.\n *\n * Defaults to 20s (double the server long poll timer).\n *\n * @param {Object}  opts.params - The optional params to pass when connecting\n *\n *\n*/\n\nvar Socket = exports.Socket = function () {\n  function Socket(endPoint) {\n    var _this5 = this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Socket);\n\n    this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] };\n    this.channels = [];\n    this.sendBuffer = [];\n    this.ref = 0;\n    this.timeout = opts.timeout || DEFAULT_TIMEOUT;\n    this.transport = opts.transport || window.WebSocket || LongPoll;\n    this.defaultEncoder = Serializer.encode;\n    this.defaultDecoder = Serializer.decode;\n    if (this.transport !== LongPoll) {\n      this.encode = opts.encode || this.defaultEncoder;\n      this.decode = opts.decode || this.defaultDecoder;\n    } else {\n      this.encode = this.defaultEncoder;\n      this.decode = this.defaultDecoder;\n    }\n    this.heartbeatIntervalMs = opts.heartbeatIntervalMs || 30000;\n    this.reconnectAfterMs = opts.reconnectAfterMs || function (tries) {\n      return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n    };\n    this.logger = opts.logger || function () {}; // noop\n    this.longpollerTimeout = opts.longpollerTimeout || 20000;\n    this.params = opts.params || {};\n    this.endPoint = endPoint + \"/\" + TRANSPORTS.websocket;\n    this.heartbeatTimer = null;\n    this.pendingHeartbeatRef = null;\n    this.reconnectTimer = new Timer(function () {\n      _this5.disconnect(function () {\n        return _this5.connect();\n      });\n    }, this.reconnectAfterMs);\n  }\n\n  _createClass(Socket, [{\n    key: \"protocol\",\n    value: function protocol() {\n      return location.protocol.match(/^https/) ? \"wss\" : \"ws\";\n    }\n  }, {\n    key: \"endPointURL\",\n    value: function endPointURL() {\n      var uri = Ajax.appendParams(Ajax.appendParams(this.endPoint, this.params), { vsn: VSN });\n      if (uri.charAt(0) !== \"/\") {\n        return uri;\n      }\n      if (uri.charAt(1) === \"/\") {\n        return this.protocol() + \":\" + uri;\n      }\n\n      return this.protocol() + \"://\" + location.host + uri;\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(callback, code, reason) {\n      if (this.conn) {\n        this.conn.onclose = function () {}; // noop\n        if (code) {\n          this.conn.close(code, reason || \"\");\n        } else {\n          this.conn.close();\n        }\n        this.conn = null;\n      }\n      callback && callback();\n    }\n\n    /**\n     *\n     * @param {Object} params - The params to send when connecting, for example `{user_id: userToken}`\n     */\n\n  }, {\n    key: \"connect\",\n    value: function connect(params) {\n      var _this6 = this;\n\n      if (params) {\n        console && console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\");\n        this.params = params;\n      }\n      if (this.conn) {\n        return;\n      }\n\n      this.conn = new this.transport(this.endPointURL());\n      this.conn.timeout = this.longpollerTimeout;\n      this.conn.onopen = function () {\n        return _this6.onConnOpen();\n      };\n      this.conn.onerror = function (error) {\n        return _this6.onConnError(error);\n      };\n      this.conn.onmessage = function (event) {\n        return _this6.onConnMessage(event);\n      };\n      this.conn.onclose = function (event) {\n        return _this6.onConnClose(event);\n      };\n    }\n\n    /**\n     * Logs the message. Override `this.logger` for specialized logging. noops by default\n     * @param {string} kind\n     * @param {string} msg\n     * @param {Object} data\n     */\n\n  }, {\n    key: \"log\",\n    value: function log(kind, msg, data) {\n      this.logger(kind, msg, data);\n    }\n\n    // Registers callbacks for connection state change events\n    //\n    // Examples\n    //\n    //    socket.onError(function(error){ alert(\"An error occurred\") })\n    //\n\n  }, {\n    key: \"onOpen\",\n    value: function onOpen(callback) {\n      this.stateChangeCallbacks.open.push(callback);\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(callback) {\n      this.stateChangeCallbacks.close.push(callback);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(callback) {\n      this.stateChangeCallbacks.error.push(callback);\n    }\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(callback) {\n      this.stateChangeCallbacks.message.push(callback);\n    }\n  }, {\n    key: \"onConnOpen\",\n    value: function onConnOpen() {\n      var _this7 = this;\n\n      this.log(\"transport\", \"connected to \" + this.endPointURL());\n      this.flushSendBuffer();\n      this.reconnectTimer.reset();\n      if (!this.conn.skipHeartbeat) {\n        clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = setInterval(function () {\n          return _this7.sendHeartbeat();\n        }, this.heartbeatIntervalMs);\n      }\n      this.stateChangeCallbacks.open.forEach(function (callback) {\n        return callback();\n      });\n    }\n  }, {\n    key: \"onConnClose\",\n    value: function onConnClose(event) {\n      this.log(\"transport\", \"close\", event);\n      this.triggerChanError();\n      clearInterval(this.heartbeatTimer);\n      this.reconnectTimer.scheduleTimeout();\n      this.stateChangeCallbacks.close.forEach(function (callback) {\n        return callback(event);\n      });\n    }\n  }, {\n    key: \"onConnError\",\n    value: function onConnError(error) {\n      this.log(\"transport\", error);\n      this.triggerChanError();\n      this.stateChangeCallbacks.error.forEach(function (callback) {\n        return callback(error);\n      });\n    }\n  }, {\n    key: \"triggerChanError\",\n    value: function triggerChanError() {\n      this.channels.forEach(function (channel) {\n        return channel.trigger(CHANNEL_EVENTS.error);\n      });\n    }\n  }, {\n    key: \"connectionState\",\n    value: function connectionState() {\n      switch (this.conn && this.conn.readyState) {\n        case SOCKET_STATES.connecting:\n          return \"connecting\";\n        case SOCKET_STATES.open:\n          return \"open\";\n        case SOCKET_STATES.closing:\n          return \"closing\";\n        default:\n          return \"closed\";\n      }\n    }\n  }, {\n    key: \"isConnected\",\n    value: function isConnected() {\n      return this.connectionState() === \"open\";\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(channel) {\n      this.channels = this.channels.filter(function (c) {\n        return c.joinRef() !== channel.joinRef();\n      });\n    }\n  }, {\n    key: \"channel\",\n    value: function channel(topic) {\n      var chanParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var chan = new Channel(topic, chanParams, this);\n      this.channels.push(chan);\n      return chan;\n    }\n  }, {\n    key: \"push\",\n    value: function push(data) {\n      var _this8 = this;\n\n      var topic = data.topic,\n          event = data.event,\n          payload = data.payload,\n          ref = data.ref,\n          join_ref = data.join_ref;\n\n      var callback = function callback() {\n        _this8.encode(data, function (result) {\n          _this8.conn.send(result);\n        });\n      };\n      this.log(\"push\", topic + \" \" + event + \" (\" + join_ref + \", \" + ref + \")\", payload);\n      if (this.isConnected()) {\n        callback();\n      } else {\n        this.sendBuffer.push(callback);\n      }\n    }\n\n    /**\n     * Return the next message ref, accounting for overflows\n     */\n\n  }, {\n    key: \"makeRef\",\n    value: function makeRef() {\n      var newRef = this.ref + 1;\n      if (newRef === this.ref) {\n        this.ref = 0;\n      } else {\n        this.ref = newRef;\n      }\n\n      return this.ref.toString();\n    }\n  }, {\n    key: \"sendHeartbeat\",\n    value: function sendHeartbeat() {\n      if (!this.isConnected()) {\n        return;\n      }\n      if (this.pendingHeartbeatRef) {\n        this.pendingHeartbeatRef = null;\n        this.log(\"transport\", \"heartbeat timeout. Attempting to re-establish connection\");\n        this.conn.close(WS_CLOSE_NORMAL, \"hearbeat timeout\");\n        return;\n      }\n      this.pendingHeartbeatRef = this.makeRef();\n      this.push({ topic: \"phoenix\", event: \"heartbeat\", payload: {}, ref: this.pendingHeartbeatRef });\n    }\n  }, {\n    key: \"flushSendBuffer\",\n    value: function flushSendBuffer() {\n      if (this.isConnected() && this.sendBuffer.length > 0) {\n        this.sendBuffer.forEach(function (callback) {\n          return callback();\n        });\n        this.sendBuffer = [];\n      }\n    }\n  }, {\n    key: \"onConnMessage\",\n    value: function onConnMessage(rawMessage) {\n      var _this9 = this;\n\n      this.decode(rawMessage.data, function (msg) {\n        var topic = msg.topic,\n            event = msg.event,\n            payload = msg.payload,\n            ref = msg.ref,\n            join_ref = msg.join_ref;\n\n        if (ref && ref === _this9.pendingHeartbeatRef) {\n          _this9.pendingHeartbeatRef = null;\n        }\n\n        _this9.log(\"receive\", (payload.status || \"\") + \" \" + topic + \" \" + event + \" \" + (ref && \"(\" + ref + \")\" || \"\"), payload);\n        _this9.channels.filter(function (channel) {\n          return channel.isMember(topic, event, payload, join_ref);\n        }).forEach(function (channel) {\n          return channel.trigger(event, payload, ref, join_ref);\n        });\n        _this9.stateChangeCallbacks.message.forEach(function (callback) {\n          return callback(msg);\n        });\n      });\n    }\n  }]);\n\n  return Socket;\n}();\n\nvar LongPoll = exports.LongPoll = function () {\n  function LongPoll(endPoint) {\n    _classCallCheck(this, LongPoll);\n\n    this.endPoint = null;\n    this.token = null;\n    this.skipHeartbeat = true;\n    this.onopen = function () {}; // noop\n    this.onerror = function () {}; // noop\n    this.onmessage = function () {}; // noop\n    this.onclose = function () {}; // noop\n    this.pollEndpoint = this.normalizeEndpoint(endPoint);\n    this.readyState = SOCKET_STATES.connecting;\n\n    this.poll();\n  }\n\n  _createClass(LongPoll, [{\n    key: \"normalizeEndpoint\",\n    value: function normalizeEndpoint(endPoint) {\n      return endPoint.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\").replace(new RegExp(\"(.*)\\/\" + TRANSPORTS.websocket), \"$1/\" + TRANSPORTS.longpoll);\n    }\n  }, {\n    key: \"endpointURL\",\n    value: function endpointURL() {\n      return Ajax.appendParams(this.pollEndpoint, { token: this.token });\n    }\n  }, {\n    key: \"closeAndRetry\",\n    value: function closeAndRetry() {\n      this.close();\n      this.readyState = SOCKET_STATES.connecting;\n    }\n  }, {\n    key: \"ontimeout\",\n    value: function ontimeout() {\n      this.onerror(\"timeout\");\n      this.closeAndRetry();\n    }\n  }, {\n    key: \"poll\",\n    value: function poll() {\n      var _this10 = this;\n\n      if (!(this.readyState === SOCKET_STATES.open || this.readyState === SOCKET_STATES.connecting)) {\n        return;\n      }\n\n      Ajax.request(\"GET\", this.endpointURL(), \"application/json\", null, this.timeout, this.ontimeout.bind(this), function (resp) {\n        if (resp) {\n          var status = resp.status,\n              token = resp.token,\n              messages = resp.messages;\n\n          _this10.token = token;\n        } else {\n          var status = 0;\n        }\n\n        switch (status) {\n          case 200:\n            messages.forEach(function (msg) {\n              return _this10.onmessage({ data: msg });\n            });\n            _this10.poll();\n            break;\n          case 204:\n            _this10.poll();\n            break;\n          case 410:\n            _this10.readyState = SOCKET_STATES.open;\n            _this10.onopen();\n            _this10.poll();\n            break;\n          case 0:\n          case 500:\n            _this10.onerror();\n            _this10.closeAndRetry();\n            break;\n          default:\n            throw \"unhandled poll status \" + status;\n        }\n      });\n    }\n  }, {\n    key: \"send\",\n    value: function send(body) {\n      var _this11 = this;\n\n      Ajax.request(\"POST\", this.endpointURL(), \"application/json\", body, this.timeout, this.onerror.bind(this, \"timeout\"), function (resp) {\n        if (!resp || resp.status !== 200) {\n          _this11.onerror(resp && resp.status);\n          _this11.closeAndRetry();\n        }\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close(code, reason) {\n      this.readyState = SOCKET_STATES.closed;\n      this.onclose();\n    }\n  }]);\n\n  return LongPoll;\n}();\n\nvar Ajax = exports.Ajax = function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n  }\n\n  _createClass(Ajax, null, [{\n    key: \"request\",\n    value: function request(method, endPoint, accept, body, timeout, ontimeout, callback) {\n      if (window.XDomainRequest) {\n        var req = new XDomainRequest(); // IE8, IE9\n        this.xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback);\n      } else {\n        var _req = window.XMLHttpRequest ? new window.XMLHttpRequest() : // IE7+, Firefox, Chrome, Opera, Safari\n        new ActiveXObject(\"Microsoft.XMLHTTP\"); // IE6, IE5\n        this.xhrRequest(_req, method, endPoint, accept, body, timeout, ontimeout, callback);\n      }\n    }\n  }, {\n    key: \"xdomainRequest\",\n    value: function xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback) {\n      var _this12 = this;\n\n      req.timeout = timeout;\n      req.open(method, endPoint);\n      req.onload = function () {\n        var response = _this12.parseJSON(req.responseText);\n        callback && callback(response);\n      };\n      if (ontimeout) {\n        req.ontimeout = ontimeout;\n      }\n\n      // Work around bug in IE9 that requires an attached onprogress handler\n      req.onprogress = function () {};\n\n      req.send(body);\n    }\n  }, {\n    key: \"xhrRequest\",\n    value: function xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback) {\n      var _this13 = this;\n\n      req.open(method, endPoint, true);\n      req.timeout = timeout;\n      req.setRequestHeader(\"Content-Type\", accept);\n      req.onerror = function () {\n        callback && callback(null);\n      };\n      req.onreadystatechange = function () {\n        if (req.readyState === _this13.states.complete && callback) {\n          var response = _this13.parseJSON(req.responseText);\n          callback(response);\n        }\n      };\n      if (ontimeout) {\n        req.ontimeout = ontimeout;\n      }\n\n      req.send(body);\n    }\n  }, {\n    key: \"parseJSON\",\n    value: function parseJSON(resp) {\n      if (!resp || resp === \"\") {\n        return null;\n      }\n\n      try {\n        return JSON.parse(resp);\n      } catch (e) {\n        console && console.log(\"failed to parse JSON response\", resp);\n        return null;\n      }\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(obj, parentKey) {\n      var queryStr = [];\n      for (var key in obj) {\n        if (!obj.hasOwnProperty(key)) {\n          continue;\n        }\n        var paramKey = parentKey ? parentKey + \"[\" + key + \"]\" : key;\n        var paramVal = obj[key];\n        if ((typeof paramVal === \"undefined\" ? \"undefined\" : _typeof(paramVal)) === \"object\") {\n          queryStr.push(this.serialize(paramVal, paramKey));\n        } else {\n          queryStr.push(encodeURIComponent(paramKey) + \"=\" + encodeURIComponent(paramVal));\n        }\n      }\n      return queryStr.join(\"&\");\n    }\n  }, {\n    key: \"appendParams\",\n    value: function appendParams(url, params) {\n      if (Object.keys(params).length === 0) {\n        return url;\n      }\n\n      var prefix = url.match(/\\?/) ? \"&\" : \"?\";\n      return \"\" + url + prefix + this.serialize(params);\n    }\n  }]);\n\n  return Ajax;\n}();\n\nAjax.states = { complete: 4 };\n\nvar Presence = exports.Presence = {\n  syncState: function syncState(currentState, newState, onJoin, onLeave) {\n    var _this14 = this;\n\n    var state = this.clone(currentState);\n    var joins = {};\n    var leaves = {};\n\n    this.map(state, function (key, presence) {\n      if (!newState[key]) {\n        leaves[key] = presence;\n      }\n    });\n    this.map(newState, function (key, newPresence) {\n      var currentPresence = state[key];\n      if (currentPresence) {\n        var newRefs = newPresence.metas.map(function (m) {\n          return m.phx_ref;\n        });\n        var curRefs = currentPresence.metas.map(function (m) {\n          return m.phx_ref;\n        });\n        var joinedMetas = newPresence.metas.filter(function (m) {\n          return curRefs.indexOf(m.phx_ref) < 0;\n        });\n        var leftMetas = currentPresence.metas.filter(function (m) {\n          return newRefs.indexOf(m.phx_ref) < 0;\n        });\n        if (joinedMetas.length > 0) {\n          joins[key] = newPresence;\n          joins[key].metas = joinedMetas;\n        }\n        if (leftMetas.length > 0) {\n          leaves[key] = _this14.clone(currentPresence);\n          leaves[key].metas = leftMetas;\n        }\n      } else {\n        joins[key] = newPresence;\n      }\n    });\n    return this.syncDiff(state, { joins: joins, leaves: leaves }, onJoin, onLeave);\n  },\n  syncDiff: function syncDiff(currentState, _ref2, onJoin, onLeave) {\n    var joins = _ref2.joins,\n        leaves = _ref2.leaves;\n\n    var state = this.clone(currentState);\n    if (!onJoin) {\n      onJoin = function onJoin() {};\n    }\n    if (!onLeave) {\n      onLeave = function onLeave() {};\n    }\n\n    this.map(joins, function (key, newPresence) {\n      var currentPresence = state[key];\n      state[key] = newPresence;\n      if (currentPresence) {\n        var _state$key$metas;\n\n        (_state$key$metas = state[key].metas).unshift.apply(_state$key$metas, _toConsumableArray(currentPresence.metas));\n      }\n      onJoin(key, currentPresence, newPresence);\n    });\n    this.map(leaves, function (key, leftPresence) {\n      var currentPresence = state[key];\n      if (!currentPresence) {\n        return;\n      }\n      var refsToRemove = leftPresence.metas.map(function (m) {\n        return m.phx_ref;\n      });\n      currentPresence.metas = currentPresence.metas.filter(function (p) {\n        return refsToRemove.indexOf(p.phx_ref) < 0;\n      });\n      onLeave(key, currentPresence, leftPresence);\n      if (currentPresence.metas.length === 0) {\n        delete state[key];\n      }\n    });\n    return state;\n  },\n  list: function list(presences, chooser) {\n    if (!chooser) {\n      chooser = function chooser(key, pres) {\n        return pres;\n      };\n    }\n\n    return this.map(presences, function (key, presence) {\n      return chooser(key, presence);\n    });\n  },\n\n\n  // private\n\n  map: function map(obj, func) {\n    return Object.getOwnPropertyNames(obj).map(function (key) {\n      return func(key, obj[key]);\n    });\n  },\n  clone: function clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n  }\n};\n\n/**\n *\n * Creates a timer that accepts a `timerCalc` function to perform\n * calculated timeout retries, such as exponential backoff.\n *\n * ## Examples\n *\n * ```javascript\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n * ```\n * @param {Function} callback\n * @param {Function} timerCalc\n */\n\nvar Timer = function () {\n  function Timer(callback, timerCalc) {\n    _classCallCheck(this, Timer);\n\n    this.callback = callback;\n    this.timerCalc = timerCalc;\n    this.timer = null;\n    this.tries = 0;\n  }\n\n  _createClass(Timer, [{\n    key: \"reset\",\n    value: function reset() {\n      this.tries = 0;\n      clearTimeout(this.timer);\n    }\n\n    /**\n     * Cancels any previous scheduleTimeout and schedules callback\n     */\n\n  }, {\n    key: \"scheduleTimeout\",\n    value: function scheduleTimeout() {\n      var _this15 = this;\n\n      clearTimeout(this.timer);\n\n      this.timer = setTimeout(function () {\n        _this15.tries = _this15.tries + 1;\n        _this15.callback();\n      }, this.timerCalc(this.tries + 1));\n    }\n  }]);\n\n  return Timer;\n}();\n\n})));\n","var Handlebars = require(\"c:\\\\Users\\\\maneptha\\\\Desktop\\\\foss\\\\burda\\\\front-end\\\\node_modules\\\\handlebars\\\\runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div>\\n  <style>\\n    .new-app-available {\\n      border: 1px solid #b7b7b7;\\n      padding: 10px;\\n      border-radius: 3px;\\n      color: #ffffffe6;\\n    }\\n\\n    .new-app-available-container {\\n      cursor: pointer;\\n      height: 100%;\\n      width: 100%;\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      opacity: 1;\\n      background: #fdfdfdc2;\\n      display: flex;\\n      justify-content: center;\\n      align-items: flex-end;\\n    }\\n\\n  </style>\\n\\n  <div id=\\\"new-app-available-container\\\" class=\\\"new-app-available-container\\\">\\n    <div class=\\\"ui green inverted menu new-app-available\\\">\\n      New content is available; please click to refresh.\\n    </div>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} raw     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     raw True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","\n\n/* tslint:disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: CreateMeta\n// ====================================================\n\nexport interface CreateMeta_meta {\n  id: string;\n  breakTimeSecs: number;\n  nightSupplPayPct: any;\n  payPerHr: any;\n  sundaySupplPayPct: any;\n}\n\nexport interface CreateMeta {\n  meta: CreateMeta_meta | null;  // Create a meta\n}\n\nexport interface CreateMetaVariables {\n  meta: CreateMetaInput;\n}\n\n\n/* tslint:disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: CreateShift\n// ====================================================\n\nexport interface CreateShift_shift_meta {\n  id: string;\n}\n\nexport interface CreateShift_shift {\n  id: string;\n  _id: string;\n  date: any;\n  startTime: any;\n  endTime: any;\n  hoursGross: number;\n  normalHours: number;\n  normalPay: any;\n  nightHours: number;\n  nightSupplPay: any;\n  sundayHours: number;\n  sundaySupplPay: any;\n  totalPay: any;\n  meta: CreateShift_shift_meta | null;\n  schemaType: string;\n}\n\nexport interface CreateShift {\n  shift: CreateShift_shift | null;  // Create a shift\n}\n\nexport interface CreateShiftVariables {\n  shift: CreateShiftInput;\n}\n\n\n/* tslint:disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: GetInitialSocketData\n// ====================================================\n\nexport interface GetInitialSocketData_shifts_meta {\n  id: string;\n}\n\nexport interface GetInitialSocketData_shifts {\n  id: string;\n  _id: string;\n  date: any;\n  startTime: any;\n  endTime: any;\n  hoursGross: number;\n  normalHours: number;\n  normalPay: any;\n  nightHours: number;\n  nightSupplPay: any;\n  sundayHours: number;\n  sundaySupplPay: any;\n  totalPay: any;\n  meta: GetInitialSocketData_shifts_meta | null;\n  schemaType: string;\n}\n\nexport interface GetInitialSocketData_newShiftUrl {\n  _id: string;\n  url: string;\n  schemaType: string;\n}\n\nexport interface GetInitialSocketData_offlineToken {\n  id: string;\n  _id: string;\n  value: string;\n  schemaType: string;\n}\n\nexport interface GetInitialSocketData {\n  shifts: (GetInitialSocketData_shifts | null)[] | null;   // Get all shifts\n  newShiftUrl: GetInitialSocketData_newShiftUrl | null;    // Get New shift URL\n  offlineToken: GetInitialSocketData_offlineToken | null;  // Get Offline Token\n}\n\nexport interface GetInitialSocketDataVariables {\n  shift?: GetShiftInput | null;\n}\n\n\n/* tslint:disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: GetNewMetaForm\n// ====================================================\n\nexport interface GetNewMetaForm_newMetaForm {\n  html: string;\n}\n\nexport interface GetNewMetaForm {\n  newMetaForm: GetNewMetaForm_newMetaForm | null;  // Get the form for creating a meta\n}\n\n\n/* tslint:disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL fragment: NewShiftUrlFragment\n// ====================================================\n\nexport interface NewShiftUrlFragment {\n  _id: string;\n  url: string;\n  schemaType: string;\n}\n\n\n/* tslint:disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL fragment: OfflineTokenFragment\n// ====================================================\n\nexport interface OfflineTokenFragment {\n  id: string;\n  _id: string;\n  value: string;\n  schemaType: string;\n}\n\n\n/* tslint:disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL fragment: ShiftFragment\n// ====================================================\n\nexport interface ShiftFragment_meta {\n  id: string;\n}\n\nexport interface ShiftFragment {\n  id: string;\n  _id: string;\n  date: any;\n  startTime: any;\n  endTime: any;\n  hoursGross: number;\n  normalHours: number;\n  normalPay: any;\n  nightHours: number;\n  nightSupplPay: any;\n  sundayHours: number;\n  sundaySupplPay: any;\n  totalPay: any;\n  meta: ShiftFragment_meta | null;\n  schemaType: string;\n}\n\n/* tslint:disable */\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\n// Sorting directive\nexport enum SortingDirective {\n  ASC = \"ASC\",\n  DESC = \"DESC\",\n}\n\n// Inputs for creating a meta\nexport interface CreateMetaInput {\n  breakTimeSecs?: number | null;\n  nightSupplPayPct: any;\n  payPerHr: any;\n  sundaySupplPayPct: any;\n}\n\n// Inputs for creating shift\nexport interface CreateShiftInput {\n  date: any;\n  endTime: any;\n  metaId: string;\n  startTime: any;\n}\n\n// Inputs for getting shift\nexport interface GetShiftInput {\n  orderBy?: Sorting | null;\n  where?: WhereCondition | null;\n}\n\n// input for sorting\nexport interface Sorting {\n  date?: SortingDirective | null;\n  id?: SortingDirective | null;\n}\n\n// Where condition for retrieving a shift\nexport interface WhereCondition {\n  month?: number | null;\n  year?: number | null;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================","import gql from \"graphql-tag\";\n\nexport const newShiftUrlFragment = gql`\n  fragment NewShiftUrlFragment on NewShiftUrl {\n    _id\n    url\n    schemaType\n  }\n`;\n\nexport default newShiftUrlFragment;\n","import gql from \"graphql-tag\";\n\nexport const offlineTokenFragment = gql`\n  fragment OfflineTokenFragment on OfflineToken {\n    id\n    _id\n    value\n    schemaType\n  }\n`;\n\nexport default offlineTokenFragment;\n","import gql from \"graphql-tag\";\n\nimport { shiftFragment } from \"./shift.fragment\";\nimport { newShiftUrlFragment } from \"./new-shift-url.fragment\";\nimport { offlineTokenFragment } from \"./offline-token.fragment\";\n\nexport const InitialSocketData = gql`\n  query GetInitialSocketData($shift: GetShiftInput) {\n    shifts(shift: $shift) {\n      ...ShiftFragment\n    }\n\n    newShiftUrl {\n      ...NewShiftUrlFragment\n    }\n\n    offlineToken {\n      ...OfflineTokenFragment\n    }\n  }\n\n  ${shiftFragment}\n  ${newShiftUrlFragment}\n  ${offlineTokenFragment}\n`;\n\nexport default InitialSocketData;\n","import { SortingDirective } from \"../../graphql/gen.types\";\nimport { GetInitialSocketData_shifts } from \"../../graphql/gen.types\";\nimport { GetInitialSocketDataVariables } from \"../../graphql/gen.types\";\nimport { GetInitialSocketData } from \"../../graphql/gen.types\";\nimport { GetInitialSocketData_newShiftUrl } from \"../../graphql/gen.types\";\nimport { SHIFT_TYPENAME } from \"./../../constants\";\nimport { NEW_SHIFT_URL_TYPENAME } from \"./../../constants\";\nimport { Database } from \"../../database\";\n\nexport const getShiftsQueryVairable = (): GetInitialSocketDataVariables => {\n  const today = new Date();\n  return {\n    shift: {\n      where: {\n        year: today.getFullYear(),\n        month: today.getMonth() + 1\n      },\n\n      orderBy: {\n        date: SortingDirective.DESC\n      }\n    }\n  };\n};\n\nexport const writeInitialDataToDb = (\n  database: Database,\n  data: GetInitialSocketData\n) => {\n  const allShifts = (data.shifts || []) as GetInitialSocketData_shifts[];\n  const newShiftUrl = data.newShiftUrl as GetInitialSocketData_newShiftUrl;\n\n  if (allShifts.length) {\n    database.db\n      .find({\n        selector: {\n          schemaType: { $eq: SHIFT_TYPENAME }\n        }\n      })\n      // tslint:disable-next-line:no-any\n      .then((foundShifts: { docs: any }) => {\n        if (\n          foundShifts.docs &&\n          foundShifts.docs.map &&\n          foundShifts.docs.length\n        ) {\n          const ids = foundShifts.docs.map((s: GetInitialSocketData_shifts) => {\n            return s.id;\n          });\n\n          const filteredAllShifts = allShifts.filter(s => !ids.includes(s.id));\n\n          if (filteredAllShifts.length) {\n            database.db.bulkDocs(filteredAllShifts);\n          }\n        } else {\n          database.db.bulkDocs(allShifts);\n        }\n\n        return true;\n      });\n  }\n\n  if (newShiftUrl) {\n    database.db\n      .find({\n        selector: {\n          schemaType: { $eq: NEW_SHIFT_URL_TYPENAME }\n        }\n      })\n      // tslint:disable-next-line:no-any\n      .then(({ docs }: { docs: any }) => {\n        const newShiftUrls = docs as GetInitialSocketData_newShiftUrl[];\n\n        // this is our first insert = happy\n        if (!newShiftUrls.length) {\n          database.db.put(newShiftUrl);\n          return;\n        }\n\n        const newShiftUrlFromDoc = newShiftUrls[0];\n\n        // we only care about the URL. If one exists with similar url, bail\n        if (newShiftUrlFromDoc.url === newShiftUrl.url) {\n          return;\n        }\n\n        // ok we have a new URL - update existing doc so we only have 1 copy\n        database.db.get(newShiftUrlFromDoc._id).then(doc => {\n          return database.db.put({\n            ...newShiftUrl,\n            _id: newShiftUrlFromDoc._id,\n            _rev: doc._rev\n          });\n        });\n      });\n  }\n};\n","function mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nexport { ExportedSet as Set, ExportedMap as Map };\n","import { Socket } from \"phoenix\";\nimport { Channel } from \"phoenix\";\n\nimport { toRunableDocument } from \"./graphql/helpers\";\nimport INITIAL_DATA_GQL from \"./graphql/initial-socket-data.query\";\nimport { GetInitialSocketDataVariables } from \"./graphql/gen.types\";\nimport { GetInitialSocketData } from \"./graphql/gen.types\";\nimport { GetInitialSocketData_offlineToken } from \"./graphql/gen.types\";\nimport { OFFLINE_TOKEN_TYPENAME } from \"./constants\";\nimport { DATA_CHANNEL_TOPIC_GRAPHQL } from \"./constants\";\nimport { getShiftsQueryVairable } from \"./routes/index/utils\";\nimport { writeInitialDataToDb as writeInitialIndexDataToDb } from \"./routes/index/utils\";\nimport { Database } from \"./database\";\n\n// tslint:disable-next-line:no-any\ntype OnChannelMessage = (msg: any) => void;\n\ninterface ChannelMessageNoTopic {\n  // tslint:disable-next-line:no-any\n  params?: any;\n  ok: OnChannelMessage;\n  // tslint:disable-next-line:no-any\n  error?: (reason: any) => void;\n}\n\nexport interface ChannelMessage extends ChannelMessageNoTopic {\n  topic: string;\n}\n\nexport class AppSocket {\n  socket: Socket;\n  dataChannelName = \"data:data\";\n  dataChannel: Channel;\n  dataChannelJoined = false;\n\n  constructor(private database: Database) {\n    this.socket = new Socket(\"/socket\", {});\n    this.socket.connect();\n    this.socket.onOpen(() => {\n      window.appInterface.serverOnlineStatus = true;\n    });\n    this.socket.onError(() => (window.appInterface.serverOnlineStatus = false));\n    this.joinDataChannel();\n  }\n\n  joinDataChannel = () => {\n    this.dataChannel = this.socket.channel(this.dataChannelName, {});\n    this.channelJoin(this.dataChannelName, this.dataChannel);\n    this.getInitialData();\n  };\n\n  getInitialData = async () => {\n    const variables = getShiftsQueryVairable();\n\n    const initialDataQuery = toRunableDocument<GetInitialSocketDataVariables>(\n      INITIAL_DATA_GQL,\n      variables\n    );\n\n    this.queryGraphQl({\n      ok: this.writeInitialDataToDb,\n      params: initialDataQuery\n    });\n  };\n\n  channelJoin = (\n    channelName: string,\n    channel: Channel,\n    params?: { ok: OnChannelMessage }\n  ) => {\n    channel\n      .join()\n      .receive(\"ok\", messages => {\n        // tslint:disable-next-line:no-console\n        console.log(\n          `\\n\\n\\n\\nJoining channel: ${channelName} at ${new Date().getTime()}`,\n          messages\n        );\n\n        if (params && params.ok) {\n          params.ok(messages);\n        }\n      })\n      .receive(\"error\", ({ reason }) => {\n        // tslint:disable-next-line:no-console\n        console.log(\"failed join\", reason);\n      })\n      .receive(\"timeout\", () => {\n        window.appInterface.serverOnlineStatus = false;\n      });\n  };\n\n  sendChannelMsg = (\n    channelName: string,\n    channel: Channel,\n    { topic, ok, error, params }: ChannelMessage\n  ) => {\n    channel\n      .push(topic, params || {})\n      .receive(\"ok\", ok)\n      .receive(\"error\", reasons => {\n        if (error) {\n          error(reasons);\n        } else {\n          // tslint:disable-next-line:no-console\n          console.log(`Error on push to ${channelName}:${topic}`, reasons);\n        }\n      })\n      .receive(\"timeout\", () => {\n        // tslint:disable-next-line:no-console\n        console.log(\"Networking issue...\");\n      });\n  };\n\n  writeInitialDataToDb = (data: GetInitialSocketData) => {\n    window.appInterface.initialData = data;\n    writeInitialIndexDataToDb(this.database, data);\n\n    this.database.db\n      .find({\n        selector: {\n          schemaType: { $eq: OFFLINE_TOKEN_TYPENAME }\n        }\n      }) // tslint:disable-next-line:no-any\n      .then(({ docs }: { docs: any }) => {\n        const offlineToken = data.offlineToken as GetInitialSocketData_offlineToken;\n\n        if (!offlineToken) {\n          return;\n        }\n\n        const offlineTokens = docs as GetInitialSocketData_offlineToken[];\n\n        // this is our first insert = happy\n        if (!offlineTokens.length) {\n          this.database.db.put(offlineToken);\n          return;\n        }\n\n        const offlineTokenFromDoc = offlineTokens[0];\n\n        // we only care about the id and value fields.\n        // If we got one with these values, we bail\n        if (\n          offlineTokenFromDoc.id === offlineToken.id &&\n          offlineTokenFromDoc.value === offlineToken.value\n        ) {\n          return;\n        }\n\n        // ok we have a new token - update existing doc so we\n        // only have 1 copy\n        this.database.db.get(offlineTokenFromDoc._id).then(doc => {\n          return this.database.db.put({\n            ...offlineToken,\n            _id: doc._id,\n            _rev: doc._rev\n          });\n        });\n      });\n  };\n\n  queryGraphQl = (params: ChannelMessageNoTopic) =>\n    this.sendChannelMsg(this.dataChannelName, this.dataChannel, {\n      topic: DATA_CHANNEL_TOPIC_GRAPHQL,\n\n      ...params\n    });\n}\nexport default AppSocket;\n","import showRefreshUI from \"./show-refresh-ui\";\n\nconst updateReady = (worker: ServiceWorker | null) => {\n  if (!worker) {\n    return;\n  }\n\n  showRefreshUI(worker);\n};\n\nexport const registerServiceWorker = async () => {\n  // || process.env.NODE_ENV !== \"development\"\n  if (!navigator.serviceWorker) {\n    return;\n  }\n\n  navigator.serviceWorker\n    .register(\"/offline/service-worker1.js\", {\n      scope: \"/\"\n    })\n    .then(reg => {\n      // Page is not been controlled by service worker = user is getting\n      // contents from network, which is a good thing\n      if (!navigator.serviceWorker.controller) {\n        return;\n      }\n\n      // Service worker has been registered and is now waiting - tell user\n      if (reg.waiting) {\n        return updateReady(reg.waiting);\n      }\n\n      // Service worker is still installing, so we track it's progress and\n      // when the installation succeeds, it means we have a service worker ready\n      // to take over so we tell user\n      if (reg.installing) {\n        const worker = reg.installing;\n        worker.addEventListener(\"statechange\", () => {\n          if (worker.state === \"installed\") {\n            return updateReady(worker);\n          }\n        });\n      }\n\n      // okay page is been controlled by service worker\n      // no service worker is waiting\n      // no service worker is installing\n      // this means a service worker will soon arrive. So we track it's motion\n      reg.addEventListener(\"updatefound\", () => {\n        const worker1 = reg.installing;\n        if (!worker1) {\n          return;\n        }\n        worker1.addEventListener(\"statechange\", () => {\n          if (worker1.state === \"installed\") {\n            return updateReady(worker1);\n          }\n        });\n      });\n    });\n\n  navigator.serviceWorker.addEventListener(\"controllerchange\", () =>\n    // window.location.reload()\n\n    // tslint:disable-next-line:no-console\n    console.log(\"\\n\\n\\n\\ncontroller changed. Page is now refreshed\", \"\\n\\n\\n\")\n  );\n};\n\nexport default registerServiceWorker;\n","import * as template from \"./show-refresh-ui.handlebars\";\n\nexport default (worker: ServiceWorker) => {\n  const ui = document.getElementById(\"insert-new-app-available-ui\");\n\n  if (ui) {\n    ui.innerHTML = template();\n  }\n\n  const container = document.getElementById(\"new-app-available-container\");\n\n  if (container) {\n    container.addEventListener(\n      \"click\",\n      () => {\n        worker.postMessage({ action: \"skipWaiting\" });\n        window.location.reload(true);\n      },\n      {\n        once: true\n      }\n    );\n  }\n};\n","import inherits from 'inherits';\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    for (var p in error) {\n      if (typeof error[p] !== 'function') {\n        this[p] = error[p];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nexport { UNAUTHORIZED, MISSING_BULK_DOCS, MISSING_DOC, REV_CONFLICT, INVALID_ID, MISSING_ID, RESERVED_ID, NOT_OPEN, UNKNOWN_ERROR, BAD_ARG, INVALID_REQUEST, QUERY_PARSE_ERROR, DOC_VALIDATION, BAD_REQUEST, NOT_AN_OBJECT, DB_MISSING, WSQ_ERROR, LDB_ERROR, FORBIDDEN, INVALID_REV, FILE_EXISTS, MISSING_STUB, IDB_ERROR, INVALID_URL, createError, generateErrorFromResponse };\n","import getArguments from 'argsarray';\nimport { Map } from 'pouchdb-collections';\nimport immediate from 'immediate';\nimport { EventEmitter } from 'events';\nimport inherits from 'inherits';\nimport { createError, BAD_REQUEST, INVALID_ID, MISSING_ID, RESERVED_ID } from 'pouchdb-errors';\nimport uuidV4 from 'uuid';\nimport { stringMd5 } from 'pouchdb-md5';\nimport { clone } from 'pouchdb-utils';\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone$1(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone$1(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone$1(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone$1(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new Map();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EventEmitter);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EventEmitter.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EventEmitter.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar assign$1 = assign;\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n// for browsers that don't support it like IE\n\n/* istanbul ignore next */\nfunction f() {}\n\nvar hasName = f.name;\nvar res;\n\n// We dont run coverage in IE\n/* istanbul ignore else */\nif (hasName) {\n  res = function (fun) {\n    return fun.name;\n  };\n} else {\n  res = function (fun) {\n    var match = fun.toString().match(/^\\s*function\\s*(?:(\\S+)\\s*)?\\(/);\n    if (match && match[1]) {\n      return match[1];\n    }\n    else {\n      return '';\n    }\n  };\n}\n\nvar res$1 = res;\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EventEmitter.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return uuidV4.v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = uuidV4.v4;\n\nexport { adapterFun, assign$1 as assign, bulkGet as bulkGetShim, Changes as changesHandler, clone$1 as clone, defaultBackOff, explainError, filterChange, flatten, res$1 as functionName, guardedConsole, hasLocalStorage, invalidIdError, isRemote, listenerCount, immediate as nextTick, normalizeDesignDocFunctionName as normalizeDdocFunctionName, once, parseDesignDocFunctionName as parseDdocFunctionName, parseUri, pick, rev, scopeEval, toPromise, upsert, uuid };\n","// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f = fetch;\nvar h = Headers;\n\nexport { f as fetch, h as Headers, a as AbortController };\n","function pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\nexport { collate, normalizeKey, toIndexableString, parseIndexableString };\n","import { clone } from 'pouchdb-utils';\nimport { collate } from 'pouchdb-collate';\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction setFieldInDoc(doc, parsedField, value) {\n  for (var i = 0, len = parsedField.length; i < len-1; i++) {\n    var elem = parsedField[i];\n    doc = doc[elem] = {};\n  }\n  doc[parsedField[len-1]] = value;\n}\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n  if ('$and' in result) {\n    result = mergeAndedSelectors(result['$and']);\n    wasAnded = true;\n  }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  return Object.keys(matcher).every(function (userOperator) {\n    var userValue = matcher[userOperator];\n    return match(userOperator, doc, userValue, parsedField, docFieldValue);\n  });\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nexport { massageSelector, matchesSelector, filterInMemoryFields, createFieldSorter, rowFilter, isCombinationalField, getKey, getValue, getFieldFromDoc, setFieldInDoc, compare, parseField };\n","import inherits from 'inherits';\nimport { Set } from 'pouchdb-collections';\nimport argsarray from 'argsarray';\nimport { nextTick } from 'pouchdb-utils';\n\nfunction QueryParseError(message) {\n  this.status = 400;\n  this.name = 'query_parse_error';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, QueryParseError);\n  } catch (e) {}\n}\n\ninherits(QueryParseError, Error);\n\nfunction NotFoundError(message) {\n  this.status = 404;\n  this.name = 'not_found';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, NotFoundError);\n  } catch (e) {}\n}\n\ninherits(NotFoundError, Error);\n\nfunction BuiltInError(message) {\n  this.status = 500;\n  this.name = 'invalid_value';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, BuiltInError);\n  } catch (e) {}\n}\n\ninherits(BuiltInError, Error);\n\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      nextTick(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      nextTick(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\n\nfunction callbackify(fun) {\n  return argsarray(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  });\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\n\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new Set(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\n\nexport { uniq, sequentialize, fin, callbackify, promisedCallback, mapToKeysArray, QueryParseError, NotFoundError, BuiltInError };\n","import { upsert, flatten, guardedConsole, nextTick, isRemote } from 'pouchdb-utils';\nimport { stringMd5 } from 'pouchdb-md5';\nimport { Set, Map } from 'pouchdb-collections';\nimport { base64StringToBlobOrBuffer } from 'pouchdb-binary-utils';\nimport { collate, toIndexableString, normalizeKey, parseIndexableString } from 'pouchdb-collate';\nimport { generateErrorFromResponse } from 'pouchdb-errors';\nimport { Headers } from 'pouchdb-fetch';\nimport { callbackify, sequentialize, uniq, fin, promisedCallback, mapToKeysArray, QueryParseError, NotFoundError, BuiltInError } from 'pouchdb-mapreduce-utils';\n\n/*\n * Simple task queue to sequentialize actions. Assumes\n * callbacks will eventually fire (once).\n */\n\n\nfunction TaskQueue() {\n  this.promise = new Promise(function (fulfill) {fulfill(); });\n}\nTaskQueue.prototype.add = function (promiseFactory) {\n  this.promise = this.promise.catch(function () {\n    // just recover\n  }).then(function () {\n    return promiseFactory();\n  });\n  return this.promise;\n};\nTaskQueue.prototype.finish = function () {\n  return this.promise;\n};\n\nfunction stringify(input) {\n  if (!input) {\n    return 'undefined'; // backwards compat for empty reduce\n  }\n  // for backwards compat with mapreduce, functions/strings are stringified\n  // as-is. everything else is JSON-stringified.\n  switch (typeof input) {\n    case 'function':\n      // e.g. a mapreduce map\n      return input.toString();\n    case 'string':\n      // e.g. a mapreduce built-in _reduce function\n      return input.toString();\n    default:\n      // e.g. a JSON object in the case of mango queries\n      return JSON.stringify(input);\n  }\n}\n\n/* create a string signature for a view so we can cache it and uniq it */\nfunction createViewSignature(mapFun, reduceFun) {\n  // the \"undefined\" part is for backwards compatibility\n  return stringify(mapFun) + stringify(reduceFun) + 'undefined';\n}\n\nfunction createView(sourceDB, viewName, mapFun, reduceFun, temporary, localDocName) {\n  var viewSignature = createViewSignature(mapFun, reduceFun);\n\n  var cachedViews;\n  if (!temporary) {\n    // cache this to ensure we don't try to update the same view twice\n    cachedViews = sourceDB._cachedViews = sourceDB._cachedViews || {};\n    if (cachedViews[viewSignature]) {\n      return cachedViews[viewSignature];\n    }\n  }\n\n  var promiseForView = sourceDB.info().then(function (info) {\n\n    var depDbName = info.db_name + '-mrview-' +\n      (temporary ? 'temp' : stringMd5(viewSignature));\n\n    // save the view name in the source db so it can be cleaned up if necessary\n    // (e.g. when the _design doc is deleted, remove all associated view data)\n    function diffFunction(doc) {\n      doc.views = doc.views || {};\n      var fullViewName = viewName;\n      if (fullViewName.indexOf('/') === -1) {\n        fullViewName = viewName + '/' + viewName;\n      }\n      var depDbs = doc.views[fullViewName] = doc.views[fullViewName] || {};\n      /* istanbul ignore if */\n      if (depDbs[depDbName]) {\n        return; // no update necessary\n      }\n      depDbs[depDbName] = true;\n      return doc;\n    }\n    return upsert(sourceDB, '_local/' + localDocName, diffFunction).then(function () {\n      return sourceDB.registerDependentDatabase(depDbName).then(function (res) {\n        var db = res.db;\n        db.auto_compaction = true;\n        var view = {\n          name: depDbName,\n          db: db,\n          sourceDB: sourceDB,\n          adapter: sourceDB.adapter,\n          mapFun: mapFun,\n          reduceFun: reduceFun\n        };\n        return view.db.get('_local/lastSeq').catch(function (err) {\n          /* istanbul ignore if */\n          if (err.status !== 404) {\n            throw err;\n          }\n        }).then(function (lastSeqDoc) {\n          view.seq = lastSeqDoc ? lastSeqDoc.seq : 0;\n          if (cachedViews) {\n            view.db.once('destroyed', function () {\n              delete cachedViews[viewSignature];\n            });\n          }\n          return view;\n        });\n      });\n    });\n  });\n\n  if (cachedViews) {\n    cachedViews[viewSignature] = promiseForView;\n  }\n  return promiseForView;\n}\n\nvar persistentQueues = {};\nvar tempViewQueue = new TaskQueue();\nvar CHANGES_BATCH_SIZE = 50;\n\nfunction parseViewName(name) {\n  // can be either 'ddocname/viewname' or just 'viewname'\n  // (where the ddoc name is the same)\n  return name.indexOf('/') === -1 ? [name, name] : name.split('/');\n}\n\nfunction isGenOne(changes) {\n  // only return true if the current change is 1-\n  // and there are no other leafs\n  return changes.length === 1 && /^1-/.test(changes[0].rev);\n}\n\nfunction emitError(db, e) {\n  try {\n    db.emit('error', e);\n  } catch (err) {\n    guardedConsole('error',\n      'The user\\'s map/reduce function threw an uncaught error.\\n' +\n      'You can debug this error by doing:\\n' +\n      'myDatabase.on(\\'error\\', function (err) { debugger; });\\n' +\n      'Please double-check your map/reduce function.');\n    guardedConsole('error', e);\n  }\n}\n\n/**\n * Returns an \"abstract\" mapreduce object of the form:\n *\n *   {\n *     query: queryFun,\n *     viewCleanup: viewCleanupFun\n *   }\n *\n * Arguments are:\n *\n * localDoc: string\n *   This is for the local doc that gets saved in order to track the\n *   \"dependent\" DBs and clean them up for viewCleanup. It should be\n *   unique, so that indexer plugins don't collide with each other.\n * mapper: function (mapFunDef, emit)\n *   Returns a map function based on the mapFunDef, which in the case of\n *   normal map/reduce is just the de-stringified function, but may be\n *   something else, such as an object in the case of pouchdb-find.\n * reducer: function (reduceFunDef)\n *   Ditto, but for reducing. Modules don't have to support reducing\n *   (e.g. pouchdb-find).\n * ddocValidator: function (ddoc, viewName)\n *   Throws an error if the ddoc or viewName is not valid.\n *   This could be a way to communicate to the user that the configuration for the\n *   indexer is invalid.\n */\nfunction createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator) {\n\n  function tryMap(db, fun, doc) {\n    // emit an event if there was an error thrown by a map function.\n    // putting try/catches in a single function also avoids deoptimizations.\n    try {\n      fun(doc);\n    } catch (e) {\n      emitError(db, e);\n    }\n  }\n\n  function tryReduce(db, fun, keys, values, rereduce) {\n    // same as above, but returning the result or an error. there are two separate\n    // functions to avoid extra memory allocations since the tryCode() case is used\n    // for custom map functions (common) vs this function, which is only used for\n    // custom reduce functions (rare)\n    try {\n      return {output : fun(keys, values, rereduce)};\n    } catch (e) {\n      emitError(db, e);\n      return {error: e};\n    }\n  }\n\n  function sortByKeyThenValue(x, y) {\n    var keyCompare = collate(x.key, y.key);\n    return keyCompare !== 0 ? keyCompare : collate(x.value, y.value);\n  }\n\n  function sliceResults(results, limit, skip) {\n    skip = skip || 0;\n    if (typeof limit === 'number') {\n      return results.slice(skip, limit + skip);\n    } else if (skip > 0) {\n      return results.slice(skip);\n    }\n    return results;\n  }\n\n  function rowToDocId(row) {\n    var val = row.value;\n    // Users can explicitly specify a joined doc _id, or it\n    // defaults to the doc _id that emitted the key/value.\n    var docId = (val && typeof val === 'object' && val._id) || row.id;\n    return docId;\n  }\n\n  function readAttachmentsAsBlobOrBuffer(res) {\n    res.rows.forEach(function (row) {\n      var atts = row.doc && row.doc._attachments;\n      if (!atts) {\n        return;\n      }\n      Object.keys(atts).forEach(function (filename) {\n        var att = atts[filename];\n        atts[filename].data = base64StringToBlobOrBuffer(att.data, att.content_type);\n      });\n    });\n  }\n\n  function postprocessAttachments(opts) {\n    return function (res) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        readAttachmentsAsBlobOrBuffer(res);\n      }\n      return res;\n    };\n  }\n\n  function addHttpParam(paramName, opts, params, asJson) {\n    // add an http param from opts to params, optionally json-encoded\n    var val = opts[paramName];\n    if (typeof val !== 'undefined') {\n      if (asJson) {\n        val = encodeURIComponent(JSON.stringify(val));\n      }\n      params.push(paramName + '=' + val);\n    }\n  }\n\n  function coerceInteger(integerCandidate) {\n    if (typeof integerCandidate !== 'undefined') {\n      var asNumber = Number(integerCandidate);\n      // prevents e.g. '1foo' or '1.1' being coerced to 1\n      if (!isNaN(asNumber) && asNumber === parseInt(integerCandidate, 10)) {\n        return asNumber;\n      } else {\n        return integerCandidate;\n      }\n    }\n  }\n\n  function coerceOptions(opts) {\n    opts.group_level = coerceInteger(opts.group_level);\n    opts.limit = coerceInteger(opts.limit);\n    opts.skip = coerceInteger(opts.skip);\n    return opts;\n  }\n\n  function checkPositiveInteger(number) {\n    if (number) {\n      if (typeof number !== 'number') {\n        return  new QueryParseError('Invalid value for integer: \"' +\n          number + '\"');\n      }\n      if (number < 0) {\n        return new QueryParseError('Invalid value for positive integer: ' +\n          '\"' + number + '\"');\n      }\n    }\n  }\n\n  function checkQueryParseError(options, fun) {\n    var startkeyName = options.descending ? 'endkey' : 'startkey';\n    var endkeyName = options.descending ? 'startkey' : 'endkey';\n\n    if (typeof options[startkeyName] !== 'undefined' &&\n      typeof options[endkeyName] !== 'undefined' &&\n      collate(options[startkeyName], options[endkeyName]) > 0) {\n      throw new QueryParseError('No rows can match your key range, ' +\n        'reverse your start_key and end_key or set {descending : true}');\n    } else if (fun.reduce && options.reduce !== false) {\n      if (options.include_docs) {\n        throw new QueryParseError('{include_docs:true} is invalid for reduce');\n      } else if (options.keys && options.keys.length > 1 &&\n        !options.group && !options.group_level) {\n        throw new QueryParseError('Multi-key fetches for reduce views must use ' +\n          '{group: true}');\n      }\n    }\n    ['group_level', 'limit', 'skip'].forEach(function (optionName) {\n      var error = checkPositiveInteger(options[optionName]);\n      if (error) {\n        throw error;\n      }\n    });\n  }\n\n  function httpQuery(db, fun, opts) {\n    // List of parameters to add to the PUT request\n    var params = [];\n    var body;\n    var method = 'GET';\n    var ok, status;\n\n    // If opts.reduce exists and is defined, then add it to the list\n    // of parameters.\n    // If reduce=false then the results are that of only the map function\n    // not the final result of map and reduce.\n    addHttpParam('reduce', opts, params);\n    addHttpParam('include_docs', opts, params);\n    addHttpParam('attachments', opts, params);\n    addHttpParam('limit', opts, params);\n    addHttpParam('descending', opts, params);\n    addHttpParam('group', opts, params);\n    addHttpParam('group_level', opts, params);\n    addHttpParam('skip', opts, params);\n    addHttpParam('stale', opts, params);\n    addHttpParam('conflicts', opts, params);\n    addHttpParam('startkey', opts, params, true);\n    addHttpParam('start_key', opts, params, true);\n    addHttpParam('endkey', opts, params, true);\n    addHttpParam('end_key', opts, params, true);\n    addHttpParam('inclusive_end', opts, params);\n    addHttpParam('key', opts, params, true);\n    addHttpParam('update_seq', opts, params);\n\n    // Format the list of parameters into a valid URI query string\n    params = params.join('&');\n    params = params === '' ? '' : '?' + params;\n\n    // If keys are supplied, issue a POST to circumvent GET query string limits\n    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options\n    if (typeof opts.keys !== 'undefined') {\n      var MAX_URL_LENGTH = 2000;\n      // according to http://stackoverflow.com/a/417184/680742,\n      // the de facto URL length limit is 2000 characters\n\n      var keysAsString =\n        'keys=' + encodeURIComponent(JSON.stringify(opts.keys));\n      if (keysAsString.length + params.length + 1 <= MAX_URL_LENGTH) {\n        // If the keys are short enough, do a GET. we do this to work around\n        // Safari not understanding 304s on POSTs (see pouchdb/pouchdb#1239)\n        params += (params[0] === '?' ? '&' : '?') + keysAsString;\n      } else {\n        method = 'POST';\n        if (typeof fun === 'string') {\n          body = {keys: opts.keys};\n        } else { // fun is {map : mapfun}, so append to this\n          fun.keys = opts.keys;\n        }\n      }\n    }\n\n    // We are referencing a query defined in the design doc\n    if (typeof fun === 'string') {\n      var parts = parseViewName(fun);\n      return db.fetch('_design/' + parts[0] + '/_view/' + parts[1] + params, {\n        headers: new Headers({'Content-Type': 'application/json'}),\n        method: method,\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n        return response.json();\n      }).then(function (result) {\n        if (!ok) {\n          result.status = status;\n          throw generateErrorFromResponse(result);\n        }\n        // fail the entire request if the result contains an error\n        result.rows.forEach(function (row) {\n          /* istanbul ignore if */\n          if (row.value && row.value.error && row.value.error === \"builtin_reduce_error\") {\n            throw new Error(row.reason);\n          }\n        });\n        return result;\n      }).then(postprocessAttachments(opts));\n    }\n\n    // We are using a temporary view, terrible for performance, good for testing\n    body = body || {};\n    Object.keys(fun).forEach(function (key) {\n      if (Array.isArray(fun[key])) {\n        body[key] = fun[key];\n      } else {\n        body[key] = fun[key].toString();\n      }\n    });\n\n    return db.fetch('_temp_view' + params, {\n      headers: new Headers({'Content-Type': 'application/json'}),\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n      return response.json();\n    }).then(function (result) {\n      if (!ok) {\n        result.status = status;\n        throw generateErrorFromResponse(result);\n      }\n      return result;\n    }).then(postprocessAttachments(opts));\n  }\n\n  // custom adapters can define their own api._query\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customQuery(db, fun, opts) {\n    return new Promise(function (resolve, reject) {\n      db._query(fun, opts, function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  // custom adapters can define their own api._viewCleanup\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customViewCleanup(db) {\n    return new Promise(function (resolve, reject) {\n      db._viewCleanup(function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  function defaultsTo(value) {\n    return function (reason) {\n      /* istanbul ignore else */\n      if (reason.status === 404) {\n        return value;\n      } else {\n        throw reason;\n      }\n    };\n  }\n\n  // returns a promise for a list of docs to update, based on the input docId.\n  // the order doesn't matter, because post-3.2.0, bulkDocs\n  // is an atomic operation in all three adapters.\n  function getDocsToPersist(docId, view, docIdsToChangesAndEmits) {\n    var metaDocId = '_local/doc_' + docId;\n    var defaultMetaDoc = {_id: metaDocId, keys: []};\n    var docData = docIdsToChangesAndEmits.get(docId);\n    var indexableKeysToKeyValues = docData[0];\n    var changes = docData[1];\n\n    function getMetaDoc() {\n      if (isGenOne(changes)) {\n        // generation 1, so we can safely assume initial state\n        // for performance reasons (avoids unnecessary GETs)\n        return Promise.resolve(defaultMetaDoc);\n      }\n      return view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc));\n    }\n\n    function getKeyValueDocs(metaDoc) {\n      if (!metaDoc.keys.length) {\n        // no keys, no need for a lookup\n        return Promise.resolve({rows: []});\n      }\n      return view.db.allDocs({\n        keys: metaDoc.keys,\n        include_docs: true\n      });\n    }\n\n    function processKeyValueDocs(metaDoc, kvDocsRes) {\n      var kvDocs = [];\n      var oldKeys = new Set();\n\n      for (var i = 0, len = kvDocsRes.rows.length; i < len; i++) {\n        var row = kvDocsRes.rows[i];\n        var doc = row.doc;\n        if (!doc) { // deleted\n          continue;\n        }\n        kvDocs.push(doc);\n        oldKeys.add(doc._id);\n        doc._deleted = !indexableKeysToKeyValues.has(doc._id);\n        if (!doc._deleted) {\n          var keyValue = indexableKeysToKeyValues.get(doc._id);\n          if ('value' in keyValue) {\n            doc.value = keyValue.value;\n          }\n        }\n      }\n      var newKeys = mapToKeysArray(indexableKeysToKeyValues);\n      newKeys.forEach(function (key) {\n        if (!oldKeys.has(key)) {\n          // new doc\n          var kvDoc = {\n            _id: key\n          };\n          var keyValue = indexableKeysToKeyValues.get(key);\n          if ('value' in keyValue) {\n            kvDoc.value = keyValue.value;\n          }\n          kvDocs.push(kvDoc);\n        }\n      });\n      metaDoc.keys = uniq(newKeys.concat(metaDoc.keys));\n      kvDocs.push(metaDoc);\n\n      return kvDocs;\n    }\n\n    return getMetaDoc().then(function (metaDoc) {\n      return getKeyValueDocs(metaDoc).then(function (kvDocsRes) {\n        return processKeyValueDocs(metaDoc, kvDocsRes);\n      });\n    });\n  }\n\n  // updates all emitted key/value docs and metaDocs in the mrview database\n  // for the given batch of documents from the source database\n  function saveKeyValues(view, docIdsToChangesAndEmits, seq) {\n    var seqDocId = '_local/lastSeq';\n    return view.db.get(seqDocId)\n      .catch(defaultsTo({_id: seqDocId, seq: 0}))\n      .then(function (lastSeqDoc) {\n        var docIds = mapToKeysArray(docIdsToChangesAndEmits);\n        return Promise.all(docIds.map(function (docId) {\n          return getDocsToPersist(docId, view, docIdsToChangesAndEmits);\n        })).then(function (listOfDocsToPersist) {\n          var docsToPersist = flatten(listOfDocsToPersist);\n          lastSeqDoc.seq = seq;\n          docsToPersist.push(lastSeqDoc);\n          // write all docs in a single operation, update the seq once\n          return view.db.bulkDocs({docs : docsToPersist});\n        });\n      });\n  }\n\n  function getQueue(view) {\n    var viewName = typeof view === 'string' ? view : view.name;\n    var queue = persistentQueues[viewName];\n    if (!queue) {\n      queue = persistentQueues[viewName] = new TaskQueue();\n    }\n    return queue;\n  }\n\n  function updateView(view) {\n    return sequentialize(getQueue(view), function () {\n      return updateViewInQueue(view);\n    })();\n  }\n\n  function updateViewInQueue(view) {\n    // bind the emit function once\n    var mapResults;\n    var doc;\n\n    function emit(key, value) {\n      var output = {id: doc._id, key: normalizeKey(key)};\n      // Don't explicitly store the value unless it's defined and non-null.\n      // This saves on storage space, because often people don't use it.\n      if (typeof value !== 'undefined' && value !== null) {\n        output.value = normalizeKey(value);\n      }\n      mapResults.push(output);\n    }\n\n    var mapFun = mapper(view.mapFun, emit);\n\n    var currentSeq = view.seq || 0;\n\n    function processChange(docIdsToChangesAndEmits, seq) {\n      return function () {\n        return saveKeyValues(view, docIdsToChangesAndEmits, seq);\n      };\n    }\n\n    var queue = new TaskQueue();\n\n    function processNextBatch() {\n      return view.sourceDB.changes({\n        return_docs: true,\n        conflicts: true,\n        include_docs: true,\n        style: 'all_docs',\n        since: currentSeq,\n        limit: CHANGES_BATCH_SIZE\n      }).then(processBatch);\n    }\n\n    function processBatch(response) {\n      var results = response.results;\n      if (!results.length) {\n        return;\n      }\n      var docIdsToChangesAndEmits = createDocIdsToChangesAndEmits(results);\n      queue.add(processChange(docIdsToChangesAndEmits, currentSeq));\n      if (results.length < CHANGES_BATCH_SIZE) {\n        return;\n      }\n      return processNextBatch();\n    }\n\n    function createDocIdsToChangesAndEmits(results) {\n      var docIdsToChangesAndEmits = new Map();\n      for (var i = 0, len = results.length; i < len; i++) {\n        var change = results[i];\n        if (change.doc._id[0] !== '_') {\n          mapResults = [];\n          doc = change.doc;\n\n          if (!doc._deleted) {\n            tryMap(view.sourceDB, mapFun, doc);\n          }\n          mapResults.sort(sortByKeyThenValue);\n\n          var indexableKeysToKeyValues = createIndexableKeysToKeyValues(mapResults);\n          docIdsToChangesAndEmits.set(change.doc._id, [\n            indexableKeysToKeyValues,\n            change.changes\n          ]);\n        }\n        currentSeq = change.seq;\n      }\n      return docIdsToChangesAndEmits;\n    }\n\n    function createIndexableKeysToKeyValues(mapResults) {\n      var indexableKeysToKeyValues = new Map();\n      var lastKey;\n      for (var i = 0, len = mapResults.length; i < len; i++) {\n        var emittedKeyValue = mapResults[i];\n        var complexKey = [emittedKeyValue.key, emittedKeyValue.id];\n        if (i > 0 && collate(emittedKeyValue.key, lastKey) === 0) {\n          complexKey.push(i); // dup key+id, so make it unique\n        }\n        indexableKeysToKeyValues.set(toIndexableString(complexKey), emittedKeyValue);\n        lastKey = emittedKeyValue.key;\n      }\n      return indexableKeysToKeyValues;\n    }\n\n    return processNextBatch().then(function () {\n      return queue.finish();\n    }).then(function () {\n      view.seq = currentSeq;\n    });\n  }\n\n  function reduceView(view, results, options) {\n    if (options.group_level === 0) {\n      delete options.group_level;\n    }\n\n    var shouldGroup = options.group || options.group_level;\n\n    var reduceFun = reducer(view.reduceFun);\n\n    var groups = [];\n    var lvl = isNaN(options.group_level) ? Number.POSITIVE_INFINITY :\n      options.group_level;\n    results.forEach(function (e) {\n      var last = groups[groups.length - 1];\n      var groupKey = shouldGroup ? e.key : null;\n\n      // only set group_level for array keys\n      if (shouldGroup && Array.isArray(groupKey)) {\n        groupKey = groupKey.slice(0, lvl);\n      }\n\n      if (last && collate(last.groupKey, groupKey) === 0) {\n        last.keys.push([e.key, e.id]);\n        last.values.push(e.value);\n        return;\n      }\n      groups.push({\n        keys: [[e.key, e.id]],\n        values: [e.value],\n        groupKey: groupKey\n      });\n    });\n    results = [];\n    for (var i = 0, len = groups.length; i < len; i++) {\n      var e = groups[i];\n      var reduceTry = tryReduce(view.sourceDB, reduceFun, e.keys, e.values, false);\n      if (reduceTry.error && reduceTry.error instanceof BuiltInError) {\n        // CouchDB returns an error if a built-in errors out\n        throw reduceTry.error;\n      }\n      results.push({\n        // CouchDB just sets the value to null if a non-built-in errors out\n        value: reduceTry.error ? null : reduceTry.output,\n        key: e.groupKey\n      });\n    }\n    // no total_rows/offset when reducing\n    return {rows: sliceResults(results, options.limit, options.skip)};\n  }\n\n  function queryView(view, opts) {\n    return sequentialize(getQueue(view), function () {\n      return queryViewInQueue(view, opts);\n    })();\n  }\n\n  function queryViewInQueue(view, opts) {\n    var totalRows;\n    var shouldReduce = view.reduceFun && opts.reduce !== false;\n    var skip = opts.skip || 0;\n    if (typeof opts.keys !== 'undefined' && !opts.keys.length) {\n      // equivalent query\n      opts.limit = 0;\n      delete opts.keys;\n    }\n\n    function fetchFromView(viewOpts) {\n      viewOpts.include_docs = true;\n      return view.db.allDocs(viewOpts).then(function (res) {\n        totalRows = res.total_rows;\n        return res.rows.map(function (result) {\n\n          // implicit migration - in older versions of PouchDB,\n          // we explicitly stored the doc as {id: ..., key: ..., value: ...}\n          // this is tested in a migration test\n          /* istanbul ignore next */\n          if ('value' in result.doc && typeof result.doc.value === 'object' &&\n            result.doc.value !== null) {\n            var keys = Object.keys(result.doc.value).sort();\n            // this detection method is not perfect, but it's unlikely the user\n            // emitted a value which was an object with these 3 exact keys\n            var expectedKeys = ['id', 'key', 'value'];\n            if (!(keys < expectedKeys || keys > expectedKeys)) {\n              return result.doc.value;\n            }\n          }\n\n          var parsedKeyAndDocId = parseIndexableString(result.doc._id);\n          return {\n            key: parsedKeyAndDocId[0],\n            id: parsedKeyAndDocId[1],\n            value: ('value' in result.doc ? result.doc.value : null)\n          };\n        });\n      });\n    }\n\n    function onMapResultsReady(rows) {\n      var finalResults;\n      if (shouldReduce) {\n        finalResults = reduceView(view, rows, opts);\n      } else {\n        finalResults = {\n          total_rows: totalRows,\n          offset: skip,\n          rows: rows\n        };\n      }\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        finalResults.update_seq = view.seq;\n      }\n      if (opts.include_docs) {\n        var docIds = uniq(rows.map(rowToDocId));\n\n        return view.sourceDB.allDocs({\n          keys: docIds,\n          include_docs: true,\n          conflicts: opts.conflicts,\n          attachments: opts.attachments,\n          binary: opts.binary\n        }).then(function (allDocsRes) {\n          var docIdsToDocs = new Map();\n          allDocsRes.rows.forEach(function (row) {\n            docIdsToDocs.set(row.id, row.doc);\n          });\n          rows.forEach(function (row) {\n            var docId = rowToDocId(row);\n            var doc = docIdsToDocs.get(docId);\n            if (doc) {\n              row.doc = doc;\n            }\n          });\n          return finalResults;\n        });\n      } else {\n        return finalResults;\n      }\n    }\n\n    if (typeof opts.keys !== 'undefined') {\n      var keys = opts.keys;\n      var fetchPromises = keys.map(function (key) {\n        var viewOpts = {\n          startkey : toIndexableString([key]),\n          endkey   : toIndexableString([key, {}])\n        };\n        /* istanbul ignore if */\n        if (opts.update_seq) {\n          viewOpts.update_seq = true;\n        }\n        return fetchFromView(viewOpts);\n      });\n      return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady);\n    } else { // normal query, no 'keys'\n      var viewOpts = {\n        descending : opts.descending\n      };\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        viewOpts.update_seq = true;\n      }\n      var startkey;\n      var endkey;\n      if ('start_key' in opts) {\n        startkey = opts.start_key;\n      }\n      if ('startkey' in opts) {\n        startkey = opts.startkey;\n      }\n      if ('end_key' in opts) {\n        endkey = opts.end_key;\n      }\n      if ('endkey' in opts) {\n        endkey = opts.endkey;\n      }\n      if (typeof startkey !== 'undefined') {\n        viewOpts.startkey = opts.descending ?\n          toIndexableString([startkey, {}]) :\n          toIndexableString([startkey]);\n      }\n      if (typeof endkey !== 'undefined') {\n        var inclusiveEnd = opts.inclusive_end !== false;\n        if (opts.descending) {\n          inclusiveEnd = !inclusiveEnd;\n        }\n\n        viewOpts.endkey = toIndexableString(\n          inclusiveEnd ? [endkey, {}] : [endkey]);\n      }\n      if (typeof opts.key !== 'undefined') {\n        var keyStart = toIndexableString([opts.key]);\n        var keyEnd = toIndexableString([opts.key, {}]);\n        if (viewOpts.descending) {\n          viewOpts.endkey = keyStart;\n          viewOpts.startkey = keyEnd;\n        } else {\n          viewOpts.startkey = keyStart;\n          viewOpts.endkey = keyEnd;\n        }\n      }\n      if (!shouldReduce) {\n        if (typeof opts.limit === 'number') {\n          viewOpts.limit = opts.limit;\n        }\n        viewOpts.skip = skip;\n      }\n      return fetchFromView(viewOpts).then(onMapResultsReady);\n    }\n  }\n\n  function httpViewCleanup(db) {\n    return db.fetch('_view_cleanup', {\n      headers: new Headers({'Content-Type': 'application/json'}),\n      method: 'POST'\n    }).then(function (response) {\n      return response.json();\n    });\n  }\n\n  function localViewCleanup(db) {\n    return db.get('_local/' + localDocName).then(function (metaDoc) {\n      var docsToViews = new Map();\n      Object.keys(metaDoc.views).forEach(function (fullViewName) {\n        var parts = parseViewName(fullViewName);\n        var designDocName = '_design/' + parts[0];\n        var viewName = parts[1];\n        var views = docsToViews.get(designDocName);\n        if (!views) {\n          views = new Set();\n          docsToViews.set(designDocName, views);\n        }\n        views.add(viewName);\n      });\n      var opts = {\n        keys : mapToKeysArray(docsToViews),\n        include_docs : true\n      };\n      return db.allDocs(opts).then(function (res) {\n        var viewsToStatus = {};\n        res.rows.forEach(function (row) {\n          var ddocName = row.key.substring(8); // cuts off '_design/'\n          docsToViews.get(row.key).forEach(function (viewName) {\n            var fullViewName = ddocName + '/' + viewName;\n            /* istanbul ignore if */\n            if (!metaDoc.views[fullViewName]) {\n              // new format, without slashes, to support PouchDB 2.2.0\n              // migration test in pouchdb's browser.migration.js verifies this\n              fullViewName = viewName;\n            }\n            var viewDBNames = Object.keys(metaDoc.views[fullViewName]);\n            // design doc deleted, or view function nonexistent\n            var statusIsGood = row.doc && row.doc.views &&\n              row.doc.views[viewName];\n            viewDBNames.forEach(function (viewDBName) {\n              viewsToStatus[viewDBName] =\n                viewsToStatus[viewDBName] || statusIsGood;\n            });\n          });\n        });\n        var dbsToDelete = Object.keys(viewsToStatus).filter(\n          function (viewDBName) { return !viewsToStatus[viewDBName]; });\n        var destroyPromises = dbsToDelete.map(function (viewDBName) {\n          return sequentialize(getQueue(viewDBName), function () {\n            return new db.constructor(viewDBName, db.__opts).destroy();\n          })();\n        });\n        return Promise.all(destroyPromises).then(function () {\n          return {ok: true};\n        });\n      });\n    }, defaultsTo({ok: true}));\n  }\n\n  function queryPromised(db, fun, opts) {\n    /* istanbul ignore next */\n    if (typeof db._query === 'function') {\n      return customQuery(db, fun, opts);\n    }\n    if (isRemote(db)) {\n      return httpQuery(db, fun, opts);\n    }\n\n    if (typeof fun !== 'string') {\n      // temp_view\n      checkQueryParseError(opts, fun);\n\n      tempViewQueue.add(function () {\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ 'temp_view/temp_view',\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ true,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          return fin(updateView(view).then(function () {\n            return queryView(view, opts);\n          }), function () {\n            return view.db.destroy();\n          });\n        });\n      });\n      return tempViewQueue.finish();\n    } else {\n      // persistent view\n      var fullViewName = fun;\n      var parts = parseViewName(fullViewName);\n      var designDocName = parts[0];\n      var viewName = parts[1];\n      return db.get('_design/' + designDocName).then(function (doc) {\n        var fun = doc.views && doc.views[viewName];\n\n        if (!fun) {\n          // basic validator; it's assumed that every subclass would want this\n          throw new NotFoundError('ddoc ' + doc._id + ' has no view named ' +\n            viewName);\n        }\n\n        ddocValidator(doc, viewName);\n        checkQueryParseError(opts, fun);\n\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ fullViewName,\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ false,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          if (opts.stale === 'ok' || opts.stale === 'update_after') {\n            if (opts.stale === 'update_after') {\n              nextTick(function () {\n                updateView(view);\n              });\n            }\n            return queryView(view, opts);\n          } else { // stale not ok\n            return updateView(view).then(function () {\n              return queryView(view, opts);\n            });\n          }\n        });\n      });\n    }\n  }\n\n  function abstractQuery(fun, opts, callback) {\n    var db = this;\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = opts ? coerceOptions(opts) : {};\n\n    if (typeof fun === 'function') {\n      fun = {map : fun};\n    }\n\n    var promise = Promise.resolve().then(function () {\n      return queryPromised(db, fun, opts);\n    });\n    promisedCallback(promise, callback);\n    return promise;\n  }\n\n  var abstractViewCleanup = callbackify(function () {\n    var db = this;\n    /* istanbul ignore next */\n    if (typeof db._viewCleanup === 'function') {\n      return customViewCleanup(db);\n    }\n    if (isRemote(db)) {\n      return httpViewCleanup(db);\n    }\n    return localViewCleanup(db);\n  });\n\n  return {\n    query: abstractQuery,\n    viewCleanup: abstractViewCleanup\n  };\n}\n\nexport default createAbstractMapReduce;\n","import { clone, assign, nextTick, upsert, toPromise, isRemote } from 'pouchdb-utils';\nimport { generateErrorFromResponse } from 'pouchdb-errors';\nimport { Headers } from 'pouchdb-fetch';\nimport { getFieldFromDoc, setFieldInDoc, parseField, getKey, getValue, compare, massageSelector, filterInMemoryFields } from 'pouchdb-selector-core';\nimport abstractMapReduce from 'pouchdb-abstract-mapreduce';\nimport { collate } from 'pouchdb-collate';\nimport { stringMd5 } from 'pouchdb-md5';\n\n// we restucture the supplied JSON considerably, because the official\n// Mango API is very particular about a lot of this stuff, but we like\n// to be liberal with what we accept in order to prevent mental\n// breakdowns in our users\nfunction massageCreateIndexRequest(requestDef) {\n  requestDef = clone(requestDef);\n\n  if (!requestDef.index) {\n    requestDef.index = {};\n  }\n\n  ['type', 'name', 'ddoc'].forEach(function (key) {\n    if (requestDef.index[key]) {\n      requestDef[key] = requestDef.index[key];\n      delete requestDef.index[key];\n    }\n  });\n\n  if (requestDef.fields) {\n    requestDef.index.fields = requestDef.fields;\n    delete requestDef.fields;\n  }\n\n  if (!requestDef.type) {\n    requestDef.type = 'json';\n  }\n  return requestDef;\n}\n\nfunction dbFetch(db, path, opts, callback) {\n  var status, ok;\n  opts.headers = new Headers({'Content-type': 'application/json'});\n  db.fetch(path, opts).then(function (response) {\n    status = response.status;\n    ok = response.ok;\n    return response.json();\n  }).then(function (json) {\n    if (!ok) {\n      json.status = status;\n      var err = generateErrorFromResponse(json);\n      callback(err);\n    } else {\n      callback(null, json);\n    }\n  }).catch(callback);\n}\n\nfunction createIndex(db, requestDef, callback) {\n  requestDef = massageCreateIndexRequest(requestDef);\n  dbFetch(db, '_index', {\n    method: 'POST',\n    body: JSON.stringify(requestDef)\n  }, callback);\n}\n\nfunction find(db, requestDef, callback) {\n  dbFetch(db, '_find', {\n    method: 'POST',\n    body: JSON.stringify(requestDef)\n  }, callback);\n}\n\nfunction explain(db, requestDef, callback) {\n  dbFetch(db, '_explain', {\n    method: 'POST',\n    body: JSON.stringify(requestDef)\n  }, callback);\n}\n\nfunction getIndexes(db, callback) {\n  dbFetch(db, '_index', {\n    method: 'GET'\n  }, callback);\n}\n\nfunction deleteIndex(db, indexDef, callback) {\n\n\n  var ddoc = indexDef.ddoc;\n  var type = indexDef.type || 'json';\n  var name = indexDef.name;\n\n  if (!ddoc) {\n    return callback(new Error('you must provide an index\\'s ddoc'));\n  }\n\n  if (!name) {\n    return callback(new Error('you must provide an index\\'s name'));\n  }\n\n  var url = '_index/' + [ddoc, type, name].map(encodeURIComponent).join('/');\n\n  dbFetch(db, url, {method: 'DELETE'}, callback);\n}\n\nfunction getArguments(fun) {\n  return function () {\n    var len = arguments.length;\n    var args = new Array(len);\n    var i = -1;\n    while (++i < len) {\n      args[i] = arguments[i];\n    }\n    return fun.call(this, args);\n  };\n}\n\nfunction callbackify(fun) {\n  return getArguments(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    promisedCallback(promise, cb);\n    return promise;\n  });\n}\n\nfunction promisedCallback(promise, callback) {\n  promise.then(function (res) {\n    nextTick(function () {\n      callback(null, res);\n    });\n  }, function (reason) {\n    nextTick(function () {\n      callback(reason);\n    });\n  });\n  return promise;\n}\n\nvar flatten = getArguments(function (args) {\n  var res = [];\n  for (var i = 0, len = args.length; i < len; i++) {\n    var subArr = args[i];\n    if (Array.isArray(subArr)) {\n      res = res.concat(flatten.apply(null, subArr));\n    } else {\n      res.push(subArr);\n    }\n  }\n  return res;\n});\n\nfunction mergeObjects(arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res = assign(res, arr[i]);\n  }\n  return res;\n}\n\n// Selects a list of fields defined in dot notation from one doc\n// and copies them to a new doc. Like underscore _.pick but supports nesting.\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var parsedField = parseField(arr[i]);\n    var value = getFieldFromDoc(obj, parsedField);\n    if (typeof value !== 'undefined') {\n      setFieldInDoc(res, parsedField, value);\n    }\n  }\n  return res;\n}\n\n// e.g. ['a'], ['a', 'b'] is true, but ['b'], ['a', 'b'] is false\nfunction oneArrayIsSubArrayOfOther(left, right) {\n\n  for (var i = 0, len = Math.min(left.length, right.length); i < len; i++) {\n    if (left[i] !== right[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// e.g.['a', 'b', 'c'], ['a', 'b'] is false\nfunction oneArrayIsStrictSubArrayOfOther(left, right) {\n\n  if (left.length > right.length) {\n    return false;\n  }\n\n  return oneArrayIsSubArrayOfOther(left, right);\n}\n\n// same as above, but treat the left array as an unordered set\n// e.g. ['b', 'a'], ['a', 'b', 'c'] is true, but ['c'], ['a', 'b', 'c'] is false\nfunction oneSetIsSubArrayOfOther(left, right) {\n  left = left.slice();\n  for (var i = 0, len = right.length; i < len; i++) {\n    var field = right[i];\n    if (!left.length) {\n      break;\n    }\n    var leftIdx = left.indexOf(field);\n    if (leftIdx === -1) {\n      return false;\n    } else {\n      left.splice(leftIdx, 1);\n    }\n  }\n  return true;\n}\n\nfunction arrayToObject(arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res[arr[i]] = true;\n  }\n  return res;\n}\n\nfunction max(arr, fun) {\n  var max = null;\n  var maxScore = -1;\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var element = arr[i];\n    var score = fun(element);\n    if (score > maxScore) {\n      maxScore = score;\n      max = element;\n    }\n  }\n  return max;\n}\n\nfunction arrayEquals(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (var i = 0, len = arr1.length; i < len; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction uniq(arr) {\n  var obj = {};\n  for (var i = 0; i < arr.length; i++) {\n    obj['$' + arr[i]] = true;\n  }\n  return Object.keys(obj).map(function (key) {\n    return key.substring(1);\n  });\n}\n\n//\n// One thing about these mappers:\n//\n// Per the advice of John-David Dalton (http://youtu.be/NthmeLEhDDM),\n// what you want to do in this case is optimize for the smallest possible\n// function, since that's the thing that gets run over and over again.\n//\n// This code would be a lot simpler if all the if/elses were inside\n// the function, but it would also be a lot less performant.\n//\n\n\nfunction createDeepMultiMapper(fields, emit) {\n  return function (doc) {\n    var toEmit = [];\n    for (var i = 0, iLen = fields.length; i < iLen; i++) {\n      var parsedField = parseField(fields[i]);\n      var value = doc;\n      for (var j = 0, jLen = parsedField.length; j < jLen; j++) {\n        var key = parsedField[j];\n        value = value[key];\n        if (typeof value === 'undefined') {\n          return; // don't emit\n        }\n      }\n      toEmit.push(value);\n    }\n    emit(toEmit);\n  };\n}\n\nfunction createDeepSingleMapper(field, emit) {\n  var parsedField = parseField(field);\n  return function (doc) {\n    var value = doc;\n    for (var i = 0, len = parsedField.length; i < len; i++) {\n      var key = parsedField[i];\n      value = value[key];\n      if (typeof value === 'undefined') {\n        return; // do nothing\n      }\n    }\n    emit(value);\n  };\n}\n\nfunction createShallowSingleMapper(field, emit) {\n  return function (doc) {\n    emit(doc[field]);\n  };\n}\n\nfunction createShallowMultiMapper(fields, emit) {\n  return function (doc) {\n    var toEmit = [];\n    for (var i = 0, len = fields.length; i < len; i++) {\n      toEmit.push(doc[fields[i]]);\n    }\n    emit(toEmit);\n  };\n}\n\nfunction checkShallow(fields) {\n  for (var i = 0, len = fields.length; i < len; i++) {\n    var field = fields[i];\n    if (field.indexOf('.') !== -1) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction createMapper(fields, emit) {\n  var isShallow = checkShallow(fields);\n  var isSingle = fields.length === 1;\n\n  // notice we try to optimize for the most common case,\n  // i.e. single shallow indexes\n  if (isShallow) {\n    if (isSingle) {\n      return createShallowSingleMapper(fields[0], emit);\n    } else { // multi\n      return createShallowMultiMapper(fields, emit);\n    }\n  } else { // deep\n    if (isSingle) {\n      return createDeepSingleMapper(fields[0], emit);\n    } else { // multi\n      return createDeepMultiMapper(fields, emit);\n    }\n  }\n}\n\nfunction mapper(mapFunDef, emit) {\n  // mapFunDef is a list of fields\n\n  var fields = Object.keys(mapFunDef.fields);\n\n  return createMapper(fields, emit);\n}\n\n/* istanbul ignore next */\nfunction reducer(/*reduceFunDef*/) {\n  throw new Error('reduce not supported');\n}\n\nfunction ddocValidator(ddoc, viewName) {\n  var view = ddoc.views[viewName];\n  // This doesn't actually need to be here apparently, but\n  // I feel safer keeping it.\n  /* istanbul ignore if */\n  if (!view.map || !view.map.fields) {\n    throw new Error('ddoc ' + ddoc._id +' with view ' + viewName +\n      ' doesn\\'t have map.fields defined. ' +\n      'maybe it wasn\\'t created by this plugin?');\n  }\n}\n\nvar abstractMapper = abstractMapReduce(\n  /* localDocName */ 'indexes',\n  mapper,\n  reducer,\n  ddocValidator\n);\n\n// normalize the \"sort\" value\nfunction massageSort(sort) {\n  if (!Array.isArray(sort)) {\n    throw new Error('invalid sort json - should be an array');\n  }\n  return sort.map(function (sorting) {\n    if (typeof sorting === 'string') {\n      var obj = {};\n      obj[sorting] = 'asc';\n      return obj;\n    } else {\n      return sorting;\n    }\n  });\n}\n\nfunction massageUseIndex(useIndex) {\n  var cleanedUseIndex = [];\n  if (typeof useIndex === 'string') {\n    cleanedUseIndex.push(useIndex);\n  } else {\n    cleanedUseIndex = useIndex;\n  }\n\n  return cleanedUseIndex.map(function (name) {\n    return name.replace('_design/', '');\n  });\n}\n\nfunction massageIndexDef(indexDef) {\n  indexDef.fields = indexDef.fields.map(function (field) {\n    if (typeof field === 'string') {\n      var obj = {};\n      obj[field] = 'asc';\n      return obj;\n    }\n    return field;\n  });\n  return indexDef;\n}\n\nfunction getKeyFromDoc(doc, index) {\n  var res = [];\n  for (var i = 0; i < index.def.fields.length; i++) {\n    var field = getKey(index.def.fields[i]);\n    res.push(doc[field]);\n  }\n  return res;\n}\n\n// have to do this manually because REASONS. I don't know why\n// CouchDB didn't implement inclusive_start\nfunction filterInclusiveStart(rows, targetValue, index) {\n  var indexFields = index.def.fields;\n  for (var i = 0, len = rows.length; i < len; i++) {\n    var row = rows[i];\n\n    // shave off any docs at the beginning that are <= the\n    // target value\n\n    var docKey = getKeyFromDoc(row.doc, index);\n    if (indexFields.length === 1) {\n      docKey = docKey[0]; // only one field, not multi-field\n    } else { // more than one field in index\n      // in the case where e.g. the user is searching {$gt: {a: 1}}\n      // but the index is [a, b], then we need to shorten the doc key\n      while (docKey.length > targetValue.length) {\n        docKey.pop();\n      }\n    }\n    //ABS as we just looking for values that don't match\n    if (Math.abs(collate(docKey, targetValue)) > 0) {\n      // no need to filter any further; we're past the key\n      break;\n    }\n  }\n  return i > 0 ? rows.slice(i) : rows;\n}\n\nfunction reverseOptions(opts) {\n  var newOpts = clone(opts);\n  delete newOpts.startkey;\n  delete newOpts.endkey;\n  delete newOpts.inclusive_start;\n  delete newOpts.inclusive_end;\n\n  if ('endkey' in opts) {\n    newOpts.startkey = opts.endkey;\n  }\n  if ('startkey' in opts) {\n    newOpts.endkey = opts.startkey;\n  }\n  if ('inclusive_start' in opts) {\n    newOpts.inclusive_end = opts.inclusive_start;\n  }\n  if ('inclusive_end' in opts) {\n    newOpts.inclusive_start = opts.inclusive_end;\n  }\n  return newOpts;\n}\n\nfunction validateIndex(index) {\n  var ascFields = index.fields.filter(function (field) {\n    return getValue(field) === 'asc';\n  });\n  if (ascFields.length !== 0 && ascFields.length !== index.fields.length) {\n    throw new Error('unsupported mixed sorting');\n  }\n}\n\nfunction validateSort(requestDef, index) {\n  if (index.defaultUsed && requestDef.sort) {\n    var noneIdSorts = requestDef.sort.filter(function (sortItem) {\n      return Object.keys(sortItem)[0] !== '_id';\n    }).map(function (sortItem) {\n      return Object.keys(sortItem)[0];\n    });\n\n    if (noneIdSorts.length > 0) {\n      throw new Error('Cannot sort on field(s) \"' + noneIdSorts.join(',') +\n      '\" when using the default index');\n    }\n  }\n\n  if (index.defaultUsed) {\n    return;\n  }\n}\n\nfunction validateFindRequest(requestDef) {\n  if (typeof requestDef.selector !== 'object') {\n    throw new Error('you must provide a selector when you find()');\n  }\n\n  /*var selectors = requestDef.selector['$and'] || [requestDef.selector];\n  for (var i = 0; i < selectors.length; i++) {\n    var selector = selectors[i];\n    var keys = Object.keys(selector);\n    if (keys.length === 0) {\n      throw new Error('invalid empty selector');\n    }\n    //var selection = selector[keys[0]];\n    /*if (Object.keys(selection).length !== 1) {\n      throw new Error('invalid selector: ' + JSON.stringify(selection) +\n        ' - it must have exactly one key/value');\n    }\n  }*/\n}\n\n// determine the maximum number of fields\n// we're going to need to query, e.g. if the user\n// has selection ['a'] and sorting ['a', 'b'], then we\n// need to use the longer of the two: ['a', 'b']\nfunction getUserFields(selector, sort) {\n  var selectorFields = Object.keys(selector);\n  var sortFields = sort? sort.map(getKey) : [];\n  var userFields;\n  if (selectorFields.length >= sortFields.length) {\n    userFields = selectorFields;\n  } else {\n    userFields = sortFields;\n  }\n\n  if (sortFields.length === 0) {\n    return {\n      fields: userFields\n    };\n  }\n\n  // sort according to the user's preferred sorting\n  userFields = userFields.sort(function (left, right) {\n    var leftIdx = sortFields.indexOf(left);\n    if (leftIdx === -1) {\n      leftIdx = Number.MAX_VALUE;\n    }\n    var rightIdx = sortFields.indexOf(right);\n    if (rightIdx === -1) {\n      rightIdx = Number.MAX_VALUE;\n    }\n    return leftIdx < rightIdx ? -1 : leftIdx > rightIdx ? 1 : 0;\n  });\n\n  return {\n    fields: userFields,\n    sortOrder: sort.map(getKey)\n  };\n}\n\nfunction createIndex$1(db, requestDef) {\n  requestDef = massageCreateIndexRequest(requestDef);\n  var originalIndexDef = clone(requestDef.index);\n  requestDef.index = massageIndexDef(requestDef.index);\n\n  validateIndex(requestDef.index);\n\n  // calculating md5 is expensive - memoize and only\n  // run if required\n  var md5;\n  function getMd5() {\n    return md5 || (md5 = stringMd5(JSON.stringify(requestDef)));\n  }\n\n  var viewName = requestDef.name || ('idx-' + getMd5());\n\n  var ddocName = requestDef.ddoc || ('idx-' + getMd5());\n  var ddocId = '_design/' + ddocName;\n\n  var hasInvalidLanguage = false;\n  var viewExists = false;\n\n  function updateDdoc(doc) {\n    if (doc._rev && doc.language !== 'query') {\n      hasInvalidLanguage = true;\n    }\n    doc.language = 'query';\n    doc.views = doc.views || {};\n\n    viewExists = !!doc.views[viewName];\n\n    if (viewExists) {\n      return false;\n    }\n\n    doc.views[viewName] = {\n      map: {\n        fields: mergeObjects(requestDef.index.fields)\n      },\n      reduce: '_count',\n      options: {\n        def: originalIndexDef\n      }\n    };\n\n    return doc;\n  }\n\n  db.constructor.emit('debug', ['find', 'creating index', ddocId]);\n\n  return upsert(db, ddocId, updateDdoc).then(function () {\n    if (hasInvalidLanguage) {\n      throw new Error('invalid language for ddoc with id \"' +\n      ddocId +\n      '\" (should be \"query\")');\n    }\n  }).then(function () {\n    // kick off a build\n    // TODO: abstract-pouchdb-mapreduce should support auto-updating\n    // TODO: should also use update_after, but pouchdb/pouchdb#3415 blocks me\n    var signature = ddocName + '/' + viewName;\n    return abstractMapper.query.call(db, signature, {\n      limit: 0,\n      reduce: false\n    }).then(function () {\n      return {\n        id: ddocId,\n        name: viewName,\n        result: viewExists ? 'exists' : 'created'\n      };\n    });\n  });\n}\n\nfunction getIndexes$1(db) {\n  // just search through all the design docs and filter in-memory.\n  // hopefully there aren't that many ddocs.\n  return db.allDocs({\n    startkey: '_design/',\n    endkey: '_design/\\uffff',\n    include_docs: true\n  }).then(function (allDocsRes) {\n    var res = {\n      indexes: [{\n        ddoc: null,\n        name: '_all_docs',\n        type: 'special',\n        def: {\n          fields: [{_id: 'asc'}]\n        }\n      }]\n    };\n\n    res.indexes = flatten(res.indexes, allDocsRes.rows.filter(function (row) {\n      return row.doc.language === 'query';\n    }).map(function (row) {\n      var viewNames = row.doc.views !== undefined ? Object.keys(row.doc.views) : [];\n\n      return viewNames.map(function (viewName) {\n        var view = row.doc.views[viewName];\n        return {\n          ddoc: row.id,\n          name: viewName,\n          type: 'json',\n          def: massageIndexDef(view.options.def)\n        };\n      });\n    }));\n\n    // these are sorted by view name for some reason\n    res.indexes.sort(function (left, right) {\n      return compare(left.name, right.name);\n    });\n    res.total_rows = res.indexes.length;\n    return res;\n  });\n}\n\n// couchdb lowest collation value\nvar COLLATE_LO = null;\n\n// couchdb highest collation value (TODO: well not really, but close enough amirite)\nvar COLLATE_HI = {\"\\uffff\": {}};\n\n// couchdb second-lowest collation value\n\nfunction checkFieldInIndex(index, field) {\n  var indexFields = index.def.fields.map(getKey);\n  for (var i = 0, len = indexFields.length; i < len; i++) {\n    var indexField = indexFields[i];\n    if (field === indexField) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// so when you do e.g. $eq/$eq, we can do it entirely in the database.\n// but when you do e.g. $gt/$eq, the first part can be done\n// in the database, but the second part has to be done in-memory,\n// because $gt has forced us to lose precision.\n// so that's what this determines\nfunction userOperatorLosesPrecision(selector, field) {\n  var matcher = selector[field];\n  var userOperator = getKey(matcher);\n\n  return userOperator !== '$eq';\n}\n\n// sort the user fields by their position in the index,\n// if they're in the index\nfunction sortFieldsByIndex(userFields, index) {\n  var indexFields = index.def.fields.map(getKey);\n\n  return userFields.slice().sort(function (a, b) {\n    var aIdx = indexFields.indexOf(a);\n    var bIdx = indexFields.indexOf(b);\n    if (aIdx === -1) {\n      aIdx = Number.MAX_VALUE;\n    }\n    if (bIdx === -1) {\n      bIdx = Number.MAX_VALUE;\n    }\n    return compare(aIdx, bIdx);\n  });\n}\n\n// first pass to try to find fields that will need to be sorted in-memory\nfunction getBasicInMemoryFields(index, selector, userFields) {\n\n  userFields = sortFieldsByIndex(userFields, index);\n\n  // check if any of the user selectors lose precision\n  var needToFilterInMemory = false;\n  for (var i = 0, len = userFields.length; i < len; i++) {\n    var field = userFields[i];\n    if (needToFilterInMemory || !checkFieldInIndex(index, field)) {\n      return userFields.slice(i);\n    }\n    if (i < len - 1 && userOperatorLosesPrecision(selector, field)) {\n      needToFilterInMemory = true;\n    }\n  }\n  return [];\n}\n\nfunction getInMemoryFieldsFromNe(selector) {\n  var fields = [];\n  Object.keys(selector).forEach(function (field) {\n    var matcher = selector[field];\n    Object.keys(matcher).forEach(function (operator) {\n      if (operator === '$ne') {\n        fields.push(field);\n      }\n    });\n  });\n  return fields;\n}\n\nfunction getInMemoryFields(coreInMemoryFields, index, selector, userFields) {\n  var result = flatten(\n    // in-memory fields reported as necessary by the query planner\n    coreInMemoryFields,\n    // combine with another pass that checks for any we may have missed\n    getBasicInMemoryFields(index, selector, userFields),\n    // combine with another pass that checks for $ne's\n    getInMemoryFieldsFromNe(selector)\n  );\n\n  return sortFieldsByIndex(uniq(result), index);\n}\n\n// check that at least one field in the user's query is represented\n// in the index. order matters in the case of sorts\nfunction checkIndexFieldsMatch(indexFields, sortOrder, fields) {\n  if (sortOrder) {\n    // array has to be a strict subarray of index array. furthermore,\n    // the sortOrder fields need to all be represented in the index\n    var sortMatches = oneArrayIsStrictSubArrayOfOther(sortOrder, indexFields);\n    var selectorMatches = oneArrayIsSubArrayOfOther(fields, indexFields);\n\n    return sortMatches && selectorMatches;\n  }\n\n  // all of the user's specified fields still need to be\n  // on the left side of the index array, although the order\n  // doesn't matter\n  return oneSetIsSubArrayOfOther(fields, indexFields);\n}\n\nvar logicalMatchers = ['$eq', '$gt', '$gte', '$lt', '$lte'];\nfunction isNonLogicalMatcher(matcher) {\n  return logicalMatchers.indexOf(matcher) === -1;\n}\n\n// check all the index fields for usages of '$ne'\n// e.g. if the user queries {foo: {$ne: 'foo'}, bar: {$eq: 'bar'}},\n// then we can neither use an index on ['foo'] nor an index on\n// ['foo', 'bar'], but we can use an index on ['bar'] or ['bar', 'foo']\nfunction checkFieldsLogicallySound(indexFields, selector) {\n  var firstField = indexFields[0];\n  var matcher = selector[firstField];\n\n  if (typeof matcher === 'undefined') {\n    /* istanbul ignore next */\n    return true;\n  }\n\n  var hasLogicalOperator = Object.keys(matcher).some(function (matcherKey) {\n    return !(isNonLogicalMatcher(matcherKey));\n  });\n\n  if (!hasLogicalOperator) {\n    return false;\n  }\n\n  var isInvalidNe = Object.keys(matcher).length === 1 &&\n    getKey(matcher) === '$ne';\n\n  return !isInvalidNe;\n}\n\nfunction checkIndexMatches(index, sortOrder, fields, selector) {\n\n  var indexFields = index.def.fields.map(getKey);\n\n  var fieldsMatch = checkIndexFieldsMatch(indexFields, sortOrder, fields);\n\n  if (!fieldsMatch) {\n    return false;\n  }\n\n  return checkFieldsLogicallySound(indexFields, selector);\n}\n\n//\n// the algorithm is very simple:\n// take all the fields the user supplies, and if those fields\n// are a strict subset of the fields in some index,\n// then use that index\n//\n//\nfunction findMatchingIndexes(selector, userFields, sortOrder, indexes) {\n\n  return indexes.reduce(function (res, index) {\n    var indexMatches = checkIndexMatches(index, sortOrder, userFields, selector);\n    if (indexMatches) {\n      res.push(index);\n    }\n    return res;\n  }, []);\n}\n\n// find the best index, i.e. the one that matches the most fields\n// in the user's query\nfunction findBestMatchingIndex(selector, userFields, sortOrder, indexes, useIndex) {\n\n  var matchingIndexes = findMatchingIndexes(selector, userFields, sortOrder, indexes);\n\n  if (matchingIndexes.length === 0) {\n    if (useIndex) {\n      throw {\n        error: \"no_usable_index\",\n        message: \"There is no index available for this selector.\"\n      };\n    }\n    //return `all_docs` as a default index;\n    //I'm assuming that _all_docs is always first\n    var defaultIndex = indexes[0];\n    defaultIndex.defaultUsed = true;\n    return defaultIndex;\n  }\n  if (matchingIndexes.length === 1 && !useIndex) {\n    return matchingIndexes[0];\n  }\n\n  var userFieldsMap = arrayToObject(userFields);\n\n  function scoreIndex(index) {\n    var indexFields = index.def.fields.map(getKey);\n    var score = 0;\n    for (var i = 0, len = indexFields.length; i < len; i++) {\n      var indexField = indexFields[i];\n      if (userFieldsMap[indexField]) {\n        score++;\n      }\n    }\n    return score;\n  }\n\n  if (useIndex) {\n    var useIndexDdoc = '_design/' + useIndex[0];\n    var useIndexName = useIndex.length === 2 ? useIndex[1] : false;\n    var index = matchingIndexes.find(function (index) {\n      if (useIndexName && index.ddoc === useIndexDdoc && useIndexName === index.name) {\n        return true;\n      }\n\n      if (index.ddoc === useIndexDdoc) {\n        /* istanbul ignore next */\n        return true;\n      }\n\n      return false;\n    });\n\n    if (!index) {\n      throw {\n        error: \"unknown_error\",\n        message: \"Could not find that index or could not use that index for the query\"\n      };\n    }\n    return index;\n  }\n\n  return max(matchingIndexes, scoreIndex);\n}\n\nfunction getSingleFieldQueryOptsFor(userOperator, userValue) {\n  switch (userOperator) {\n    case '$eq':\n      return {key: userValue};\n    case '$lte':\n      return {endkey: userValue};\n    case '$gte':\n      return {startkey: userValue};\n    case '$lt':\n      return {\n        endkey: userValue,\n        inclusive_end: false\n      };\n    case '$gt':\n      return {\n        startkey: userValue,\n        inclusive_start: false\n      };\n  }\n}\n\nfunction getSingleFieldCoreQueryPlan(selector, index) {\n  var field = getKey(index.def.fields[0]);\n  //ignoring this because the test to exercise the branch is skipped at the moment\n  /* istanbul ignore next */\n  var matcher = selector[field] || {};\n  var inMemoryFields = [];\n\n  var userOperators = Object.keys(matcher);\n\n  var combinedOpts;\n\n  userOperators.forEach(function (userOperator) {\n\n    if (isNonLogicalMatcher(userOperator)) {\n      inMemoryFields.push(field);\n      return;\n    }\n\n    var userValue = matcher[userOperator];\n\n    var newQueryOpts = getSingleFieldQueryOptsFor(userOperator, userValue);\n\n    if (combinedOpts) {\n      combinedOpts = mergeObjects([combinedOpts, newQueryOpts]);\n    } else {\n      combinedOpts = newQueryOpts;\n    }\n  });\n\n  return {\n    queryOpts: combinedOpts,\n    inMemoryFields: inMemoryFields\n  };\n}\n\nfunction getMultiFieldCoreQueryPlan(userOperator, userValue) {\n  switch (userOperator) {\n    case '$eq':\n      return {\n        startkey: userValue,\n        endkey: userValue\n      };\n    case '$lte':\n      return {\n        endkey: userValue\n      };\n    case '$gte':\n      return {\n        startkey: userValue\n      };\n    case '$lt':\n      return {\n        endkey: userValue,\n        inclusive_end: false\n      };\n    case '$gt':\n      return {\n        startkey: userValue,\n        inclusive_start: false\n      };\n  }\n}\n\nfunction getMultiFieldQueryOpts(selector, index) {\n\n  var indexFields = index.def.fields.map(getKey);\n\n  var inMemoryFields = [];\n  var startkey = [];\n  var endkey = [];\n  var inclusiveStart;\n  var inclusiveEnd;\n\n\n  function finish(i) {\n\n    if (inclusiveStart !== false) {\n      startkey.push(COLLATE_LO);\n    }\n    if (inclusiveEnd !== false) {\n      endkey.push(COLLATE_HI);\n    }\n    // keep track of the fields where we lost specificity,\n    // and therefore need to filter in-memory\n    inMemoryFields = indexFields.slice(i);\n  }\n\n  for (var i = 0, len = indexFields.length; i < len; i++) {\n    var indexField = indexFields[i];\n\n    var matcher = selector[indexField];\n\n    if (!matcher || !Object.keys(matcher).length) { // fewer fields in user query than in index\n      finish(i);\n      break;\n    } else if (i > 0) {\n      if (Object.keys(matcher).some(isNonLogicalMatcher)) { // non-logical are ignored\n        finish(i);\n        break;\n      }\n      var usingGtlt = (\n        '$gt' in matcher || '$gte' in matcher ||\n        '$lt' in matcher || '$lte' in matcher);\n      var previousKeys = Object.keys(selector[indexFields[i - 1]]);\n      var previousWasEq = arrayEquals(previousKeys, ['$eq']);\n      var previousWasSame = arrayEquals(previousKeys, Object.keys(matcher));\n      var gtltLostSpecificity = usingGtlt && !previousWasEq && !previousWasSame;\n      if (gtltLostSpecificity) {\n        finish(i);\n        break;\n      }\n    }\n\n    var userOperators = Object.keys(matcher);\n\n    var combinedOpts = null;\n\n    for (var j = 0; j < userOperators.length; j++) {\n      var userOperator = userOperators[j];\n      var userValue = matcher[userOperator];\n\n      var newOpts = getMultiFieldCoreQueryPlan(userOperator, userValue);\n\n      if (combinedOpts) {\n        combinedOpts = mergeObjects([combinedOpts, newOpts]);\n      } else {\n        combinedOpts = newOpts;\n      }\n    }\n\n    startkey.push('startkey' in combinedOpts ? combinedOpts.startkey : COLLATE_LO);\n    endkey.push('endkey' in combinedOpts ? combinedOpts.endkey : COLLATE_HI);\n    if ('inclusive_start' in combinedOpts) {\n      inclusiveStart = combinedOpts.inclusive_start;\n    }\n    if ('inclusive_end' in combinedOpts) {\n      inclusiveEnd = combinedOpts.inclusive_end;\n    }\n  }\n\n  var res = {\n    startkey: startkey,\n    endkey: endkey\n  };\n\n  if (typeof inclusiveStart !== 'undefined') {\n    res.inclusive_start = inclusiveStart;\n  }\n  if (typeof inclusiveEnd !== 'undefined') {\n    res.inclusive_end = inclusiveEnd;\n  }\n\n  return {\n    queryOpts: res,\n    inMemoryFields: inMemoryFields\n  };\n}\n\nfunction getDefaultQueryPlan(selector) {\n  //using default index, so all fields need to be done in memory\n  return {\n    queryOpts: {startkey: null},\n    inMemoryFields: [Object.keys(selector)]\n  };\n}\n\nfunction getCoreQueryPlan(selector, index) {\n  if (index.defaultUsed) {\n    return getDefaultQueryPlan(selector, index);\n  }\n\n  if (index.def.fields.length === 1) {\n    // one field in index, so the value was indexed as a singleton\n    return getSingleFieldCoreQueryPlan(selector, index);\n  }\n  // else index has multiple fields, so the value was indexed as an array\n  return getMultiFieldQueryOpts(selector, index);\n}\n\nfunction planQuery(request, indexes) {\n\n  var selector = request.selector;\n  var sort = request.sort;\n\n  var userFieldsRes = getUserFields(selector, sort);\n\n  var userFields = userFieldsRes.fields;\n  var sortOrder = userFieldsRes.sortOrder;\n  var index = findBestMatchingIndex(selector, userFields, sortOrder, indexes, request.use_index);\n\n  var coreQueryPlan = getCoreQueryPlan(selector, index);\n  var queryOpts = coreQueryPlan.queryOpts;\n  var coreInMemoryFields = coreQueryPlan.inMemoryFields;\n\n  var inMemoryFields = getInMemoryFields(coreInMemoryFields, index, selector, userFields);\n\n  var res = {\n    queryOpts: queryOpts,\n    index: index,\n    inMemoryFields: inMemoryFields\n  };\n  return res;\n}\n\nfunction indexToSignature(index) {\n  // remove '_design/'\n  return index.ddoc.substring(8) + '/' + index.name;\n}\n\nfunction doAllDocs(db, originalOpts) {\n  var opts = clone(originalOpts);\n\n  // CouchDB responds in weird ways when you provide a non-string to _id;\n  // we mimic the behavior for consistency. See issue66 tests for details.\n\n  if (opts.descending) {\n    if ('endkey' in opts && typeof opts.endkey !== 'string') {\n      opts.endkey = '';\n    }\n    if ('startkey' in opts && typeof opts.startkey !== 'string') {\n      opts.limit = 0;\n    }\n  } else {\n    if ('startkey' in opts && typeof opts.startkey !== 'string') {\n      opts.startkey = '';\n    }\n    if ('endkey' in opts && typeof opts.endkey !== 'string') {\n      opts.limit = 0;\n    }\n  }\n  if ('key' in opts && typeof opts.key !== 'string') {\n    opts.limit = 0;\n  }\n\n  return db.allDocs(opts)\n  .then(function (res) {\n    // filter out any design docs that _all_docs might return\n    res.rows = res.rows.filter(function (row) {\n      return !/^_design\\//.test(row.id);\n    });\n    return res;\n  });\n}\n\nfunction find$1(db, requestDef, explain) {\n  if (requestDef.selector) {\n    requestDef.selector = massageSelector(requestDef.selector);\n  }\n\n  if (requestDef.sort) {\n    requestDef.sort = massageSort(requestDef.sort);\n  }\n\n  if (requestDef.use_index) {\n    requestDef.use_index = massageUseIndex(requestDef.use_index);\n  }\n\n  validateFindRequest(requestDef);\n\n  return getIndexes$1(db).then(function (getIndexesRes) {\n\n    db.constructor.emit('debug', ['find', 'planning query', requestDef]);\n    var queryPlan = planQuery(requestDef, getIndexesRes.indexes);\n    db.constructor.emit('debug', ['find', 'query plan', queryPlan]);\n\n    var indexToUse = queryPlan.index;\n\n    validateSort(requestDef, indexToUse);\n\n    var opts = assign({\n      include_docs: true,\n      reduce: false\n    }, queryPlan.queryOpts);\n\n    if ('startkey' in opts && 'endkey' in opts &&\n        collate(opts.startkey, opts.endkey) > 0) {\n      // can't possibly return any results, startkey > endkey\n      /* istanbul ignore next */\n      return {docs: []};\n    }\n\n    var isDescending = requestDef.sort &&\n      typeof requestDef.sort[0] !== 'string' &&\n      getValue(requestDef.sort[0]) === 'desc';\n\n    if (isDescending) {\n      // either all descending or all ascending\n      opts.descending = true;\n      opts = reverseOptions(opts);\n    }\n\n    if (!queryPlan.inMemoryFields.length) {\n      // no in-memory filtering necessary, so we can let the\n      // database do the limit/skip for us\n      if ('limit' in requestDef) {\n        opts.limit = requestDef.limit;\n      }\n      if ('skip' in requestDef) {\n        opts.skip = requestDef.skip;\n      }\n    }\n\n    if (explain) {\n      return Promise.resolve(queryPlan, opts);\n    }\n\n    return Promise.resolve().then(function () {\n      if (indexToUse.name === '_all_docs') {\n        return doAllDocs(db, opts);\n      } else {\n        var signature = indexToSignature(indexToUse);\n        return abstractMapper.query.call(db, signature, opts);\n      }\n    }).then(function (res) {\n      if (opts.inclusive_start === false) {\n        // may have to manually filter the first one,\n        // since couchdb has no true inclusive_start option\n        res.rows = filterInclusiveStart(res.rows, opts.startkey, indexToUse);\n      }\n\n      if (queryPlan.inMemoryFields.length) {\n        // need to filter some stuff in-memory\n        res.rows = filterInMemoryFields(res.rows, requestDef, queryPlan.inMemoryFields);\n      }\n\n      var resp = {\n        docs: res.rows.map(function (row) {\n          var doc = row.doc;\n          if (requestDef.fields) {\n            return pick(doc, requestDef.fields);\n          }\n          return doc;\n        })\n      };\n\n      if (indexToUse.defaultUsed) {\n        resp.warning = 'no matching index found, create an index to optimize query time';\n      }\n\n      return resp;\n    });\n  });\n}\n\nfunction explain$1(db, requestDef) {\n  return find$1(db, requestDef, true)\n  .then(function (queryPlan) {\n    return {\n      dbname: db.name,\n      index: queryPlan.index,\n      selector: requestDef.selector,\n      range: {\n        start_key: queryPlan.queryOpts.startkey,\n        end_key: queryPlan.queryOpts.endkey,\n      },\n      opts: {\n        use_index: requestDef.use_index || [],\n        bookmark: \"nil\", //hardcoded to match CouchDB since its not supported,\n        limit: requestDef.limit,\n        skip: requestDef.skip,\n        sort: requestDef.sort || {},\n        fields: requestDef.fields,\n        conflicts: false, //hardcoded to match CouchDB since its not supported,\n        r: [49], // hardcoded to match CouchDB since its not support\n      },\n      limit: requestDef.limit,\n      skip: requestDef.skip || 0,\n      fields: requestDef.fields,\n    };\n  });\n}\n\nfunction deleteIndex$1(db, index) {\n\n  if (!index.ddoc) {\n    throw new Error('you must supply an index.ddoc when deleting');\n  }\n\n  if (!index.name) {\n    throw new Error('you must supply an index.name when deleting');\n  }\n\n  var docId = index.ddoc;\n  var viewName = index.name;\n\n  function deltaFun(doc) {\n    if (Object.keys(doc.views).length === 1 && doc.views[viewName]) {\n      // only one view in this ddoc, delete the whole ddoc\n      return {_id: docId, _deleted: true};\n    }\n    // more than one view here, just remove the view\n    delete doc.views[viewName];\n    return doc;\n  }\n\n  return upsert(db, docId, deltaFun).then(function () {\n    return abstractMapper.viewCleanup.apply(db);\n  }).then(function () {\n    return {ok: true};\n  });\n}\n\nvar createIndexAsCallback = callbackify(createIndex$1);\nvar findAsCallback = callbackify(find$1);\nvar explainAsCallback = callbackify(explain$1);\nvar getIndexesAsCallback = callbackify(getIndexes$1);\nvar deleteIndexAsCallback = callbackify(deleteIndex$1);\n\nvar plugin = {};\nplugin.createIndex = toPromise(function (requestDef, callback) {\n\n  if (typeof requestDef !== 'object') {\n    return callback(new Error('you must provide an index to create'));\n  }\n\n  var createIndex$$1 = isRemote(this) ?\n    createIndex : createIndexAsCallback;\n  createIndex$$1(this, requestDef, callback);\n});\n\nplugin.find = toPromise(function (requestDef, callback) {\n\n  if (typeof callback === 'undefined') {\n    callback = requestDef;\n    requestDef = undefined;\n  }\n\n  if (typeof requestDef !== 'object') {\n    return callback(new Error('you must provide search parameters to find()'));\n  }\n\n  var find$$1 = isRemote(this) ? find : findAsCallback;\n  find$$1(this, requestDef, callback);\n});\n\nplugin.explain = toPromise(function (requestDef, callback) {\n\n  if (typeof callback === 'undefined') {\n    callback = requestDef;\n    requestDef = undefined;\n  }\n\n  if (typeof requestDef !== 'object') {\n    return callback(new Error('you must provide search parameters to explain()'));\n  }\n\n  var find$$1 = isRemote(this) ? explain : explainAsCallback;\n  find$$1(this, requestDef, callback);\n});\n\nplugin.getIndexes = toPromise(function (callback) {\n\n  var getIndexes$$1 = isRemote(this) ? getIndexes : getIndexesAsCallback;\n  getIndexes$$1(this, callback);\n});\n\nplugin.deleteIndex = toPromise(function (indexDef, callback) {\n\n  if (typeof indexDef !== 'object') {\n    return callback(new Error('you must provide an index to delete'));\n  }\n\n  var deleteIndex$$1 = isRemote(this) ?\n    deleteIndex : deleteIndexAsCallback;\n  deleteIndex$$1(this, indexDef, callback);\n});\n\nexport default plugin;\n","import debug from 'debug';\n\nfunction debugPouch(PouchDB) {\n  PouchDB.debug = debug;\n  var logs = {};\n  /* istanbul ignore next */\n  PouchDB.on('debug', function (args) {\n    // first argument is log identifier\n    var logId = args[0];\n    // rest should be passed verbatim to debug module\n    var logArgs = args.slice(1);\n    if (!logs[logId]) {\n      logs[logId] = debug('pouchdb:' + logId);\n    }\n    logs[logId].apply(null, logArgs);\n  });\n}\n\nexport default debugPouch;\n","import PouchDB from \"pouchdb-browser\";\nimport PouchDBFind from \"pouchdb-find\";\nimport PouchdbDebug from \"pouchdb-debug\";\n\nconst POUCH_DB_OLD_VERSION = 1;\nconst POUCH_DB_CURRENT_VERSION = 2;\n\nexport class Database {\n  db: PouchDB.Database;\n  private name: string;\n\n  constructor() {\n    this.destroyOldDb();\n    this.name = this.getDbName(POUCH_DB_CURRENT_VERSION);\n    this.db = new PouchDB(this.name);\n    PouchDB.plugin(PouchDBFind);\n    PouchDB.plugin(PouchdbDebug);\n\n    this.db.createIndex({\n      index: { fields: [\"schemaType\"] }\n    });\n\n    this.onStart();\n  }\n\n  genId = () => new Date().toJSON().slice(0, -1) + \"000Z\";\n\n  destroyOldDb = async () => {\n    const dbName = this.getDbName(POUCH_DB_OLD_VERSION);\n\n    try {\n      await new PouchDB(dbName).destroy();\n    } catch (error) {\n      // tslint:disable-next-line:no-console\n      console.log(\"Error destroying PouchDb instance: \", dbName);\n    }\n  };\n\n  async onStart() {\n    const info = await this.db.info();\n    // tslint:disable-next-line:no-console\n    console.log(\n      `Pouchdb info for \"${this.name}\":\\n`,\n      JSON.stringify(info, null, 2)\n    );\n  }\n\n  getDbName = (version: number) => \"WORKER-WAGES-maneptha-\" + version;\n}\n\nexport default Database;\n","import { AppSocket } from \"./socket\";\nimport registerServiceWorker1 from \"./service-worker/register-service-worker1\";\nimport { Database } from \"./database\";\nimport { docReady } from \"./utils/utils\";\nimport { GetInitialSocketData } from \"./graphql/gen.types\";\n\ndeclare global {\n  interface Window {\n    appInterface: {\n      newMetaFormData?: {\n        html: string;\n      };\n      serverOnlineStatus: boolean;\n\n      db: Database;\n\n      socket: AppSocket;\n\n      initialData: GetInitialSocketData | null;\n    };\n  }\n}\n\nconst processSidebar = () => {\n  const sidebarAction = (sidebar: HTMLElement) => {\n    const containerEl = document.getElementById(\"app-container\");\n    const sidebarTriggerEl = document.getElementById(\"sidebar-trigger\");\n\n    if (containerEl && sidebarTriggerEl) {\n      containerEl.addEventListener(\"click\", evt => {\n        evt.stopPropagation();\n        sidebar.classList.remove(\"visible\");\n      });\n\n      sidebarTriggerEl.addEventListener(\"click\", evt => {\n        evt.preventDefault();\n        evt.stopPropagation();\n        sidebar.classList[\n          sidebar.classList.contains(\"visible\") ? \"remove\" : \"add\"\n        ](\"visible\");\n      });\n    }\n  };\n\n  const sidebarEl = document.getElementById(\"app-sidebar\");\n\n  if (sidebarEl) {\n    sidebarAction(sidebarEl);\n  }\n};\n\n(function App() {\n  const db = new Database();\n  const socket = new AppSocket(db);\n\n  window.appInterface.db = db;\n  window.appInterface.socket = socket;\n  docReady(processSidebar);\n})();\n\nregisterServiceWorker1();\n","'use strict';\n\nexports.__esModule = true;\nexports.extend = extend;\nexports.indexOf = indexOf;\nexports.escapeExpression = escapeExpression;\nexports.isEmpty = isEmpty;\nexports.createFrame = createFrame;\nexports.blockParams = blockParams;\nexports.appendContextPath = appendContextPath;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj /* , ...source */) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\n\nexports.toString = toString;\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  exports.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexports.isFunction = isFunction;\n\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nexports.isArray = isArray;\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNLE1BQU0sR0FBRztBQUNiLEtBQUcsRUFBRSxPQUFPO0FBQ1osS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsTUFBTTtBQUNYLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0NBQ2QsQ0FBQzs7QUFFRixJQUFNLFFBQVEsR0FBRyxZQUFZO0lBQ3ZCLFFBQVEsR0FBRyxXQUFXLENBQUM7O0FBRTdCLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN2QixTQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNwQjs7QUFFTSxTQUFTLE1BQU0sQ0FBQyxHQUFHLG9CQUFtQjtBQUMzQyxPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN6QyxTQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUM1QixVQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDM0QsV0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztPQUM5QjtLQUNGO0dBQ0Y7O0FBRUQsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFTSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzs7Ozs7O0FBS2hELElBQUksVUFBVSxHQUFHLG9CQUFTLEtBQUssRUFBRTtBQUMvQixTQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsQ0FBQztDQUNwQyxDQUFDOzs7QUFHRixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNuQixVQUlNLFVBQVUsR0FKaEIsVUFBVSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQzNCLFdBQU8sT0FBTyxLQUFLLEtBQUssVUFBVSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssbUJBQW1CLENBQUM7R0FDcEYsQ0FBQztDQUNIO1FBQ08sVUFBVSxHQUFWLFVBQVU7Ozs7O0FBSVgsSUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sSUFBSSxVQUFTLEtBQUssRUFBRTtBQUN0RCxTQUFPLEFBQUMsS0FBSyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsR0FBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixHQUFHLEtBQUssQ0FBQztDQUNqRyxDQUFDOzs7OztBQUdLLFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDcEMsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNoRCxRQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDdEIsYUFBTyxDQUFDLENBQUM7S0FDVjtHQUNGO0FBQ0QsU0FBTyxDQUFDLENBQUMsQ0FBQztDQUNYOztBQUdNLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLE1BQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFOztBQUU5QixRQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzNCLGFBQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ3hCLE1BQU0sSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ3pCLGFBQU8sRUFBRSxDQUFDO0tBQ1gsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNwQjs7Ozs7QUFLRCxVQUFNLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQztHQUN0Qjs7QUFFRCxNQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUFFLFdBQU8sTUFBTSxDQUFDO0dBQUU7QUFDOUMsU0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUM3Qzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDN0IsTUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsTUFBTSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUMvQyxXQUFPLElBQUksQ0FBQztHQUNiLE1BQU07QUFDTCxXQUFPLEtBQUssQ0FBQztHQUNkO0NBQ0Y7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQ2xDLE1BQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0IsT0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDdkIsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFTSxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3ZDLFFBQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFNBQU8sTUFBTSxDQUFDO0NBQ2Y7O0FBRU0sU0FBUyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFO0FBQ2pELFNBQU8sQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUEsR0FBSSxFQUFFLENBQUM7Q0FDcEQiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gICAgICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iai8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfTtcbn1cbmV4cG9ydCB7aXNGdW5jdGlvbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmMtc3R5bGUgKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScgOiBmYWxzZTtcbn07XG5cbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkgeyByZXR1cm4gc3RyaW5nOyB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICBsZXQgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xufVxuIl19\n","import { btoa, readAsArrayBuffer } from 'pouchdb-binary-utils';\nimport Md5 from 'spark-md5';\n\nvar setImmediateShim = global.setImmediate || global.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return btoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nexport { binaryMd5, stringMd5 };\n","'use strict';\n\nexports.__esModule = true;\nexports.HandlebarsEnvironment = HandlebarsEnvironment;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('./utils');\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = require('./helpers');\n\nvar _decorators = require('./decorators');\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar VERSION = '4.0.11';\nexports.VERSION = VERSION;\nvar COMPILER_REVISION = 7;\n\nexports.COMPILER_REVISION = COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0'\n};\n\nexports.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  }\n};\n\nvar log = _logger2['default'].log;\n\nexports.log = log;\nexports.createFrame = _utils.createFrame;\nexports.logger = _logger2['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQTRDLFNBQVM7O3lCQUMvQixhQUFhOzs7O3VCQUNFLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNuQyxVQUFVOzs7O0FBRXRCLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQzs7QUFDekIsSUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7OztBQUU1QixJQUFNLGdCQUFnQixHQUFHO0FBQzlCLEdBQUMsRUFBRSxhQUFhO0FBQ2hCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxVQUFVO0FBQ2IsR0FBQyxFQUFFLGtCQUFrQjtBQUNyQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxVQUFVO0NBQ2QsQ0FBQzs7O0FBRUYsSUFBTSxVQUFVLEdBQUcsaUJBQWlCLENBQUM7O0FBRTlCLFNBQVMscUJBQXFCLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUU7QUFDbkUsTUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQzdCLE1BQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxJQUFJLEVBQUUsQ0FBQztBQUMvQixNQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsSUFBSSxFQUFFLENBQUM7O0FBRW5DLGtDQUF1QixJQUFJLENBQUMsQ0FBQztBQUM3Qix3Q0FBMEIsSUFBSSxDQUFDLENBQUM7Q0FDakM7O0FBRUQscUJBQXFCLENBQUMsU0FBUyxHQUFHO0FBQ2hDLGFBQVcsRUFBRSxxQkFBcUI7O0FBRWxDLFFBQU0scUJBQVE7QUFDZCxLQUFHLEVBQUUsb0JBQU8sR0FBRzs7QUFFZixnQkFBYyxFQUFFLHdCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDakMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQUUsY0FBTSwyQkFBYyx5Q0FBeUMsQ0FBQyxDQUFDO09BQUU7QUFDM0Usb0JBQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztLQUM1QixNQUFNO0FBQ0wsVUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDekI7R0FDRjtBQUNELGtCQUFnQixFQUFFLDBCQUFTLElBQUksRUFBRTtBQUMvQixXQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDM0I7O0FBRUQsaUJBQWUsRUFBRSx5QkFBUyxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ3ZDLFFBQUksZ0JBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLFVBQVUsRUFBRTtBQUN0QyxvQkFBTyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzdCLE1BQU07QUFDTCxVQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsRUFBRTtBQUNsQyxjQUFNLHlFQUEwRCxJQUFJLG9CQUFpQixDQUFDO09BQ3ZGO0FBQ0QsVUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUM7S0FDL0I7R0FDRjtBQUNELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRTtBQUNoQyxXQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDNUI7O0FBRUQsbUJBQWlCLEVBQUUsMkJBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNwQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFBRSxjQUFNLDJCQUFjLDRDQUE0QyxDQUFDLENBQUM7T0FBRTtBQUM5RSxvQkFBTyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQy9CLE1BQU07QUFDTCxVQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUM1QjtHQUNGO0FBQ0QscUJBQW1CLEVBQUUsNkJBQVMsSUFBSSxFQUFFO0FBQ2xDLFdBQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUM5QjtDQUNGLENBQUM7O0FBRUssSUFBSSxHQUFHLEdBQUcsb0JBQU8sR0FBRyxDQUFDOzs7UUFFcEIsV0FBVztRQUFFLE1BQU0iLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlRnJhbWUsIGV4dGVuZCwgdG9TdHJpbmd9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdEhlbHBlcnN9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnN9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4wLjExJztcbmV4cG9ydCBjb25zdCBDT01QSUxFUl9SRVZJU0lPTiA9IDc7XG5cbmV4cG9ydCBjb25zdCBSRVZJU0lPTl9DSEFOR0VTID0ge1xuICAxOiAnPD0gMS4wLnJjLjInLCAvLyAxLjAucmMuMiBpcyBhY3R1YWxseSByZXYyIGJ1dCBkb2Vzbid0IHJlcG9ydCBpdFxuICAyOiAnPT0gMS4wLjAtcmMuMycsXG4gIDM6ICc9PSAxLjAuMC1yYy40JyxcbiAgNDogJz09IDEueC54JyxcbiAgNTogJz09IDIuMC4wLWFscGhhLngnLFxuICA2OiAnPj0gMi4wLjAtYmV0YS4xJyxcbiAgNzogJz49IDQuMC4wJ1xufTtcblxuY29uc3Qgb2JqZWN0VHlwZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG5leHBvcnQgZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcbiAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xufVxuXG5IYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogbG9nZ2VyLFxuICBsb2c6IGxvZ2dlci5sb2csXG5cbiAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikgeyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGhlbHBlcnMnKTsgfVxuICAgICAgZXh0ZW5kKHRoaXMuaGVscGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVscGVyc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmhlbHBlcnNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lLCBwYXJ0aWFsKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGV4dGVuZCh0aGlzLnBhcnRpYWxzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKGBBdHRlbXB0aW5nIHRvIHJlZ2lzdGVyIGEgcGFydGlhbCBjYWxsZWQgXCIke25hbWV9XCIgYXMgdW5kZWZpbmVkYCk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhcnRpYWxzW25hbWVdID0gcGFydGlhbDtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMucGFydGlhbHNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikgeyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGRlY29yYXRvcnMnKTsgfVxuICAgICAgZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRvcnNbbmFtZV07XG4gIH1cbn07XG5cbmV4cG9ydCBsZXQgbG9nID0gbG9nZ2VyLmxvZztcblxuZXhwb3J0IHtjcmVhdGVGcmFtZSwgbG9nZ2VyfTtcbiJdfQ==\n","import gql from \"graphql-tag\";\n\nexport const shiftFragment = gql`\n  fragment ShiftFragment on Shift {\n    id\n    _id\n    date\n    startTime\n    endTime\n    hoursGross\n    normalHours\n    normalPay\n    nightHours\n    nightSupplPay\n    sundayHours\n    sundaySupplPay\n    totalPay\n    meta {\n      id\n    }\n    schemaType\n  }\n`;\n\nexport default shiftFragment;\n","var thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\nfunction typedBuffer() {\n}\n\nexport { thisAtob as atob, thisBtoa as btoa, b64ToBluffer as base64StringToBlobOrBuffer, binaryStringToArrayBuffer, binStringToBluffer as binaryStringToBlobOrBuffer, createBlob as blob, blobToBase64 as blobOrBufferToBase64, blobToBinaryString as blobOrBufferToBinaryString, readAsArrayBuffer, readAsBinaryString, typedBuffer };\n","import getArguments from 'argsarray';\nimport nextTick from 'immediate';\nimport { EventEmitter } from 'events';\nimport inherits from 'inherits';\nimport Md5 from 'spark-md5';\nimport uuidV4 from 'uuid';\nimport vuvuzela from 'vuvuzela';\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\nfunction mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new ExportedMap();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EventEmitter);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EventEmitter.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        nextTick(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EventEmitter.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar $inject_Object_assign = assign;\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    for (var p in error) {\n      if (typeof error[p] !== 'function') {\n        this[p] = error[p];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EventEmitter.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nvar thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\n\nvar setImmediateShim = global.setImmediate || global.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return thisBtoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nfunction rev$$1(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return uuidV4.v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = uuidV4.v4;\n\n// We fetch all leafs of the revision tree, and sort them based on tree length\n// and whether they were deleted, undeleted documents with the longest revision\n// tree (most edits) win\n// The final sort algorithm is slightly documented in a sidebar here:\n// http://guide.couchdb.org/draft/conflicts.html\nfunction winningRev(metadata) {\n  var winningId;\n  var winningPos;\n  var winningDeleted;\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var tree = node.ids;\n    var branches = tree[2];\n    var pos = node.pos;\n    if (branches.length) { // non-leaf\n      for (var i = 0, len = branches.length; i < len; i++) {\n        toVisit.push({pos: pos + 1, ids: branches[i]});\n      }\n      continue;\n    }\n    var deleted = !!tree[1].deleted;\n    var id = tree[0];\n    // sort by deleted, then pos, then id\n    if (!winningId || (winningDeleted !== deleted ? winningDeleted :\n        winningPos !== pos ? winningPos < pos : winningId < id)) {\n      winningId = id;\n      winningPos = pos;\n      winningDeleted = deleted;\n    }\n  }\n\n  return winningPos + '-' + winningId;\n}\n\n// Pretty much all below can be combined into a higher order function to\n// traverse revisions\n// The return value from the callback will be passed as context to all\n// children of that node\nfunction traverseRevTree(revs, callback) {\n  var toVisit = revs.slice();\n\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var branches = tree[2];\n    var newCtx =\n      callback(branches.length === 0, pos, tree[0], node.ctx, tree[1]);\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], ctx: newCtx});\n    }\n  }\n}\n\nfunction sortByPos(a, b) {\n  return a.pos - b.pos;\n}\n\nfunction collectLeaves(revs) {\n  var leaves = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, acc, opts) {\n    if (isLeaf) {\n      leaves.push({rev: pos + \"-\" + id, pos: pos, opts: opts});\n    }\n  });\n  leaves.sort(sortByPos).reverse();\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    delete leaves[i].pos;\n  }\n  return leaves;\n}\n\n// returns revs of all conflicts that is leaves such that\n// 1. are not deleted and\n// 2. are different than winning revision\nfunction collectConflicts(metadata) {\n  var win = winningRev(metadata);\n  var leaves = collectLeaves(metadata.rev_tree);\n  var conflicts = [];\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    var leaf = leaves[i];\n    if (leaf.rev !== win && !leaf.opts.deleted) {\n      conflicts.push(leaf.rev);\n    }\n  }\n  return conflicts;\n}\n\n// compact a tree by marking its non-leafs as missing,\n// and return a list of revs to delete\nfunction compactTree(metadata) {\n  var revs = [];\n  traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                               revHash, ctx, opts) {\n    if (opts.status === 'available' && !isLeaf) {\n      revs.push(pos + '-' + revHash);\n      opts.status = 'missing';\n    }\n  });\n  return revs;\n}\n\n// build up a list of all the paths to the leafs in this revision tree\nfunction rootToLeaf(revs) {\n  var paths = [];\n  var toVisit = revs.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, opts: opts});\n    if (isLeaf) {\n      paths.push({pos: (pos + 1 - history.length), ids: history});\n    }\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], history: history});\n    }\n  }\n  return paths.reverse();\n}\n\n// for a better overview of what this is doing, read:\n\nfunction sortByPos$1(a, b) {\n  return a.pos - b.pos;\n}\n\n// classic binary search\nfunction binarySearch(arr, item, comparator) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = (low + high) >>> 1;\n    if (comparator(arr[mid], item) < 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n}\n\n// assuming the arr is sorted, insert the item in the proper place\nfunction insertSorted(arr, item, comparator) {\n  var idx = binarySearch(arr, item, comparator);\n  arr.splice(idx, 0, item);\n}\n\n// Turn a path as a flat array into a tree with a single branch.\n// If any should be stemmed from the beginning of the array, that's passed\n// in as the second argument\nfunction pathToTree(path, numStemmed) {\n  var root;\n  var leaf;\n  for (var i = numStemmed, len = path.length; i < len; i++) {\n    var node = path[i];\n    var currentLeaf = [node.id, node.opts, []];\n    if (leaf) {\n      leaf[2].push(currentLeaf);\n      leaf = currentLeaf;\n    } else {\n      root = leaf = currentLeaf;\n    }\n  }\n  return root;\n}\n\n// compare the IDs of two trees\nfunction compareTree(a, b) {\n  return a[0] < b[0] ? -1 : 1;\n}\n\n// Merge two trees together\n// The roots of tree1 and tree2 must be the same revision\nfunction mergeTree(in_tree1, in_tree2) {\n  var queue = [{tree1: in_tree1, tree2: in_tree2}];\n  var conflicts = false;\n  while (queue.length > 0) {\n    var item = queue.pop();\n    var tree1 = item.tree1;\n    var tree2 = item.tree2;\n\n    if (tree1[1].status || tree2[1].status) {\n      tree1[1].status =\n        (tree1[1].status ===  'available' ||\n        tree2[1].status === 'available') ? 'available' : 'missing';\n    }\n\n    for (var i = 0; i < tree2[2].length; i++) {\n      if (!tree1[2][0]) {\n        conflicts = 'new_leaf';\n        tree1[2][0] = tree2[2][i];\n        continue;\n      }\n\n      var merged = false;\n      for (var j = 0; j < tree1[2].length; j++) {\n        if (tree1[2][j][0] === tree2[2][i][0]) {\n          queue.push({tree1: tree1[2][j], tree2: tree2[2][i]});\n          merged = true;\n        }\n      }\n      if (!merged) {\n        conflicts = 'new_branch';\n        insertSorted(tree1[2], tree2[2][i], compareTree);\n      }\n    }\n  }\n  return {conflicts: conflicts, tree: in_tree1};\n}\n\nfunction doMerge(tree, path, dontExpand) {\n  var restree = [];\n  var conflicts = false;\n  var merged = false;\n  var res;\n\n  if (!tree.length) {\n    return {tree: [path], conflicts: 'new_leaf'};\n  }\n\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var branch = tree[i];\n    if (branch.pos === path.pos && branch.ids[0] === path.ids[0]) {\n      // Paths start at the same position and have the same root, so they need\n      // merged\n      res = mergeTree(branch.ids, path.ids);\n      restree.push({pos: branch.pos, ids: res.tree});\n      conflicts = conflicts || res.conflicts;\n      merged = true;\n    } else if (dontExpand !== true) {\n      // The paths start at a different position, take the earliest path and\n      // traverse up until it as at the same point from root as the path we\n      // want to merge.  If the keys match we return the longer path with the\n      // other merged After stemming we dont want to expand the trees\n\n      var t1 = branch.pos < path.pos ? branch : path;\n      var t2 = branch.pos < path.pos ? path : branch;\n      var diff = t2.pos - t1.pos;\n\n      var candidateParents = [];\n\n      var trees = [];\n      trees.push({ids: t1.ids, diff: diff, parent: null, parentIdx: null});\n      while (trees.length > 0) {\n        var item = trees.pop();\n        if (item.diff === 0) {\n          if (item.ids[0] === t2.ids[0]) {\n            candidateParents.push(item);\n          }\n          continue;\n        }\n        var elements = item.ids[2];\n        for (var j = 0, elementsLen = elements.length; j < elementsLen; j++) {\n          trees.push({\n            ids: elements[j],\n            diff: item.diff - 1,\n            parent: item.ids,\n            parentIdx: j\n          });\n        }\n      }\n\n      var el = candidateParents[0];\n\n      if (!el) {\n        restree.push(branch);\n      } else {\n        res = mergeTree(el.ids, t2.ids);\n        el.parent[2][el.parentIdx] = res.tree;\n        restree.push({pos: t1.pos, ids: t1.ids});\n        conflicts = conflicts || res.conflicts;\n        merged = true;\n      }\n    } else {\n      restree.push(branch);\n    }\n  }\n\n  // We didnt find\n  if (!merged) {\n    restree.push(path);\n  }\n\n  restree.sort(sortByPos$1);\n\n  return {\n    tree: restree,\n    conflicts: conflicts || 'internal_node'\n  };\n}\n\n// To ensure we dont grow the revision tree infinitely, we stem old revisions\nfunction stem(tree, depth) {\n  // First we break out the tree into a complete list of root to leaf paths\n  var paths = rootToLeaf(tree);\n  var stemmedRevs;\n\n  var result;\n  for (var i = 0, len = paths.length; i < len; i++) {\n    // Then for each path, we cut off the start of the path based on the\n    // `depth` to stem to, and generate a new set of flat trees\n    var path = paths[i];\n    var stemmed = path.ids;\n    var node;\n    if (stemmed.length > depth) {\n      // only do the stemming work if we actually need to stem\n      if (!stemmedRevs) {\n        stemmedRevs = {}; // avoid allocating this object unnecessarily\n      }\n      var numStemmed = stemmed.length - depth;\n      node = {\n        pos: path.pos + numStemmed,\n        ids: pathToTree(stemmed, numStemmed)\n      };\n\n      for (var s = 0; s < numStemmed; s++) {\n        var rev = (path.pos + s) + '-' + stemmed[s].id;\n        stemmedRevs[rev] = true;\n      }\n    } else { // no need to actually stem\n      node = {\n        pos: path.pos,\n        ids: pathToTree(stemmed, 0)\n      };\n    }\n\n    // Then we remerge all those flat trees together, ensuring that we dont\n    // connect trees that would go beyond the depth limit\n    if (result) {\n      result = doMerge(result, node, true).tree;\n    } else {\n      result = [node];\n    }\n  }\n\n  // this is memory-heavy per Chrome profiler, avoid unless we actually stemmed\n  if (stemmedRevs) {\n    traverseRevTree(result, function (isLeaf, pos, revHash) {\n      // some revisions may have been removed in a branch but not in another\n      delete stemmedRevs[pos + '-' + revHash];\n    });\n  }\n\n  return {\n    tree: result,\n    revs: stemmedRevs ? Object.keys(stemmedRevs) : []\n  };\n}\n\nfunction merge(tree, path, depth) {\n  var newTree = doMerge(tree, path);\n  var stemmed = stem(newTree.tree, depth);\n  return {\n    tree: stemmed.tree,\n    stemmedRevs: stemmed.revs,\n    conflicts: newTree.conflicts\n  };\n}\n\n// return true if a rev exists in the rev tree, false otherwise\nfunction revExists(revs, rev) {\n  var toVisit = revs.slice();\n  var splitRev = rev.split('-');\n  var targetPos = parseInt(splitRev[0], 10);\n  var targetId = splitRev[1];\n\n  var node;\n  while ((node = toVisit.pop())) {\n    if (node.pos === targetPos && node.ids[0] === targetId) {\n      return true;\n    }\n    var branches = node.ids[2];\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: node.pos + 1, ids: branches[i]});\n    }\n  }\n  return false;\n}\n\nfunction getTrees(node) {\n  return node.ids;\n}\n\n// check if a specific revision of a doc has been deleted\n//  - metadata: the metadata object from the doc store\n//  - rev: (optional) the revision to check. defaults to winning revision\nfunction isDeleted(metadata, rev) {\n  if (!rev) {\n    rev = winningRev(metadata);\n  }\n  var id = rev.substring(rev.indexOf('-') + 1);\n  var toVisit = metadata.rev_tree.map(getTrees);\n\n  var tree;\n  while ((tree = toVisit.pop())) {\n    if (tree[0] === id) {\n      return !!tree[1].deleted;\n    }\n    toVisit = toVisit.concat(tree[2]);\n  }\n}\n\nfunction isLocalId(id) {\n  return (/^_local/).test(id);\n}\n\n// returns the current leaf node for a given revision\nfunction latest(rev, metadata) {\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, pos: pos, opts: opts});\n\n    if (isLeaf) {\n      for (var i = 0, len = history.length; i < len; i++) {\n        var historyNode = history[i];\n        var historyRev = historyNode.pos + '-' + historyNode.id;\n\n        if (historyRev === rev) {\n          // return the rev of this leaf\n          return pos + '-' + id;\n        }\n      }\n    }\n\n    for (var j = 0, l = branches.length; j < l; j++) {\n      toVisit.push({pos: pos + 1, ids: branches[j], history: history});\n    }\n  }\n\n  /* istanbul ignore next */\n  throw new Error('Unable to resolve latest revision for id ' + metadata.id + ', rev ' + rev);\n}\n\ninherits(Changes$1, EventEmitter);\n\nfunction tryCatchInChangeListener(self, change, pending, lastSeq) {\n  // isolate try/catches to avoid V8 deoptimizations\n  try {\n    self.emit('change', change, pending, lastSeq);\n  } catch (e) {\n    guardedConsole('error', 'Error in .on(\"change\", function):', e);\n  }\n}\n\nfunction Changes$1(db, opts, callback) {\n  EventEmitter.call(this);\n  var self = this;\n  this.db = db;\n  opts = opts ? clone(opts) : {};\n  var complete = opts.complete = once(function (err, resp) {\n    if (err) {\n      if (listenerCount(self, 'error') > 0) {\n        self.emit('error', err);\n      }\n    } else {\n      self.emit('complete', resp);\n    }\n    self.removeAllListeners();\n    db.removeListener('destroyed', onDestroy);\n  });\n  if (callback) {\n    self.on('complete', function (resp) {\n      callback(null, resp);\n    });\n    self.on('error', callback);\n  }\n  function onDestroy() {\n    self.cancel();\n  }\n  db.once('destroyed', onDestroy);\n\n  opts.onChange = function (change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (self.isCancelled) {\n      return;\n    }\n    tryCatchInChangeListener(self, change, pending, lastSeq);\n  };\n\n  var promise = new Promise(function (fulfill, reject) {\n    opts.complete = function (err, res) {\n      if (err) {\n        reject(err);\n      } else {\n        fulfill(res);\n      }\n    };\n  });\n  self.once('cancel', function () {\n    db.removeListener('destroyed', onDestroy);\n    opts.complete(null, {status: 'cancelled'});\n  });\n  this.then = promise.then.bind(promise);\n  this['catch'] = promise['catch'].bind(promise);\n  this.then(function (result) {\n    complete(null, result);\n  }, complete);\n\n\n\n  if (!db.taskqueue.isReady) {\n    db.taskqueue.addTask(function (failed) {\n      if (failed) {\n        opts.complete(failed);\n      } else if (self.isCancelled) {\n        self.emit('cancel');\n      } else {\n        self.validateChanges(opts);\n      }\n    });\n  } else {\n    self.validateChanges(opts);\n  }\n}\nChanges$1.prototype.cancel = function () {\n  this.isCancelled = true;\n  if (this.db.taskqueue.isReady) {\n    this.emit('cancel');\n  }\n};\nfunction processChange(doc, metadata, opts) {\n  var changeList = [{rev: doc._rev}];\n  if (opts.style === 'all_docs') {\n    changeList = collectLeaves(metadata.rev_tree)\n    .map(function (x) { return {rev: x.rev}; });\n  }\n  var change = {\n    id: metadata.id,\n    changes: changeList,\n    doc: doc\n  };\n\n  if (isDeleted(metadata, doc._rev)) {\n    change.deleted = true;\n  }\n  if (opts.conflicts) {\n    change.doc._conflicts = collectConflicts(metadata);\n    if (!change.doc._conflicts.length) {\n      delete change.doc._conflicts;\n    }\n  }\n  return change;\n}\n\nChanges$1.prototype.validateChanges = function (opts) {\n  var callback = opts.complete;\n  var self = this;\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.validate(opts, function (err) {\n      if (err) {\n        return callback(err);\n      }\n      self.doChanges(opts);\n    });\n  } else {\n    self.doChanges(opts);\n  }\n};\n\nChanges$1.prototype.doChanges = function (opts) {\n  var self = this;\n  var callback = opts.complete;\n\n  opts = clone(opts);\n  if ('live' in opts && !('continuous' in opts)) {\n    opts.continuous = opts.live;\n  }\n  opts.processChange = processChange;\n\n  if (opts.since === 'latest') {\n    opts.since = 'now';\n  }\n  if (!opts.since) {\n    opts.since = 0;\n  }\n  if (opts.since === 'now') {\n    this.db.info().then(function (info) {\n      /* istanbul ignore if */\n      if (self.isCancelled) {\n        callback(null, {status: 'cancelled'});\n        return;\n      }\n      opts.since = info.update_seq;\n      self.doChanges(opts);\n    }, callback);\n    return;\n  }\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.normalize(opts);\n    if (PouchDB._changesFilterPlugin.shouldFilter(this, opts)) {\n      return PouchDB._changesFilterPlugin.filter(this, opts);\n    }\n  } else {\n    ['doc_ids', 'filter', 'selector', 'view'].forEach(function (key) {\n      if (key in opts) {\n        guardedConsole('warn',\n          'The \"' + key + '\" option was passed in to changes/replicate, ' +\n          'but pouchdb-changes-filter plugin is not installed, so it ' +\n          'was ignored. Please install the plugin to enable filtering.'\n        );\n      }\n    });\n  }\n\n  if (!('descending' in opts)) {\n    opts.descending = false;\n  }\n\n  // 0 and 1 should return 1 document\n  opts.limit = opts.limit === 0 ? 1 : opts.limit;\n  opts.complete = callback;\n  var newPromise = this.db._changes(opts);\n  /* istanbul ignore else */\n  if (newPromise && typeof newPromise.cancel === 'function') {\n    var cancel = self.cancel;\n    self.cancel = getArguments(function (args) {\n      newPromise.cancel();\n      cancel.apply(this, args);\n    });\n  }\n};\n\n/*\n * A generic pouch adapter\n */\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Wrapper for functions that call the bulkdocs api with a single doc,\n// if the first result is an error, return an error\nfunction yankError(callback, docId) {\n  return function (err, results) {\n    if (err || (results[0] && results[0].error)) {\n      err = err || results[0];\n      err.docId = docId;\n      callback(err);\n    } else {\n      callback(null, results.length ? results[0]  : results);\n    }\n  };\n}\n\n// clean docs given to us by the user\nfunction cleanDocs(docs) {\n  for (var i = 0; i < docs.length; i++) {\n    var doc = docs[i];\n    if (doc._deleted) {\n      delete doc._attachments; // ignore atts for deleted docs\n    } else if (doc._attachments) {\n      // filter out extraneous keys from _attachments\n      var atts = Object.keys(doc._attachments);\n      for (var j = 0; j < atts.length; j++) {\n        var att = atts[j];\n        doc._attachments[att] = pick(doc._attachments[att],\n          ['data', 'digest', 'content_type', 'length', 'revpos', 'stub']);\n      }\n    }\n  }\n}\n\n// compare two docs, first by _id then by _rev\nfunction compareByIdThenRev(a, b) {\n  var idCompare = compare(a._id, b._id);\n  if (idCompare !== 0) {\n    return idCompare;\n  }\n  var aStart = a._revisions ? a._revisions.start : 0;\n  var bStart = b._revisions ? b._revisions.start : 0;\n  return compare(aStart, bStart);\n}\n\n// for every node in a revision tree computes its distance from the closest\n// leaf\nfunction computeHeight(revs) {\n  var height = {};\n  var edges = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, prnt) {\n    var rev = pos + \"-\" + id;\n    if (isLeaf) {\n      height[rev] = 0;\n    }\n    if (prnt !== undefined) {\n      edges.push({from: prnt, to: rev});\n    }\n    return rev;\n  });\n\n  edges.reverse();\n  edges.forEach(function (edge) {\n    if (height[edge.from] === undefined) {\n      height[edge.from] = 1 + height[edge.to];\n    } else {\n      height[edge.from] = Math.min(height[edge.from], 1 + height[edge.to]);\n    }\n  });\n  return height;\n}\n\nfunction allDocsKeysParse(opts) {\n  var keys =  ('limit' in opts) ?\n    opts.keys.slice(opts.skip, opts.limit + opts.skip) :\n    (opts.skip > 0) ? opts.keys.slice(opts.skip) : opts.keys;\n  opts.keys = keys;\n  opts.skip = 0;\n  delete opts.limit;\n  if (opts.descending) {\n    keys.reverse();\n    opts.descending = false;\n  }\n}\n\n// all compaction is done in a queue, to avoid attaching\n// too many listeners at once\nfunction doNextCompaction(self) {\n  var task = self._compactionQueue[0];\n  var opts = task.opts;\n  var callback = task.callback;\n  self.get('_local/compaction').catch(function () {\n    return false;\n  }).then(function (doc) {\n    if (doc && doc.last_seq) {\n      opts.last_seq = doc.last_seq;\n    }\n    self._compact(opts, function (err, res) {\n      /* istanbul ignore if */\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, res);\n      }\n      nextTick(function () {\n        self._compactionQueue.shift();\n        if (self._compactionQueue.length) {\n          doNextCompaction(self);\n        }\n      });\n    });\n  });\n}\n\nfunction attachmentNameError(name) {\n  if (name.charAt(0) === '_') {\n    return name + ' is not a valid attachment name, attachment ' +\n      'names cannot start with \\'_\\'';\n  }\n  return false;\n}\n\ninherits(AbstractPouchDB, EventEmitter);\n\nfunction AbstractPouchDB() {\n  EventEmitter.call(this);\n\n  // re-bind prototyped methods\n  for (var p in AbstractPouchDB.prototype) {\n    if (typeof this[p] === 'function') {\n      this[p] = this[p].bind(this);\n    }\n  }\n}\n\nAbstractPouchDB.prototype.post =\n  adapterFun('post', function (doc, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return callback(createError(NOT_AN_OBJECT));\n  }\n  this.bulkDocs({docs: [doc]}, opts, yankError(callback, doc._id));\n});\n\nAbstractPouchDB.prototype.put = adapterFun('put', function (doc, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return cb(createError(NOT_AN_OBJECT));\n  }\n  invalidIdError(doc._id);\n  if (isLocalId(doc._id) && typeof this._putLocal === 'function') {\n    if (doc._deleted) {\n      return this._removeLocal(doc, cb);\n    } else {\n      return this._putLocal(doc, cb);\n    }\n  }\n  var self = this;\n  if (opts.force && doc._rev) {\n    transformForceOptionToNewEditsOption();\n    putDoc(function (err) {\n      var result = err ? null : {ok: true, id: doc._id, rev: doc._rev};\n      cb(err, result);\n    });\n  } else {\n    putDoc(cb);\n  }\n\n  function transformForceOptionToNewEditsOption() {\n    var parts = doc._rev.split('-');\n    var oldRevId = parts[1];\n    var oldRevNum = parseInt(parts[0], 10);\n\n    var newRevNum = oldRevNum + 1;\n    var newRevId = rev$$1();\n\n    doc._revisions = {\n      start: newRevNum,\n      ids: [newRevId, oldRevId]\n    };\n    doc._rev = newRevNum + '-' + newRevId;\n    opts.new_edits = false;\n  }\n  function putDoc(next) {\n    if (typeof self._put === 'function' && opts.new_edits !== false) {\n      self._put(doc, opts, next);\n    } else {\n      self.bulkDocs({docs: [doc]}, opts, yankError(next, doc._id));\n    }\n  }\n});\n\nAbstractPouchDB.prototype.putAttachment =\n  adapterFun('putAttachment', function (docId, attachmentId, rev,\n                                              blob, type) {\n  var api = this;\n  if (typeof type === 'function') {\n    type = blob;\n    blob = rev;\n    rev = null;\n  }\n  // Lets fix in https://github.com/pouchdb/pouchdb/issues/3267\n  /* istanbul ignore if */\n  if (typeof type === 'undefined') {\n    type = blob;\n    blob = rev;\n    rev = null;\n  }\n  if (!type) {\n    guardedConsole('warn', 'Attachment', attachmentId, 'on document', docId, 'is missing content_type');\n  }\n\n  function createAttachment(doc) {\n    var prevrevpos = '_rev' in doc ? parseInt(doc._rev, 10) : 0;\n    doc._attachments = doc._attachments || {};\n    doc._attachments[attachmentId] = {\n      content_type: type,\n      data: blob,\n      revpos: ++prevrevpos\n    };\n    return api.put(doc);\n  }\n\n  return api.get(docId).then(function (doc) {\n    if (doc._rev !== rev) {\n      throw createError(REV_CONFLICT);\n    }\n\n    return createAttachment(doc);\n  }, function (err) {\n     // create new doc\n    /* istanbul ignore else */\n    if (err.reason === MISSING_DOC.message) {\n      return createAttachment({_id: docId});\n    } else {\n      throw err;\n    }\n  });\n});\n\nAbstractPouchDB.prototype.removeAttachment =\n  adapterFun('removeAttachment', function (docId, attachmentId, rev,\n                                                 callback) {\n  var self = this;\n  self.get(docId, function (err, obj) {\n    /* istanbul ignore if */\n    if (err) {\n      callback(err);\n      return;\n    }\n    if (obj._rev !== rev) {\n      callback(createError(REV_CONFLICT));\n      return;\n    }\n    /* istanbul ignore if */\n    if (!obj._attachments) {\n      return callback();\n    }\n    delete obj._attachments[attachmentId];\n    if (Object.keys(obj._attachments).length === 0) {\n      delete obj._attachments;\n    }\n    self.put(obj, callback);\n  });\n});\n\nAbstractPouchDB.prototype.remove =\n  adapterFun('remove', function (docOrId, optsOrRev, opts, callback) {\n  var doc;\n  if (typeof optsOrRev === 'string') {\n    // id, rev, opts, callback style\n    doc = {\n      _id: docOrId,\n      _rev: optsOrRev\n    };\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n  } else {\n    // doc, opts, callback style\n    doc = docOrId;\n    if (typeof optsOrRev === 'function') {\n      callback = optsOrRev;\n      opts = {};\n    } else {\n      callback = opts;\n      opts = optsOrRev;\n    }\n  }\n  opts = opts || {};\n  opts.was_delete = true;\n  var newDoc = {_id: doc._id, _rev: (doc._rev || opts.rev)};\n  newDoc._deleted = true;\n  if (isLocalId(newDoc._id) && typeof this._removeLocal === 'function') {\n    return this._removeLocal(doc, callback);\n  }\n  this.bulkDocs({docs: [newDoc]}, opts, yankError(callback, newDoc._id));\n});\n\nAbstractPouchDB.prototype.revsDiff =\n  adapterFun('revsDiff', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  var ids = Object.keys(req);\n\n  if (!ids.length) {\n    return callback(null, {});\n  }\n\n  var count = 0;\n  var missing = new ExportedMap();\n\n  function addToMissing(id, revId) {\n    if (!missing.has(id)) {\n      missing.set(id, {missing: []});\n    }\n    missing.get(id).missing.push(revId);\n  }\n\n  function processDoc(id, rev_tree) {\n    // Is this fast enough? Maybe we should switch to a set simulated by a map\n    var missingForId = req[id].slice(0);\n    traverseRevTree(rev_tree, function (isLeaf, pos, revHash, ctx,\n      opts) {\n        var rev = pos + '-' + revHash;\n        var idx = missingForId.indexOf(rev);\n        if (idx === -1) {\n          return;\n        }\n\n        missingForId.splice(idx, 1);\n        /* istanbul ignore if */\n        if (opts.status !== 'available') {\n          addToMissing(id, rev);\n        }\n      });\n\n    // Traversing the tree is synchronous, so now `missingForId` contains\n    // revisions that were not found in the tree\n    missingForId.forEach(function (rev) {\n      addToMissing(id, rev);\n    });\n  }\n\n  ids.map(function (id) {\n    this._getRevisionTree(id, function (err, rev_tree) {\n      if (err && err.status === 404 && err.message === 'missing') {\n        missing.set(id, {missing: req[id]});\n      } else if (err) {\n        /* istanbul ignore next */\n        return callback(err);\n      } else {\n        processDoc(id, rev_tree);\n      }\n\n      if (++count === ids.length) {\n        // convert LazyMap to object\n        var missingObj = {};\n        missing.forEach(function (value, key) {\n          missingObj[key] = value;\n        });\n        return callback(null, missingObj);\n      }\n    });\n  }, this);\n});\n\n// _bulk_get API for faster replication, as described in\n// https://github.com/apache/couchdb-chttpd/pull/33\n// At the \"abstract\" level, it will just run multiple get()s in\n// parallel, because this isn't much of a performance cost\n// for local databases (except the cost of multiple transactions, which is\n// small). The http adapter overrides this in order\n// to do a more efficient single HTTP request.\nAbstractPouchDB.prototype.bulkGet =\n  adapterFun('bulkGet', function (opts, callback) {\n  bulkGet(this, opts, callback);\n});\n\n// compact one document and fire callback\n// by compacting we mean removing all revisions which\n// are further from the leaf in revision tree than max_height\nAbstractPouchDB.prototype.compactDocument =\n  adapterFun('compactDocument', function (docId, maxHeight, callback) {\n  var self = this;\n  this._getRevisionTree(docId, function (err, revTree) {\n    /* istanbul ignore if */\n    if (err) {\n      return callback(err);\n    }\n    var height = computeHeight(revTree);\n    var candidates = [];\n    var revs = [];\n    Object.keys(height).forEach(function (rev) {\n      if (height[rev] > maxHeight) {\n        candidates.push(rev);\n      }\n    });\n\n    traverseRevTree(revTree, function (isLeaf, pos, revHash, ctx, opts) {\n      var rev = pos + '-' + revHash;\n      if (opts.status === 'available' && candidates.indexOf(rev) !== -1) {\n        revs.push(rev);\n      }\n    });\n    self._doCompaction(docId, revs, callback);\n  });\n});\n\n// compact the whole database using single document\n// compaction\nAbstractPouchDB.prototype.compact =\n  adapterFun('compact', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  self._compactionQueue = self._compactionQueue || [];\n  self._compactionQueue.push({opts: opts, callback: callback});\n  if (self._compactionQueue.length === 1) {\n    doNextCompaction(self);\n  }\n});\nAbstractPouchDB.prototype._compact = function (opts, callback) {\n  var self = this;\n  var changesOpts = {\n    return_docs: false,\n    last_seq: opts.last_seq || 0\n  };\n  var promises = [];\n\n  function onChange(row) {\n    promises.push(self.compactDocument(row.id, 0));\n  }\n  function onComplete(resp) {\n    var lastSeq = resp.last_seq;\n    Promise.all(promises).then(function () {\n      return upsert(self, '_local/compaction', function deltaFunc(doc) {\n        if (!doc.last_seq || doc.last_seq < lastSeq) {\n          doc.last_seq = lastSeq;\n          return doc;\n        }\n        return false; // somebody else got here first, don't update\n      });\n    }).then(function () {\n      callback(null, {ok: true});\n    }).catch(callback);\n  }\n  self.changes(changesOpts)\n    .on('change', onChange)\n    .on('complete', onComplete)\n    .on('error', callback);\n};\n\n/* Begin api wrappers. Specific functionality to storage belongs in the\n   _[method] */\nAbstractPouchDB.prototype.get = adapterFun('get', function (id, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof id !== 'string') {\n    return cb(createError(INVALID_ID));\n  }\n  if (isLocalId(id) && typeof this._getLocal === 'function') {\n    return this._getLocal(id, cb);\n  }\n  var leaves = [], self = this;\n\n  function finishOpenRevs() {\n    var result = [];\n    var count = leaves.length;\n    /* istanbul ignore if */\n    if (!count) {\n      return cb(null, result);\n    }\n\n    // order with open_revs is unspecified\n    leaves.forEach(function (leaf) {\n      self.get(id, {\n        rev: leaf,\n        revs: opts.revs,\n        latest: opts.latest,\n        attachments: opts.attachments,\n        binary: opts.binary\n      }, function (err, doc) {\n        if (!err) {\n          // using latest=true can produce duplicates\n          var existing;\n          for (var i = 0, l = result.length; i < l; i++) {\n            if (result[i].ok && result[i].ok._rev === doc._rev) {\n              existing = true;\n              break;\n            }\n          }\n          if (!existing) {\n            result.push({ok: doc});\n          }\n        } else {\n          result.push({missing: leaf});\n        }\n        count--;\n        if (!count) {\n          cb(null, result);\n        }\n      });\n    });\n  }\n\n  if (opts.open_revs) {\n    if (opts.open_revs === \"all\") {\n      this._getRevisionTree(id, function (err, rev_tree) {\n        /* istanbul ignore if */\n        if (err) {\n          return cb(err);\n        }\n        leaves = collectLeaves(rev_tree).map(function (leaf) {\n          return leaf.rev;\n        });\n        finishOpenRevs();\n      });\n    } else {\n      if (Array.isArray(opts.open_revs)) {\n        leaves = opts.open_revs;\n        for (var i = 0; i < leaves.length; i++) {\n          var l = leaves[i];\n          // looks like it's the only thing couchdb checks\n          if (!(typeof (l) === \"string\" && /^\\d+-/.test(l))) {\n            return cb(createError(INVALID_REV));\n          }\n        }\n        finishOpenRevs();\n      } else {\n        return cb(createError(UNKNOWN_ERROR, 'function_clause'));\n      }\n    }\n    return; // open_revs does not like other options\n  }\n\n  return this._get(id, opts, function (err, result) {\n    if (err) {\n      err.docId = id;\n      return cb(err);\n    }\n\n    var doc = result.doc;\n    var metadata = result.metadata;\n    var ctx = result.ctx;\n\n    if (opts.conflicts) {\n      var conflicts = collectConflicts(metadata);\n      if (conflicts.length) {\n        doc._conflicts = conflicts;\n      }\n    }\n\n    if (isDeleted(metadata, doc._rev)) {\n      doc._deleted = true;\n    }\n\n    if (opts.revs || opts.revs_info) {\n      var splittedRev = doc._rev.split('-');\n      var revNo       = parseInt(splittedRev[0], 10);\n      var revHash     = splittedRev[1];\n\n      var paths = rootToLeaf(metadata.rev_tree);\n      var path = null;\n\n      for (var i = 0; i < paths.length; i++) {\n        var currentPath = paths[i];\n        var hashIndex = currentPath.ids.map(function (x) { return x.id; })\n          .indexOf(revHash);\n        var hashFoundAtRevPos = hashIndex === (revNo - 1);\n\n        if (hashFoundAtRevPos || (!path && hashIndex !== -1)) {\n          path = currentPath;\n        }\n      }\n\n      var indexOfRev = path.ids.map(function (x) { return x.id; })\n        .indexOf(doc._rev.split('-')[1]) + 1;\n      var howMany = path.ids.length - indexOfRev;\n      path.ids.splice(indexOfRev, howMany);\n      path.ids.reverse();\n\n      if (opts.revs) {\n        doc._revisions = {\n          start: (path.pos + path.ids.length) - 1,\n          ids: path.ids.map(function (rev) {\n            return rev.id;\n          })\n        };\n      }\n      if (opts.revs_info) {\n        var pos =  path.pos + path.ids.length;\n        doc._revs_info = path.ids.map(function (rev) {\n          pos--;\n          return {\n            rev: pos + '-' + rev.id,\n            status: rev.opts.status\n          };\n        });\n      }\n    }\n\n    if (opts.attachments && doc._attachments) {\n      var attachments = doc._attachments;\n      var count = Object.keys(attachments).length;\n      if (count === 0) {\n        return cb(null, doc);\n      }\n      Object.keys(attachments).forEach(function (key) {\n        this._getAttachment(doc._id, key, attachments[key], {\n          // Previously the revision handling was done in adapter.js\n          // getAttachment, however since idb-next doesnt we need to\n          // pass the rev through\n          rev: doc._rev,\n          binary: opts.binary,\n          ctx: ctx\n        }, function (err, data) {\n          var att = doc._attachments[key];\n          att.data = data;\n          delete att.stub;\n          delete att.length;\n          if (!--count) {\n            cb(null, doc);\n          }\n        });\n      }, self);\n    } else {\n      if (doc._attachments) {\n        for (var key in doc._attachments) {\n          /* istanbul ignore else */\n          if (doc._attachments.hasOwnProperty(key)) {\n            doc._attachments[key].stub = true;\n          }\n        }\n      }\n      cb(null, doc);\n    }\n  });\n});\n\n// TODO: I dont like this, it forces an extra read for every\n// attachment read and enforces a confusing api between\n// adapter.js and the adapter implementation\nAbstractPouchDB.prototype.getAttachment =\n  adapterFun('getAttachment', function (docId, attachmentId, opts, callback) {\n  var self = this;\n  if (opts instanceof Function) {\n    callback = opts;\n    opts = {};\n  }\n  this._get(docId, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (res.doc._attachments && res.doc._attachments[attachmentId]) {\n      opts.ctx = res.ctx;\n      opts.binary = true;\n      self._getAttachment(docId, attachmentId,\n                          res.doc._attachments[attachmentId], opts, callback);\n    } else {\n      return callback(createError(MISSING_DOC));\n    }\n  });\n});\n\nAbstractPouchDB.prototype.allDocs =\n  adapterFun('allDocs', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  opts.skip = typeof opts.skip !== 'undefined' ? opts.skip : 0;\n  if (opts.start_key) {\n    opts.startkey = opts.start_key;\n  }\n  if (opts.end_key) {\n    opts.endkey = opts.end_key;\n  }\n  if ('keys' in opts) {\n    if (!Array.isArray(opts.keys)) {\n      return callback(new TypeError('options.keys must be an array'));\n    }\n    var incompatibleOpt =\n      ['startkey', 'endkey', 'key'].filter(function (incompatibleOpt) {\n      return incompatibleOpt in opts;\n    })[0];\n    if (incompatibleOpt) {\n      callback(createError(QUERY_PARSE_ERROR,\n        'Query parameter `' + incompatibleOpt +\n        '` is not compatible with multi-get'\n      ));\n      return;\n    }\n    if (!isRemote(this)) {\n      allDocsKeysParse(opts);\n      if (opts.keys.length === 0) {\n        return this._allDocs({limit: 0}, callback);\n      }\n    }\n  }\n\n  return this._allDocs(opts, callback);\n});\n\nAbstractPouchDB.prototype.changes = function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  // By default set return_docs to false if the caller has opts.live = true,\n  // this will prevent us from collecting the set of changes indefinitely\n  // resulting in growing memory\n  opts.return_docs = ('return_docs' in opts) ? opts.return_docs : !opts.live;\n\n  return new Changes$1(this, opts, callback);\n};\n\nAbstractPouchDB.prototype.close = adapterFun('close', function (callback) {\n  this._closed = true;\n  this.emit('closed');\n  return this._close(callback);\n});\n\nAbstractPouchDB.prototype.info = adapterFun('info', function (callback) {\n  var self = this;\n  this._info(function (err, info) {\n    if (err) {\n      return callback(err);\n    }\n    // assume we know better than the adapter, unless it informs us\n    info.db_name = info.db_name || self.name;\n    info.auto_compaction = !!(self.auto_compaction && !isRemote(self));\n    info.adapter = self.adapter;\n    callback(null, info);\n  });\n});\n\nAbstractPouchDB.prototype.id = adapterFun('id', function (callback) {\n  return this._id(callback);\n});\n\n/* istanbul ignore next */\nAbstractPouchDB.prototype.type = function () {\n  return (typeof this._type === 'function') ? this._type() : this.adapter;\n};\n\nAbstractPouchDB.prototype.bulkDocs =\n  adapterFun('bulkDocs', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  if (Array.isArray(req)) {\n    req = {\n      docs: req\n    };\n  }\n\n  if (!req || !req.docs || !Array.isArray(req.docs)) {\n    return callback(createError(MISSING_BULK_DOCS));\n  }\n\n  for (var i = 0; i < req.docs.length; ++i) {\n    if (typeof req.docs[i] !== 'object' || Array.isArray(req.docs[i])) {\n      return callback(createError(NOT_AN_OBJECT));\n    }\n  }\n\n  var attachmentError;\n  req.docs.forEach(function (doc) {\n    if (doc._attachments) {\n      Object.keys(doc._attachments).forEach(function (name) {\n        attachmentError = attachmentError || attachmentNameError(name);\n        if (!doc._attachments[name].content_type) {\n          guardedConsole('warn', 'Attachment', name, 'on document', doc._id, 'is missing content_type');\n        }\n      });\n    }\n  });\n\n  if (attachmentError) {\n    return callback(createError(BAD_REQUEST, attachmentError));\n  }\n\n  if (!('new_edits' in opts)) {\n    if ('new_edits' in req) {\n      opts.new_edits = req.new_edits;\n    } else {\n      opts.new_edits = true;\n    }\n  }\n\n  var adapter = this;\n  if (!opts.new_edits && !isRemote(adapter)) {\n    // ensure revisions of the same doc are sorted, so that\n    // the local adapter processes them correctly (#2935)\n    req.docs.sort(compareByIdThenRev);\n  }\n\n  cleanDocs(req.docs);\n\n  // in the case of conflicts, we want to return the _ids to the user\n  // however, the underlying adapter may destroy the docs array, so\n  // create a copy here\n  var ids = req.docs.map(function (doc) {\n    return doc._id;\n  });\n\n  return this._bulkDocs(req, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (!opts.new_edits) {\n      // this is what couch does when new_edits is false\n      res = res.filter(function (x) {\n        return x.error;\n      });\n    }\n    // add ids for error/conflict responses (not required for CouchDB)\n    if (!isRemote(adapter)) {\n      for (var i = 0, l = res.length; i < l; i++) {\n        res[i].id = res[i].id || ids[i];\n      }\n    }\n\n    callback(null, res);\n  });\n});\n\nAbstractPouchDB.prototype.registerDependentDatabase =\n  adapterFun('registerDependentDatabase', function (dependentDb,\n                                                          callback) {\n  var depDB = new this.constructor(dependentDb, this.__opts);\n\n  function diffFun(doc) {\n    doc.dependentDbs = doc.dependentDbs || {};\n    if (doc.dependentDbs[dependentDb]) {\n      return false; // no update required\n    }\n    doc.dependentDbs[dependentDb] = true;\n    return doc;\n  }\n  upsert(this, '_local/_pouch_dependentDbs', diffFun)\n    .then(function () {\n      callback(null, {db: depDB});\n    }).catch(callback);\n});\n\nAbstractPouchDB.prototype.destroy =\n  adapterFun('destroy', function (opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  var usePrefix = 'use_prefix' in self ? self.use_prefix : true;\n\n  function destroyDb() {\n    // call destroy method of the particular adaptor\n    self._destroy(opts, function (err, resp) {\n      if (err) {\n        return callback(err);\n      }\n      self._destroyed = true;\n      self.emit('destroyed');\n      callback(null, resp || { 'ok': true });\n    });\n  }\n\n  if (isRemote(self)) {\n    // no need to check for dependent DBs if it's a remote DB\n    return destroyDb();\n  }\n\n  self.get('_local/_pouch_dependentDbs', function (err, localDoc) {\n    if (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        return callback(err);\n      } else { // no dependencies\n        return destroyDb();\n      }\n    }\n    var dependentDbs = localDoc.dependentDbs;\n    var PouchDB = self.constructor;\n    var deletedMap = Object.keys(dependentDbs).map(function (name) {\n      // use_prefix is only false in the browser\n      /* istanbul ignore next */\n      var trueName = usePrefix ?\n        name.replace(new RegExp('^' + PouchDB.prefix), '') : name;\n      return new PouchDB(trueName, self.__opts).destroy();\n    });\n    Promise.all(deletedMap).then(destroyDb, callback);\n  });\n});\n\nfunction TaskQueue() {\n  this.isReady = false;\n  this.failed = false;\n  this.queue = [];\n}\n\nTaskQueue.prototype.execute = function () {\n  var fun;\n  if (this.failed) {\n    while ((fun = this.queue.shift())) {\n      fun(this.failed);\n    }\n  } else {\n    while ((fun = this.queue.shift())) {\n      fun();\n    }\n  }\n};\n\nTaskQueue.prototype.fail = function (err) {\n  this.failed = err;\n  this.execute();\n};\n\nTaskQueue.prototype.ready = function (db) {\n  this.isReady = true;\n  this.db = db;\n  this.execute();\n};\n\nTaskQueue.prototype.addTask = function (fun) {\n  this.queue.push(fun);\n  if (this.failed) {\n    this.execute();\n  }\n};\n\nfunction parseAdapter(name, opts) {\n  var match = name.match(/([a-z-]*):\\/\\/(.*)/);\n  if (match) {\n    // the http adapter expects the fully qualified name\n    return {\n      name: /https?/.test(match[1]) ? match[1] + '://' + match[2] : match[2],\n      adapter: match[1]\n    };\n  }\n\n  var adapters = PouchDB.adapters;\n  var preferredAdapters = PouchDB.preferredAdapters;\n  var prefix = PouchDB.prefix;\n  var adapterName = opts.adapter;\n\n  if (!adapterName) { // automatically determine adapter\n    for (var i = 0; i < preferredAdapters.length; ++i) {\n      adapterName = preferredAdapters[i];\n      // check for browsers that have been upgraded from websql-only to websql+idb\n      /* istanbul ignore if */\n      if (adapterName === 'idb' && 'websql' in adapters &&\n          hasLocalStorage() && localStorage['_pouch__websqldb_' + prefix + name]) {\n        // log it, because this can be confusing during development\n        guardedConsole('log', 'PouchDB is downgrading \"' + name + '\" to WebSQL to' +\n          ' avoid data loss, because it was already opened with WebSQL.');\n        continue; // keep using websql to avoid user data loss\n      }\n      break;\n    }\n  }\n\n  var adapter = adapters[adapterName];\n\n  // if adapter is invalid, then an error will be thrown later\n  var usePrefix = (adapter && 'use_prefix' in adapter) ?\n    adapter.use_prefix : true;\n\n  return {\n    name: usePrefix ? (prefix + name) : name,\n    adapter: adapterName\n  };\n}\n\n// OK, so here's the deal. Consider this code:\n//     var db1 = new PouchDB('foo');\n//     var db2 = new PouchDB('foo');\n//     db1.destroy();\n// ^ these two both need to emit 'destroyed' events,\n// as well as the PouchDB constructor itself.\n// So we have one db object (whichever one got destroy() called on it)\n// responsible for emitting the initial event, which then gets emitted\n// by the constructor, which then broadcasts it to any other dbs\n// that may have been created with the same name.\nfunction prepareForDestruction(self) {\n\n  function onDestroyed(from_constructor) {\n    self.removeListener('closed', onClosed);\n    if (!from_constructor) {\n      self.constructor.emit('destroyed', self.name);\n    }\n  }\n\n  function onClosed() {\n    self.removeListener('destroyed', onDestroyed);\n    self.constructor.emit('unref', self);\n  }\n\n  self.once('destroyed', onDestroyed);\n  self.once('closed', onClosed);\n  self.constructor.emit('ref', self);\n}\n\ninherits(PouchDB, AbstractPouchDB);\nfunction PouchDB(name, opts) {\n  // In Node our test suite only tests this for PouchAlt unfortunately\n  /* istanbul ignore if */\n  if (!(this instanceof PouchDB)) {\n    return new PouchDB(name, opts);\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  if (name && typeof name === 'object') {\n    opts = name;\n    name = opts.name;\n    delete opts.name;\n  }\n\n  if (opts.deterministic_revs === undefined) {\n    opts.deterministic_revs = true;\n  }\n\n  this.__opts = opts = clone(opts);\n\n  self.auto_compaction = opts.auto_compaction;\n  self.prefix = PouchDB.prefix;\n\n  if (typeof name !== 'string') {\n    throw new Error('Missing/invalid DB name');\n  }\n\n  var prefixedName = (opts.prefix || '') + name;\n  var backend = parseAdapter(prefixedName, opts);\n\n  opts.name = backend.name;\n  opts.adapter = opts.adapter || backend.adapter;\n\n  self.name = name;\n  self._adapter = opts.adapter;\n  PouchDB.emit('debug', ['adapter', 'Picked adapter: ', opts.adapter]);\n\n  if (!PouchDB.adapters[opts.adapter] ||\n      !PouchDB.adapters[opts.adapter].valid()) {\n    throw new Error('Invalid Adapter: ' + opts.adapter);\n  }\n\n  AbstractPouchDB.call(self);\n  self.taskqueue = new TaskQueue();\n\n  self.adapter = opts.adapter;\n\n  PouchDB.adapters[opts.adapter].call(self, opts, function (err) {\n    if (err) {\n      return self.taskqueue.fail(err);\n    }\n    prepareForDestruction(self);\n\n    self.emit('created', self);\n    PouchDB.emit('created', self.name);\n    self.taskqueue.ready(self);\n  });\n\n}\n\n// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f$1 = fetch;\nvar h = Headers;\n\nPouchDB.adapters = {};\nPouchDB.preferredAdapters = [];\n\nPouchDB.prefix = '_pouch_';\n\nvar eventEmitter = new EventEmitter();\n\nfunction setUpEventEmitter(Pouch) {\n  Object.keys(EventEmitter.prototype).forEach(function (key) {\n    if (typeof EventEmitter.prototype[key] === 'function') {\n      Pouch[key] = eventEmitter[key].bind(eventEmitter);\n    }\n  });\n\n  // these are created in constructor.js, and allow us to notify each DB with\n  // the same name that it was destroyed, via the constructor object\n  var destructListeners = Pouch._destructionListeners = new ExportedMap();\n\n  Pouch.on('ref', function onConstructorRef(db) {\n    if (!destructListeners.has(db.name)) {\n      destructListeners.set(db.name, []);\n    }\n    destructListeners.get(db.name).push(db);\n  });\n\n  Pouch.on('unref', function onConstructorUnref(db) {\n    if (!destructListeners.has(db.name)) {\n      return;\n    }\n    var dbList = destructListeners.get(db.name);\n    var pos = dbList.indexOf(db);\n    if (pos < 0) {\n      /* istanbul ignore next */\n      return;\n    }\n    dbList.splice(pos, 1);\n    if (dbList.length > 1) {\n      /* istanbul ignore next */\n      destructListeners.set(db.name, dbList);\n    } else {\n      destructListeners.delete(db.name);\n    }\n  });\n\n  Pouch.on('destroyed', function onConstructorDestroyed(name) {\n    if (!destructListeners.has(name)) {\n      return;\n    }\n    var dbList = destructListeners.get(name);\n    destructListeners.delete(name);\n    dbList.forEach(function (db) {\n      db.emit('destroyed',true);\n    });\n  });\n}\n\nsetUpEventEmitter(PouchDB);\n\nPouchDB.adapter = function (id, obj, addToPreferredAdapters) {\n  /* istanbul ignore else */\n  if (obj.valid()) {\n    PouchDB.adapters[id] = obj;\n    if (addToPreferredAdapters) {\n      PouchDB.preferredAdapters.push(id);\n    }\n  }\n};\n\nPouchDB.plugin = function (obj) {\n  if (typeof obj === 'function') { // function style for plugins\n    obj(PouchDB);\n  } else if (typeof obj !== 'object' || Object.keys(obj).length === 0) {\n    throw new Error('Invalid plugin: got \"' + obj + '\", expected an object or a function');\n  } else {\n    Object.keys(obj).forEach(function (id) { // object style for plugins\n      PouchDB.prototype[id] = obj[id];\n    });\n  }\n  if (this.__defaults) {\n    PouchDB.__defaults = $inject_Object_assign({}, this.__defaults);\n  }\n  return PouchDB;\n};\n\nPouchDB.defaults = function (defaultOpts) {\n  function PouchAlt(name, opts) {\n    if (!(this instanceof PouchAlt)) {\n      return new PouchAlt(name, opts);\n    }\n\n    opts = opts || {};\n\n    if (name && typeof name === 'object') {\n      opts = name;\n      name = opts.name;\n      delete opts.name;\n    }\n\n    opts = $inject_Object_assign({}, PouchAlt.__defaults, opts);\n    PouchDB.call(this, name, opts);\n  }\n\n  inherits(PouchAlt, PouchDB);\n\n  PouchAlt.preferredAdapters = PouchDB.preferredAdapters.slice();\n  Object.keys(PouchDB).forEach(function (key) {\n    if (!(key in PouchAlt)) {\n      PouchAlt[key] = PouchDB[key];\n    }\n  });\n\n  // make default options transitive\n  // https://github.com/pouchdb/pouchdb/issues/5922\n  PouchAlt.__defaults = $inject_Object_assign({}, this.__defaults, defaultOpts);\n\n  return PouchAlt;\n};\n\nPouchDB.fetch = function (url, opts) {\n  return f$1(url, opts);\n};\n\n// managed automatically by set-version.js\nvar version = \"7.0.0\";\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction compare$1(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n  if ('$and' in result) {\n    result = mergeAndedSelectors(result['$and']);\n    wasAnded = true;\n  }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\nfunction pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare$1(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  return Object.keys(matcher).every(function (userOperator) {\n    var userValue = matcher[userOperator];\n    return match(userOperator, doc, userValue, parsedField, docFieldValue);\n  });\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nfunction evalFilter(input) {\n  return scopeEval('\"use strict\";\\nreturn ' + input + ';', {});\n}\n\nfunction evalView(input) {\n  var code = [\n    'return function(doc) {',\n    '  \"use strict\";',\n    '  var emitted = false;',\n    '  var emit = function (a, b) {',\n    '    emitted = true;',\n    '  };',\n    '  var view = ' + input + ';',\n    '  view(doc);',\n    '  if (emitted) {',\n    '    return true;',\n    '  }',\n    '};'\n  ].join('\\n');\n\n  return scopeEval(code, {});\n}\n\nfunction validate(opts, callback) {\n  if (opts.selector) {\n    if (opts.filter && opts.filter !== '_selector') {\n      var filterName = typeof opts.filter === 'string' ?\n        opts.filter : 'function';\n      return callback(new Error('selector invalid for filter \"' + filterName + '\"'));\n    }\n  }\n  callback();\n}\n\nfunction normalize(opts) {\n  if (opts.view && !opts.filter) {\n    opts.filter = '_view';\n  }\n\n  if (opts.selector && !opts.filter) {\n    opts.filter = '_selector';\n  }\n\n  if (opts.filter && typeof opts.filter === 'string') {\n    if (opts.filter === '_view') {\n      opts.view = normalizeDesignDocFunctionName(opts.view);\n    } else {\n      opts.filter = normalizeDesignDocFunctionName(opts.filter);\n    }\n  }\n}\n\nfunction shouldFilter(changesHandler, opts) {\n  return opts.filter && typeof opts.filter === 'string' &&\n    !opts.doc_ids && !isRemote(changesHandler.db);\n}\n\nfunction filter(changesHandler, opts) {\n  var callback = opts.complete;\n  if (opts.filter === '_view') {\n    if (!opts.view || typeof opts.view !== 'string') {\n      var err = createError(BAD_REQUEST,\n        '`view` filter parameter not found or invalid.');\n      return callback(err);\n    }\n    // fetch a view from a design doc, make it behave like a filter\n    var viewName = parseDesignDocFunctionName(opts.view);\n    changesHandler.db.get('_design/' + viewName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var mapFun = ddoc && ddoc.views && ddoc.views[viewName[1]] &&\n        ddoc.views[viewName[1]].map;\n      if (!mapFun) {\n        return callback(createError(MISSING_DOC,\n          (ddoc.views ? 'missing json key: ' + viewName[1] :\n            'missing json key: views')));\n      }\n      opts.filter = evalView(mapFun);\n      changesHandler.doChanges(opts);\n    });\n  } else if (opts.selector) {\n    opts.filter = function (doc) {\n      return matchesSelector(doc, opts.selector);\n    };\n    changesHandler.doChanges(opts);\n  } else {\n    // fetch a filter from a design doc\n    var filterName = parseDesignDocFunctionName(opts.filter);\n    changesHandler.db.get('_design/' + filterName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var filterFun = ddoc && ddoc.filters && ddoc.filters[filterName[1]];\n      if (!filterFun) {\n        return callback(createError(MISSING_DOC,\n          ((ddoc && ddoc.filters) ? 'missing json key: ' + filterName[1]\n            : 'missing json key: filters')));\n      }\n      opts.filter = evalFilter(filterFun);\n      changesHandler.doChanges(opts);\n    });\n  }\n}\n\nfunction applyChangesFilterPlugin(PouchDB) {\n  PouchDB._changesFilterPlugin = {\n    validate: validate,\n    normalize: normalize,\n    shouldFilter: shouldFilter,\n    filter: filter\n  };\n}\n\n// TODO: remove from pouchdb-core (breaking)\nPouchDB.plugin(applyChangesFilterPlugin);\n\nPouchDB.version = version;\n\nfunction toObject(array) {\n  return array.reduce(function (obj, item) {\n    obj[item] = true;\n    return obj;\n  }, {});\n}\n// List of top level reserved words for doc\nvar reservedWords = toObject([\n  '_id',\n  '_rev',\n  '_attachments',\n  '_deleted',\n  '_revisions',\n  '_revs_info',\n  '_conflicts',\n  '_deleted_conflicts',\n  '_local_seq',\n  '_rev_tree',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats',\n  // Specific to Couchbase Sync Gateway\n  '_removed'\n]);\n\n// List of reserved words that should end up the document\nvar dataWords = toObject([\n  '_attachments',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats'\n]);\n\nfunction parseRevisionInfo(rev) {\n  if (!/^\\d+-./.test(rev)) {\n    return createError(INVALID_REV);\n  }\n  var idx = rev.indexOf('-');\n  var left = rev.substring(0, idx);\n  var right = rev.substring(idx + 1);\n  return {\n    prefix: parseInt(left, 10),\n    id: right\n  };\n}\n\nfunction makeRevTreeFromRevisions(revisions, opts) {\n  var pos = revisions.start - revisions.ids.length + 1;\n\n  var revisionIds = revisions.ids;\n  var ids = [revisionIds[0], opts, []];\n\n  for (var i = 1, len = revisionIds.length; i < len; i++) {\n    ids = [revisionIds[i], {status: 'missing'}, [ids]];\n  }\n\n  return [{\n    pos: pos,\n    ids: ids\n  }];\n}\n\n// Preprocess documents, parse their revisions, assign an id and a\n// revision for new writes that are missing them, etc\nfunction parseDoc(doc, newEdits, dbOpts) {\n  if (!dbOpts) {\n    dbOpts = {\n      deterministic_revs: true\n    };\n  }\n\n  var nRevNum;\n  var newRevId;\n  var revInfo;\n  var opts = {status: 'available'};\n  if (doc._deleted) {\n    opts.deleted = true;\n  }\n\n  if (newEdits) {\n    if (!doc._id) {\n      doc._id = uuid();\n    }\n    newRevId = rev$$1(doc, dbOpts.deterministic_revs);\n    if (doc._rev) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      doc._rev_tree = [{\n        pos: revInfo.prefix,\n        ids: [revInfo.id, {status: 'missing'}, [[newRevId, opts, []]]]\n      }];\n      nRevNum = revInfo.prefix + 1;\n    } else {\n      doc._rev_tree = [{\n        pos: 1,\n        ids : [newRevId, opts, []]\n      }];\n      nRevNum = 1;\n    }\n  } else {\n    if (doc._revisions) {\n      doc._rev_tree = makeRevTreeFromRevisions(doc._revisions, opts);\n      nRevNum = doc._revisions.start;\n      newRevId = doc._revisions.ids[0];\n    }\n    if (!doc._rev_tree) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      nRevNum = revInfo.prefix;\n      newRevId = revInfo.id;\n      doc._rev_tree = [{\n        pos: nRevNum,\n        ids: [newRevId, opts, []]\n      }];\n    }\n  }\n\n  invalidIdError(doc._id);\n\n  doc._rev = nRevNum + '-' + newRevId;\n\n  var result = {metadata : {}, data : {}};\n  for (var key in doc) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(doc, key)) {\n      var specialKey = key[0] === '_';\n      if (specialKey && !reservedWords[key]) {\n        var error = createError(DOC_VALIDATION, key);\n        error.message = DOC_VALIDATION.message + ': ' + key;\n        throw error;\n      } else if (specialKey && !dataWords[key]) {\n        result.metadata[key.slice(1)] = doc[key];\n      } else {\n        result.data[key] = doc[key];\n      }\n    }\n  }\n  return result;\n}\n\nfunction parseBase64(data) {\n  try {\n    return thisAtob(data);\n  } catch (e) {\n    var err = createError(BAD_ARG,\n      'Attachment is not a valid base64 string');\n    return {error: err};\n  }\n}\n\nfunction preprocessString(att, blobType, callback) {\n  var asBinary = parseBase64(att.data);\n  if (asBinary.error) {\n    return callback(asBinary.error);\n  }\n\n  att.length = asBinary.length;\n  if (blobType === 'blob') {\n    att.data = binStringToBluffer(asBinary, att.content_type);\n  } else if (blobType === 'base64') {\n    att.data = thisBtoa(asBinary);\n  } else { // binary\n    att.data = asBinary;\n  }\n  binaryMd5(asBinary, function (result) {\n    att.digest = 'md5-' + result;\n    callback();\n  });\n}\n\nfunction preprocessBlob(att, blobType, callback) {\n  binaryMd5(att.data, function (md5) {\n    att.digest = 'md5-' + md5;\n    // size is for blobs (browser), length is for buffers (node)\n    att.length = att.data.size || att.data.length || 0;\n    if (blobType === 'binary') {\n      blobToBinaryString(att.data, function (binString) {\n        att.data = binString;\n        callback();\n      });\n    } else if (blobType === 'base64') {\n      blobToBase64(att.data, function (b64) {\n        att.data = b64;\n        callback();\n      });\n    } else {\n      callback();\n    }\n  });\n}\n\nfunction preprocessAttachment(att, blobType, callback) {\n  if (att.stub) {\n    return callback();\n  }\n  if (typeof att.data === 'string') { // input is a base64 string\n    preprocessString(att, blobType, callback);\n  } else { // input is a blob\n    preprocessBlob(att, blobType, callback);\n  }\n}\n\nfunction preprocessAttachments(docInfos, blobType, callback) {\n\n  if (!docInfos.length) {\n    return callback();\n  }\n\n  var docv = 0;\n  var overallErr;\n\n  docInfos.forEach(function (docInfo) {\n    var attachments = docInfo.data && docInfo.data._attachments ?\n      Object.keys(docInfo.data._attachments) : [];\n    var recv = 0;\n\n    if (!attachments.length) {\n      return done();\n    }\n\n    function processedAttachment(err) {\n      overallErr = err;\n      recv++;\n      if (recv === attachments.length) {\n        done();\n      }\n    }\n\n    for (var key in docInfo.data._attachments) {\n      if (docInfo.data._attachments.hasOwnProperty(key)) {\n        preprocessAttachment(docInfo.data._attachments[key],\n          blobType, processedAttachment);\n      }\n    }\n  });\n\n  function done() {\n    docv++;\n    if (docInfos.length === docv) {\n      if (overallErr) {\n        callback(overallErr);\n      } else {\n        callback();\n      }\n    }\n  }\n}\n\nfunction updateDoc(revLimit, prev, docInfo, results,\n                   i, cb, writeDoc, newEdits) {\n\n  if (revExists(prev.rev_tree, docInfo.metadata.rev) && !newEdits) {\n    results[i] = docInfo;\n    return cb();\n  }\n\n  // sometimes this is pre-calculated. historically not always\n  var previousWinningRev = prev.winningRev || winningRev(prev);\n  var previouslyDeleted = 'deleted' in prev ? prev.deleted :\n    isDeleted(prev, previousWinningRev);\n  var deleted = 'deleted' in docInfo.metadata ? docInfo.metadata.deleted :\n    isDeleted(docInfo.metadata);\n  var isRoot = /^1-/.test(docInfo.metadata.rev);\n\n  if (previouslyDeleted && !deleted && newEdits && isRoot) {\n    var newDoc = docInfo.data;\n    newDoc._rev = previousWinningRev;\n    newDoc._id = docInfo.metadata.id;\n    docInfo = parseDoc(newDoc, newEdits);\n  }\n\n  var merged = merge(prev.rev_tree, docInfo.metadata.rev_tree[0], revLimit);\n\n  var inConflict = newEdits && ((\n    (previouslyDeleted && deleted && merged.conflicts !== 'new_leaf') ||\n    (!previouslyDeleted && merged.conflicts !== 'new_leaf') ||\n    (previouslyDeleted && !deleted && merged.conflicts === 'new_branch')));\n\n  if (inConflict) {\n    var err = createError(REV_CONFLICT);\n    results[i] = err;\n    return cb();\n  }\n\n  var newRev = docInfo.metadata.rev;\n  docInfo.metadata.rev_tree = merged.tree;\n  docInfo.stemmedRevs = merged.stemmedRevs || [];\n  /* istanbul ignore else */\n  if (prev.rev_map) {\n    docInfo.metadata.rev_map = prev.rev_map; // used only by leveldb\n  }\n\n  // recalculate\n  var winningRev$$1 = winningRev(docInfo.metadata);\n  var winningRevIsDeleted = isDeleted(docInfo.metadata, winningRev$$1);\n\n  // calculate the total number of documents that were added/removed,\n  // from the perspective of total_rows/doc_count\n  var delta = (previouslyDeleted === winningRevIsDeleted) ? 0 :\n    previouslyDeleted < winningRevIsDeleted ? -1 : 1;\n\n  var newRevIsDeleted;\n  if (newRev === winningRev$$1) {\n    // if the new rev is the same as the winning rev, we can reuse that value\n    newRevIsDeleted = winningRevIsDeleted;\n  } else {\n    // if they're not the same, then we need to recalculate\n    newRevIsDeleted = isDeleted(docInfo.metadata, newRev);\n  }\n\n  writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n    true, delta, i, cb);\n}\n\nfunction rootIsMissing(docInfo) {\n  return docInfo.metadata.rev_tree[0].ids[1].status === 'missing';\n}\n\nfunction processDocs(revLimit, docInfos, api, fetchedDocs, tx, results,\n                     writeDoc, opts, overallCallback) {\n\n  // Default to 1000 locally\n  revLimit = revLimit || 1000;\n\n  function insertDoc(docInfo, resultsIdx, callback) {\n    // Cant insert new deleted documents\n    var winningRev$$1 = winningRev(docInfo.metadata);\n    var deleted = isDeleted(docInfo.metadata, winningRev$$1);\n    if ('was_delete' in opts && deleted) {\n      results[resultsIdx] = createError(MISSING_DOC, 'deleted');\n      return callback();\n    }\n\n    // 4712 - detect whether a new document was inserted with a _rev\n    var inConflict = newEdits && rootIsMissing(docInfo);\n\n    if (inConflict) {\n      var err = createError(REV_CONFLICT);\n      results[resultsIdx] = err;\n      return callback();\n    }\n\n    var delta = deleted ? 0 : 1;\n\n    writeDoc(docInfo, winningRev$$1, deleted, deleted, false,\n      delta, resultsIdx, callback);\n  }\n\n  var newEdits = opts.new_edits;\n  var idsToDocs = new ExportedMap();\n\n  var docsDone = 0;\n  var docsToDo = docInfos.length;\n\n  function checkAllDocsDone() {\n    if (++docsDone === docsToDo && overallCallback) {\n      overallCallback();\n    }\n  }\n\n  docInfos.forEach(function (currentDoc, resultsIdx) {\n\n    if (currentDoc._id && isLocalId(currentDoc._id)) {\n      var fun = currentDoc._deleted ? '_removeLocal' : '_putLocal';\n      api[fun](currentDoc, {ctx: tx}, function (err, res) {\n        results[resultsIdx] = err || res;\n        checkAllDocsDone();\n      });\n      return;\n    }\n\n    var id = currentDoc.metadata.id;\n    if (idsToDocs.has(id)) {\n      docsToDo--; // duplicate\n      idsToDocs.get(id).push([currentDoc, resultsIdx]);\n    } else {\n      idsToDocs.set(id, [[currentDoc, resultsIdx]]);\n    }\n  });\n\n  // in the case of new_edits, the user can provide multiple docs\n  // with the same id. these need to be processed sequentially\n  idsToDocs.forEach(function (docs, id) {\n    var numDone = 0;\n\n    function docWritten() {\n      if (++numDone < docs.length) {\n        nextDoc();\n      } else {\n        checkAllDocsDone();\n      }\n    }\n    function nextDoc() {\n      var value = docs[numDone];\n      var currentDoc = value[0];\n      var resultsIdx = value[1];\n\n      if (fetchedDocs.has(id)) {\n        updateDoc(revLimit, fetchedDocs.get(id), currentDoc, results,\n          resultsIdx, docWritten, writeDoc, newEdits);\n      } else {\n        // Ensure stemming applies to new writes as well\n        var merged = merge([], currentDoc.metadata.rev_tree[0], revLimit);\n        currentDoc.metadata.rev_tree = merged.tree;\n        currentDoc.stemmedRevs = merged.stemmedRevs || [];\n        insertDoc(currentDoc, resultsIdx, docWritten);\n      }\n    }\n    nextDoc();\n  });\n}\n\n// IndexedDB requires a versioned database structure, so we use the\n// version here to manage migrations.\nvar ADAPTER_VERSION = 5;\n\n// The object stores created for each database\n// DOC_STORE stores the document meta data, its revision history and state\n// Keyed by document id\nvar DOC_STORE = 'document-store';\n// BY_SEQ_STORE stores a particular version of a document, keyed by its\n// sequence id\nvar BY_SEQ_STORE = 'by-sequence';\n// Where we store attachments\nvar ATTACH_STORE = 'attach-store';\n// Where we store many-to-many relations\n// between attachment digests and seqs\nvar ATTACH_AND_SEQ_STORE = 'attach-seq-store';\n\n// Where we store database-wide meta data in a single record\n// keyed by id: META_STORE\nvar META_STORE = 'meta-store';\n// Where we store local documents\nvar LOCAL_STORE = 'local-store';\n// Where we detect blob support\nvar DETECT_BLOB_SUPPORT_STORE = 'detect-blob-support';\n\nfunction safeJsonParse(str) {\n  // This try/catch guards against stack overflow errors.\n  // JSON.parse() is faster than vuvuzela.parse() but vuvuzela\n  // cannot overflow.\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.parse(str);\n  }\n}\n\nfunction safeJsonStringify(json) {\n  try {\n    return JSON.stringify(json);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.stringify(json);\n  }\n}\n\nfunction idbError(callback) {\n  return function (evt) {\n    var message = 'unknown_error';\n    if (evt.target && evt.target.error) {\n      message = evt.target.error.name || evt.target.error.message;\n    }\n    callback(createError(IDB_ERROR, message, evt.type));\n  };\n}\n\n// Unfortunately, the metadata has to be stringified\n// when it is put into the database, because otherwise\n// IndexedDB can throw errors for deeply-nested objects.\n// Originally we just used JSON.parse/JSON.stringify; now\n// we use this custom vuvuzela library that avoids recursion.\n// If we could do it all over again, we'd probably use a\n// format for the revision trees other than JSON.\nfunction encodeMetadata(metadata, winningRev, deleted) {\n  return {\n    data: safeJsonStringify(metadata),\n    winningRev: winningRev,\n    deletedOrLocal: deleted ? '1' : '0',\n    seq: metadata.seq, // highest seq for this doc\n    id: metadata.id\n  };\n}\n\nfunction decodeMetadata(storedObject) {\n  if (!storedObject) {\n    return null;\n  }\n  var metadata = safeJsonParse(storedObject.data);\n  metadata.winningRev = storedObject.winningRev;\n  metadata.deleted = storedObject.deletedOrLocal === '1';\n  metadata.seq = storedObject.seq;\n  return metadata;\n}\n\n// read the doc back out from the database. we don't store the\n// _id or _rev because we already have _doc_id_rev.\nfunction decodeDoc(doc) {\n  if (!doc) {\n    return doc;\n  }\n  var idx = doc._doc_id_rev.lastIndexOf(':');\n  doc._id = doc._doc_id_rev.substring(0, idx - 1);\n  doc._rev = doc._doc_id_rev.substring(idx + 1);\n  delete doc._doc_id_rev;\n  return doc;\n}\n\n// Read a blob from the database, encoding as necessary\n// and translating from base64 if the IDB doesn't support\n// native Blobs\nfunction readBlobData(body, type, asBlob, callback) {\n  if (asBlob) {\n    if (!body) {\n      callback(createBlob([''], {type: type}));\n    } else if (typeof body !== 'string') { // we have blob support\n      callback(body);\n    } else { // no blob support\n      callback(b64ToBluffer(body, type));\n    }\n  } else { // as base64 string\n    if (!body) {\n      callback('');\n    } else if (typeof body !== 'string') { // we have blob support\n      readAsBinaryString(body, function (binary) {\n        callback(thisBtoa(binary));\n      });\n    } else { // no blob support\n      callback(body);\n    }\n  }\n}\n\nfunction fetchAttachmentsIfNecessary(doc, opts, txn, cb) {\n  var attachments = Object.keys(doc._attachments || {});\n  if (!attachments.length) {\n    return cb && cb();\n  }\n  var numDone = 0;\n\n  function checkDone() {\n    if (++numDone === attachments.length && cb) {\n      cb();\n    }\n  }\n\n  function fetchAttachment(doc, att) {\n    var attObj = doc._attachments[att];\n    var digest = attObj.digest;\n    var req = txn.objectStore(ATTACH_STORE).get(digest);\n    req.onsuccess = function (e) {\n      attObj.body = e.target.result.body;\n      checkDone();\n    };\n  }\n\n  attachments.forEach(function (att) {\n    if (opts.attachments && opts.include_docs) {\n      fetchAttachment(doc, att);\n    } else {\n      doc._attachments[att].stub = true;\n      checkDone();\n    }\n  });\n}\n\n// IDB-specific postprocessing necessary because\n// we don't know whether we stored a true Blob or\n// a base64-encoded string, and if it's a Blob it\n// needs to be read outside of the transaction context\nfunction postProcessAttachments(results, asBlob) {\n  return Promise.all(results.map(function (row) {\n    if (row.doc && row.doc._attachments) {\n      var attNames = Object.keys(row.doc._attachments);\n      return Promise.all(attNames.map(function (att) {\n        var attObj = row.doc._attachments[att];\n        if (!('body' in attObj)) { // already processed\n          return;\n        }\n        var body = attObj.body;\n        var type = attObj.content_type;\n        return new Promise(function (resolve) {\n          readBlobData(body, type, asBlob, function (data) {\n            row.doc._attachments[att] = $inject_Object_assign(\n              pick(attObj, ['digest', 'content_type']),\n              {data: data}\n            );\n            resolve();\n          });\n        });\n      }));\n    }\n  }));\n}\n\nfunction compactRevs(revs, docId, txn) {\n\n  var possiblyOrphanedDigests = [];\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var attStore = txn.objectStore(ATTACH_STORE);\n  var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n  var count = revs.length;\n\n  function checkDone() {\n    count--;\n    if (!count) { // done processing all revs\n      deleteOrphanedAttachments();\n    }\n  }\n\n  function deleteOrphanedAttachments() {\n    if (!possiblyOrphanedDigests.length) {\n      return;\n    }\n    possiblyOrphanedDigests.forEach(function (digest) {\n      var countReq = attAndSeqStore.index('digestSeq').count(\n        IDBKeyRange.bound(\n          digest + '::', digest + '::\\uffff', false, false));\n      countReq.onsuccess = function (e) {\n        var count = e.target.result;\n        if (!count) {\n          // orphaned\n          attStore.delete(digest);\n        }\n      };\n    });\n  }\n\n  revs.forEach(function (rev) {\n    var index = seqStore.index('_doc_id_rev');\n    var key = docId + \"::\" + rev;\n    index.getKey(key).onsuccess = function (e) {\n      var seq = e.target.result;\n      if (typeof seq !== 'number') {\n        return checkDone();\n      }\n      seqStore.delete(seq);\n\n      var cursor = attAndSeqStore.index('seq')\n        .openCursor(IDBKeyRange.only(seq));\n\n      cursor.onsuccess = function (event) {\n        var cursor = event.target.result;\n        if (cursor) {\n          var digest = cursor.value.digestSeq.split('::')[0];\n          possiblyOrphanedDigests.push(digest);\n          attAndSeqStore.delete(cursor.primaryKey);\n          cursor.continue();\n        } else { // done\n          checkDone();\n        }\n      };\n    };\n  });\n}\n\nfunction openTransactionSafely(idb, stores, mode) {\n  try {\n    return {\n      txn: idb.transaction(stores, mode)\n    };\n  } catch (err) {\n    return {\n      error: err\n    };\n  }\n}\n\nvar changesHandler = new Changes();\n\nfunction idbBulkDocs(dbOpts, req, opts, api, idb, callback) {\n  var docInfos = req.docs;\n  var txn;\n  var docStore;\n  var bySeqStore;\n  var attachStore;\n  var attachAndSeqStore;\n  var metaStore;\n  var docInfoError;\n  var metaDoc;\n\n  for (var i = 0, len = docInfos.length; i < len; i++) {\n    var doc = docInfos[i];\n    if (doc._id && isLocalId(doc._id)) {\n      continue;\n    }\n    doc = docInfos[i] = parseDoc(doc, opts.new_edits, dbOpts);\n    if (doc.error && !docInfoError) {\n      docInfoError = doc;\n    }\n  }\n\n  if (docInfoError) {\n    return callback(docInfoError);\n  }\n\n  var allDocsProcessed = false;\n  var docCountDelta = 0;\n  var results = new Array(docInfos.length);\n  var fetchedDocs = new ExportedMap();\n  var preconditionErrored = false;\n  var blobType = api._meta.blobSupport ? 'blob' : 'base64';\n\n  preprocessAttachments(docInfos, blobType, function (err) {\n    if (err) {\n      return callback(err);\n    }\n    startTransaction();\n  });\n\n  function startTransaction() {\n\n    var stores = [\n      DOC_STORE, BY_SEQ_STORE,\n      ATTACH_STORE,\n      LOCAL_STORE, ATTACH_AND_SEQ_STORE,\n      META_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    txn = txnResult.txn;\n    txn.onabort = idbError(callback);\n    txn.ontimeout = idbError(callback);\n    txn.oncomplete = complete;\n    docStore = txn.objectStore(DOC_STORE);\n    bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    attachStore = txn.objectStore(ATTACH_STORE);\n    attachAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n    metaStore = txn.objectStore(META_STORE);\n\n    metaStore.get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result;\n      updateDocCountIfReady();\n    };\n\n    verifyAttachments(function (err) {\n      if (err) {\n        preconditionErrored = true;\n        return callback(err);\n      }\n      fetchExistingDocs();\n    });\n  }\n\n  function onAllDocsProcessed() {\n    allDocsProcessed = true;\n    updateDocCountIfReady();\n  }\n\n  function idbProcessDocs() {\n    processDocs(dbOpts.revs_limit, docInfos, api, fetchedDocs,\n                txn, results, writeDoc, opts, onAllDocsProcessed);\n  }\n\n  function updateDocCountIfReady() {\n    if (!metaDoc || !allDocsProcessed) {\n      return;\n    }\n    // caching the docCount saves a lot of time in allDocs() and\n    // info(), which is why we go to all the trouble of doing this\n    metaDoc.docCount += docCountDelta;\n    metaStore.put(metaDoc);\n  }\n\n  function fetchExistingDocs() {\n\n    if (!docInfos.length) {\n      return;\n    }\n\n    var numFetched = 0;\n\n    function checkDone() {\n      if (++numFetched === docInfos.length) {\n        idbProcessDocs();\n      }\n    }\n\n    function readMetadata(event) {\n      var metadata = decodeMetadata(event.target.result);\n\n      if (metadata) {\n        fetchedDocs.set(metadata.id, metadata);\n      }\n      checkDone();\n    }\n\n    for (var i = 0, len = docInfos.length; i < len; i++) {\n      var docInfo = docInfos[i];\n      if (docInfo._id && isLocalId(docInfo._id)) {\n        checkDone(); // skip local docs\n        continue;\n      }\n      var req = docStore.get(docInfo.metadata.id);\n      req.onsuccess = readMetadata;\n    }\n  }\n\n  function complete() {\n    if (preconditionErrored) {\n      return;\n    }\n\n    changesHandler.notify(api._meta.name);\n    callback(null, results);\n  }\n\n  function verifyAttachment(digest, callback) {\n\n    var req = attachStore.get(digest);\n    req.onsuccess = function (e) {\n      if (!e.target.result) {\n        var err = createError(MISSING_STUB,\n          'unknown stub attachment with digest ' +\n          digest);\n        err.status = 412;\n        callback(err);\n      } else {\n        callback();\n      }\n    };\n  }\n\n  function verifyAttachments(finish) {\n\n\n    var digests = [];\n    docInfos.forEach(function (docInfo) {\n      if (docInfo.data && docInfo.data._attachments) {\n        Object.keys(docInfo.data._attachments).forEach(function (filename) {\n          var att = docInfo.data._attachments[filename];\n          if (att.stub) {\n            digests.push(att.digest);\n          }\n        });\n      }\n    });\n    if (!digests.length) {\n      return finish();\n    }\n    var numDone = 0;\n    var err;\n\n    function checkDone() {\n      if (++numDone === digests.length) {\n        finish(err);\n      }\n    }\n    digests.forEach(function (digest) {\n      verifyAttachment(digest, function (attErr) {\n        if (attErr && !err) {\n          err = attErr;\n        }\n        checkDone();\n      });\n    });\n  }\n\n  function writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n                    isUpdate, delta, resultsIdx, callback) {\n\n    docInfo.metadata.winningRev = winningRev$$1;\n    docInfo.metadata.deleted = winningRevIsDeleted;\n\n    var doc = docInfo.data;\n    doc._id = docInfo.metadata.id;\n    doc._rev = docInfo.metadata.rev;\n\n    if (newRevIsDeleted) {\n      doc._deleted = true;\n    }\n\n    var hasAttachments = doc._attachments &&\n      Object.keys(doc._attachments).length;\n    if (hasAttachments) {\n      return writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n        isUpdate, resultsIdx, callback);\n    }\n\n    docCountDelta += delta;\n    updateDocCountIfReady();\n\n    finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n      isUpdate, resultsIdx, callback);\n  }\n\n  function finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n                     isUpdate, resultsIdx, callback) {\n\n    var doc = docInfo.data;\n    var metadata = docInfo.metadata;\n\n    doc._doc_id_rev = metadata.id + '::' + metadata.rev;\n    delete doc._id;\n    delete doc._rev;\n\n    function afterPutDoc(e) {\n      var revsToDelete = docInfo.stemmedRevs || [];\n\n      if (isUpdate && api.auto_compaction) {\n        revsToDelete = revsToDelete.concat(compactTree(docInfo.metadata));\n      }\n\n      if (revsToDelete && revsToDelete.length) {\n        compactRevs(revsToDelete, docInfo.metadata.id, txn);\n      }\n\n      metadata.seq = e.target.result;\n      // Current _rev is calculated from _rev_tree on read\n      // delete metadata.rev;\n      var metadataToStore = encodeMetadata(metadata, winningRev$$1,\n        winningRevIsDeleted);\n      var metaDataReq = docStore.put(metadataToStore);\n      metaDataReq.onsuccess = afterPutMetadata;\n    }\n\n    function afterPutDocError(e) {\n      // ConstraintError, need to update, not put (see #1638 for details)\n      e.preventDefault(); // avoid transaction abort\n      e.stopPropagation(); // avoid transaction onerror\n      var index = bySeqStore.index('_doc_id_rev');\n      var getKeyReq = index.getKey(doc._doc_id_rev);\n      getKeyReq.onsuccess = function (e) {\n        var putReq = bySeqStore.put(doc, e.target.result);\n        putReq.onsuccess = afterPutDoc;\n      };\n    }\n\n    function afterPutMetadata() {\n      results[resultsIdx] = {\n        ok: true,\n        id: metadata.id,\n        rev: metadata.rev\n      };\n      fetchedDocs.set(docInfo.metadata.id, docInfo.metadata);\n      insertAttachmentMappings(docInfo, metadata.seq, callback);\n    }\n\n    var putReq = bySeqStore.put(doc);\n\n    putReq.onsuccess = afterPutDoc;\n    putReq.onerror = afterPutDocError;\n  }\n\n  function writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n                            isUpdate, resultsIdx, callback) {\n\n\n    var doc = docInfo.data;\n\n    var numDone = 0;\n    var attachments = Object.keys(doc._attachments);\n\n    function collectResults() {\n      if (numDone === attachments.length) {\n        finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n          isUpdate, resultsIdx, callback);\n      }\n    }\n\n    function attachmentSaved() {\n      numDone++;\n      collectResults();\n    }\n\n    attachments.forEach(function (key) {\n      var att = docInfo.data._attachments[key];\n      if (!att.stub) {\n        var data = att.data;\n        delete att.data;\n        att.revpos = parseInt(winningRev$$1, 10);\n        var digest = att.digest;\n        saveAttachment(digest, data, attachmentSaved);\n      } else {\n        numDone++;\n        collectResults();\n      }\n    });\n  }\n\n  // map seqs to attachment digests, which\n  // we will need later during compaction\n  function insertAttachmentMappings(docInfo, seq, callback) {\n\n    var attsAdded = 0;\n    var attsToAdd = Object.keys(docInfo.data._attachments || {});\n\n    if (!attsToAdd.length) {\n      return callback();\n    }\n\n    function checkDone() {\n      if (++attsAdded === attsToAdd.length) {\n        callback();\n      }\n    }\n\n    function add(att) {\n      var digest = docInfo.data._attachments[att].digest;\n      var req = attachAndSeqStore.put({\n        seq: seq,\n        digestSeq: digest + '::' + seq\n      });\n\n      req.onsuccess = checkDone;\n      req.onerror = function (e) {\n        // this callback is for a constaint error, which we ignore\n        // because this docid/rev has already been associated with\n        // the digest (e.g. when new_edits == false)\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n        checkDone();\n      };\n    }\n    for (var i = 0; i < attsToAdd.length; i++) {\n      add(attsToAdd[i]); // do in parallel\n    }\n  }\n\n  function saveAttachment(digest, data, callback) {\n\n\n    var getKeyReq = attachStore.count(digest);\n    getKeyReq.onsuccess = function (e) {\n      var count = e.target.result;\n      if (count) {\n        return callback(); // already exists\n      }\n      var newAtt = {\n        digest: digest,\n        body: data\n      };\n      var putReq = attachStore.put(newAtt);\n      putReq.onsuccess = callback;\n    };\n  }\n}\n\n// Abstraction over IDBCursor and getAll()/getAllKeys() that allows us to batch our operations\n// while falling back to a normal IDBCursor operation on browsers that don't support getAll() or\n// getAllKeys(). This allows for a much faster implementation than just straight-up cursors, because\n// we're not processing each document one-at-a-time.\nfunction runBatchedCursor(objectStore, keyRange, descending, batchSize, onBatch) {\n\n  if (batchSize === -1) {\n    batchSize = 1000;\n  }\n\n  // Bail out of getAll()/getAllKeys() in the following cases:\n  // 1) either method is unsupported - we need both\n  // 2) batchSize is 1 (might as well use IDBCursor)\n  // 3) descending – no real way to do this via getAll()/getAllKeys()\n\n  var useGetAll = typeof objectStore.getAll === 'function' &&\n    typeof objectStore.getAllKeys === 'function' &&\n    batchSize > 1 && !descending;\n\n  var keysBatch;\n  var valuesBatch;\n  var pseudoCursor;\n\n  function onGetAll(e) {\n    valuesBatch = e.target.result;\n    if (keysBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function onGetAllKeys(e) {\n    keysBatch = e.target.result;\n    if (valuesBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function continuePseudoCursor() {\n    if (!keysBatch.length) { // no more results\n      return onBatch();\n    }\n    // fetch next batch, exclusive start\n    var lastKey = keysBatch[keysBatch.length - 1];\n    var newKeyRange;\n    if (keyRange && keyRange.upper) {\n      try {\n        newKeyRange = IDBKeyRange.bound(lastKey, keyRange.upper,\n          true, keyRange.upperOpen);\n      } catch (e) {\n        if (e.name === \"DataError\" && e.code === 0) {\n          return onBatch(); // we're done, startkey and endkey are equal\n        }\n      }\n    } else {\n      newKeyRange = IDBKeyRange.lowerBound(lastKey, true);\n    }\n    keyRange = newKeyRange;\n    keysBatch = null;\n    valuesBatch = null;\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  }\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (!cursor) { // done\n      return onBatch();\n    }\n    // regular IDBCursor acts like a batch where batch size is always 1\n    onBatch([cursor.key], [cursor.value], cursor);\n  }\n\n  if (useGetAll) {\n    pseudoCursor = {\"continue\": continuePseudoCursor};\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  } else if (descending) {\n    objectStore.openCursor(keyRange, 'prev').onsuccess = onCursor;\n  } else {\n    objectStore.openCursor(keyRange).onsuccess = onCursor;\n  }\n}\n\n// simple shim for objectStore.getAll(), falling back to IDBCursor\nfunction getAll(objectStore, keyRange, onSuccess) {\n  if (typeof objectStore.getAll === 'function') {\n    // use native getAll\n    objectStore.getAll(keyRange).onsuccess = onSuccess;\n    return;\n  }\n  // fall back to cursors\n  var values = [];\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (cursor) {\n      values.push(cursor.value);\n      cursor.continue();\n    } else {\n      onSuccess({\n        target: {\n          result: values\n        }\n      });\n    }\n  }\n\n  objectStore.openCursor(keyRange).onsuccess = onCursor;\n}\n\nfunction allDocsKeys(keys, docStore, onBatch) {\n  // It's not guaranted to be returned in right order  \n  var valuesBatch = new Array(keys.length);\n  var count = 0;\n  keys.forEach(function (key, index) {\n    docStore.get(key).onsuccess = function (event) {\n      if (event.target.result) {\n        valuesBatch[index] = event.target.result;\n      } else {\n        valuesBatch[index] = {key: key, error: 'not_found'};\n      }\n      count++;\n      if (count === keys.length) {\n        onBatch(keys, valuesBatch, {});\n      }\n    };\n  });\n}\n\nfunction createKeyRange(start, end, inclusiveEnd, key, descending) {\n  try {\n    if (start && end) {\n      if (descending) {\n        return IDBKeyRange.bound(end, start, !inclusiveEnd, false);\n      } else {\n        return IDBKeyRange.bound(start, end, false, !inclusiveEnd);\n      }\n    } else if (start) {\n      if (descending) {\n        return IDBKeyRange.upperBound(start);\n      } else {\n        return IDBKeyRange.lowerBound(start);\n      }\n    } else if (end) {\n      if (descending) {\n        return IDBKeyRange.lowerBound(end, !inclusiveEnd);\n      } else {\n        return IDBKeyRange.upperBound(end, !inclusiveEnd);\n      }\n    } else if (key) {\n      return IDBKeyRange.only(key);\n    }\n  } catch (e) {\n    return {error: e};\n  }\n  return null;\n}\n\nfunction idbAllDocs(opts, idb, callback) {\n  var start = 'startkey' in opts ? opts.startkey : false;\n  var end = 'endkey' in opts ? opts.endkey : false;\n  var key = 'key' in opts ? opts.key : false;\n  var keys = 'keys' in opts ? opts.keys : false; \n  var skip = opts.skip || 0;\n  var limit = typeof opts.limit === 'number' ? opts.limit : -1;\n  var inclusiveEnd = opts.inclusive_end !== false;\n\n  var keyRange ; \n  var keyRangeError;\n  if (!keys) {\n    keyRange = createKeyRange(start, end, inclusiveEnd, key, opts.descending);\n    keyRangeError = keyRange && keyRange.error;\n    if (keyRangeError && \n      !(keyRangeError.name === \"DataError\" && keyRangeError.code === 0)) {\n      // DataError with error code 0 indicates start is less than end, so\n      // can just do an empty query. Else need to throw\n      return callback(createError(IDB_ERROR,\n        keyRangeError.name, keyRangeError.message));\n    }\n  }\n\n  var stores = [DOC_STORE, BY_SEQ_STORE, META_STORE];\n\n  if (opts.attachments) {\n    stores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, stores, 'readonly');\n  if (txnResult.error) {\n    return callback(txnResult.error);\n  }\n  var txn = txnResult.txn;\n  txn.oncomplete = onTxnComplete;\n  txn.onabort = idbError(callback);\n  var docStore = txn.objectStore(DOC_STORE);\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var metaStore = txn.objectStore(META_STORE);\n  var docIdRevIndex = seqStore.index('_doc_id_rev');\n  var results = [];\n  var docCount;\n  var updateSeq;\n\n  metaStore.get(META_STORE).onsuccess = function (e) {\n    docCount = e.target.result.docCount;\n  };\n\n  /* istanbul ignore if */\n  if (opts.update_seq) {\n    getMaxUpdateSeq(seqStore, function (e) { \n      if (e.target.result && e.target.result.length > 0) {\n        updateSeq = e.target.result[0];\n      }\n    });\n  }\n\n  function getMaxUpdateSeq(objectStore, onSuccess) {\n    function onCursor(e) {\n      var cursor = e.target.result;\n      var maxKey = undefined;\n      if (cursor && cursor.key) {\n        maxKey = cursor.key;\n      } \n      return onSuccess({\n        target: {\n          result: [maxKey]\n        }\n      });\n    }\n    objectStore.openCursor(null, 'prev').onsuccess = onCursor;\n  }\n\n  // if the user specifies include_docs=true, then we don't\n  // want to block the main cursor while we're fetching the doc\n  function fetchDocAsynchronously(metadata, row, winningRev$$1) {\n    var key = metadata.id + \"::\" + winningRev$$1;\n    docIdRevIndex.get(key).onsuccess =  function onGetDoc(e) {\n      row.doc = decodeDoc(e.target.result) || {};\n      if (opts.conflicts) {\n        var conflicts = collectConflicts(metadata);\n        if (conflicts.length) {\n          row.doc._conflicts = conflicts;\n        }\n      }\n      fetchAttachmentsIfNecessary(row.doc, opts, txn);\n    };\n  }\n\n  function allDocsInner(winningRev$$1, metadata) {\n    var row = {\n      id: metadata.id,\n      key: metadata.id,\n      value: {\n        rev: winningRev$$1\n      }\n    };\n    var deleted = metadata.deleted;\n    if (deleted) {\n      if (keys) {\n        results.push(row);\n        // deleted docs are okay with \"keys\" requests\n        row.value.deleted = true;\n        row.doc = null;\n      }\n    } else if (skip-- <= 0) {\n      results.push(row);\n      if (opts.include_docs) {\n        fetchDocAsynchronously(metadata, row, winningRev$$1);\n      }\n    }\n  }\n\n  function processBatch(batchValues) {\n    for (var i = 0, len = batchValues.length; i < len; i++) {\n      if (results.length === limit) {\n        break;\n      }\n      var batchValue = batchValues[i];\n      if (batchValue.error && keys) {\n        // key was not found with \"keys\" requests\n        results.push(batchValue);\n        continue;\n      }\n      var metadata = decodeMetadata(batchValue);\n      var winningRev$$1 = metadata.winningRev;\n      allDocsInner(winningRev$$1, metadata);\n    }\n  }\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor) {\n      return;\n    }\n    processBatch(batchValues);\n    if (results.length < limit) {\n      cursor.continue();\n    }\n  }\n\n  function onGetAll(e) {\n    var values = e.target.result;\n    if (opts.descending) {\n      values = values.reverse();\n    }\n    processBatch(values);\n  }\n\n  function onResultsReady() {\n    var returnVal = {\n      total_rows: docCount,\n      offset: opts.skip,\n      rows: results\n    };\n    \n    /* istanbul ignore if */\n    if (opts.update_seq && updateSeq !== undefined) {\n      returnVal.update_seq = updateSeq;\n    }\n    callback(null, returnVal);\n  }\n\n  function onTxnComplete() {\n    if (opts.attachments) {\n      postProcessAttachments(results, opts.binary).then(onResultsReady);\n    } else {\n      onResultsReady();\n    }\n  }\n\n  // don't bother doing any requests if start > end or limit === 0\n  if (keyRangeError || limit === 0) {\n    return;\n  }\n  if (keys) {\n    return allDocsKeys(opts.keys, docStore, onBatch);\n  }\n  if (limit === -1) { // just fetch everything\n    return getAll(docStore, keyRange, onGetAll);\n  }\n  // else do a cursor\n  // choose a batch size based on the skip, since we'll need to skip that many\n  runBatchedCursor(docStore, keyRange, opts.descending, limit + skip, onBatch);\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\nfunction checkBlobSupport(txn) {\n  return new Promise(function (resolve) {\n    var blob$$1 = createBlob(['']);\n    var req = txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob$$1, 'key');\n\n    req.onsuccess = function () {\n      var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n      var matchedEdge = navigator.userAgent.match(/Edge\\//);\n      // MS Edge pretends to be Chrome 42:\n      // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n      resolve(matchedEdge || !matchedChrome ||\n        parseInt(matchedChrome[1], 10) >= 43);\n    };\n\n    req.onerror = txn.onabort = function (e) {\n      // If the transaction aborts now its due to not being able to\n      // write to the database, likely due to the disk being full\n      e.preventDefault();\n      e.stopPropagation();\n      resolve(false);\n    };\n  }).catch(function () {\n    return false; // error, so assume unsupported\n  });\n}\n\nfunction countDocs(txn, cb) {\n  var index = txn.objectStore(DOC_STORE).index('deletedOrLocal');\n  index.count(IDBKeyRange.only('0')).onsuccess = function (e) {\n    cb(e.target.result);\n  };\n}\n\n// This task queue ensures that IDB open calls are done in their own tick\n\nvar running = false;\nvar queue = [];\n\nfunction tryCode(fun, err, res, PouchDB) {\n  try {\n    fun(err, res);\n  } catch (err) {\n    // Shouldn't happen, but in some odd cases\n    // IndexedDB implementations might throw a sync\n    // error, in which case this will at least log it.\n    PouchDB.emit('error', err);\n  }\n}\n\nfunction applyNext() {\n  if (running || !queue.length) {\n    return;\n  }\n  running = true;\n  queue.shift()();\n}\n\nfunction enqueueTask(action, callback, PouchDB) {\n  queue.push(function runAction() {\n    action(function runCallback(err, res) {\n      tryCode(callback, err, res, PouchDB);\n      running = false;\n      nextTick(function runNext() {\n        applyNext(PouchDB);\n      });\n    });\n  });\n  applyNext();\n}\n\nfunction changes(opts, api, dbName, idb) {\n  opts = clone(opts);\n\n  if (opts.continuous) {\n    var id = dbName + ':' + uuid();\n    changesHandler.addListener(dbName, id, api, opts);\n    changesHandler.notify(dbName);\n    return {\n      cancel: function () {\n        changesHandler.removeListener(dbName, id);\n      }\n    };\n  }\n\n  var docIds = opts.doc_ids && new ExportedSet(opts.doc_ids);\n\n  opts.since = opts.since || 0;\n  var lastSeq = opts.since;\n\n  var limit = 'limit' in opts ? opts.limit : -1;\n  if (limit === 0) {\n    limit = 1; // per CouchDB _changes spec\n  }\n\n  var results = [];\n  var numResults = 0;\n  var filter = filterChange(opts);\n  var docIdsToMetadata = new ExportedMap();\n\n  var txn;\n  var bySeqStore;\n  var docStore;\n  var docIdRevIndex;\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor || !batchKeys.length) { // done\n      return;\n    }\n\n    var winningDocs = new Array(batchKeys.length);\n    var metadatas = new Array(batchKeys.length);\n\n    function processMetadataAndWinningDoc(metadata, winningDoc) {\n      var change = opts.processChange(winningDoc, metadata, opts);\n      lastSeq = change.seq = metadata.seq;\n\n      var filtered = filter(change);\n      if (typeof filtered === 'object') { // anything but true/false indicates error\n        return Promise.reject(filtered);\n      }\n\n      if (!filtered) {\n        return Promise.resolve();\n      }\n      numResults++;\n      if (opts.return_docs) {\n        results.push(change);\n      }\n      // process the attachment immediately\n      // for the benefit of live listeners\n      if (opts.attachments && opts.include_docs) {\n        return new Promise(function (resolve) {\n          fetchAttachmentsIfNecessary(winningDoc, opts, txn, function () {\n            postProcessAttachments([change], opts.binary).then(function () {\n              resolve(change);\n            });\n          });\n        });\n      } else {\n        return Promise.resolve(change);\n      }\n    }\n\n    function onBatchDone() {\n      var promises = [];\n      for (var i = 0, len = winningDocs.length; i < len; i++) {\n        if (numResults === limit) {\n          break;\n        }\n        var winningDoc = winningDocs[i];\n        if (!winningDoc) {\n          continue;\n        }\n        var metadata = metadatas[i];\n        promises.push(processMetadataAndWinningDoc(metadata, winningDoc));\n      }\n\n      Promise.all(promises).then(function (changes) {\n        for (var i = 0, len = changes.length; i < len; i++) {\n          if (changes[i]) {\n            opts.onChange(changes[i]);\n          }\n        }\n      }).catch(opts.complete);\n\n      if (numResults !== limit) {\n        cursor.continue();\n      }\n    }\n\n    // Fetch all metadatas/winningdocs from this batch in parallel, then process\n    // them all only once all data has been collected. This is done in parallel\n    // because it's faster than doing it one-at-a-time.\n    var numDone = 0;\n    batchValues.forEach(function (value, i) {\n      var doc = decodeDoc(value);\n      var seq = batchKeys[i];\n      fetchWinningDocAndMetadata(doc, seq, function (metadata, winningDoc) {\n        metadatas[i] = metadata;\n        winningDocs[i] = winningDoc;\n        if (++numDone === batchKeys.length) {\n          onBatchDone();\n        }\n      });\n    });\n  }\n\n  function onGetMetadata(doc, seq, metadata, cb) {\n    if (metadata.seq !== seq) {\n      // some other seq is later\n      return cb();\n    }\n\n    if (metadata.winningRev === doc._rev) {\n      // this is the winning doc\n      return cb(metadata, doc);\n    }\n\n    // fetch winning doc in separate request\n    var docIdRev = doc._id + '::' + metadata.winningRev;\n    var req = docIdRevIndex.get(docIdRev);\n    req.onsuccess = function (e) {\n      cb(metadata, decodeDoc(e.target.result));\n    };\n  }\n\n  function fetchWinningDocAndMetadata(doc, seq, cb) {\n    if (docIds && !docIds.has(doc._id)) {\n      return cb();\n    }\n\n    var metadata = docIdsToMetadata.get(doc._id);\n    if (metadata) { // cached\n      return onGetMetadata(doc, seq, metadata, cb);\n    }\n    // metadata not cached, have to go fetch it\n    docStore.get(doc._id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      docIdsToMetadata.set(doc._id, metadata);\n      onGetMetadata(doc, seq, metadata, cb);\n    };\n  }\n\n  function finish() {\n    opts.complete(null, {\n      results: results,\n      last_seq: lastSeq\n    });\n  }\n\n  function onTxnComplete() {\n    if (!opts.continuous && opts.attachments) {\n      // cannot guarantee that postProcessing was already done,\n      // so do it again\n      postProcessAttachments(results).then(finish);\n    } else {\n      finish();\n    }\n  }\n\n  var objectStores = [DOC_STORE, BY_SEQ_STORE];\n  if (opts.attachments) {\n    objectStores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, objectStores, 'readonly');\n  if (txnResult.error) {\n    return opts.complete(txnResult.error);\n  }\n  txn = txnResult.txn;\n  txn.onabort = idbError(opts.complete);\n  txn.oncomplete = onTxnComplete;\n\n  bySeqStore = txn.objectStore(BY_SEQ_STORE);\n  docStore = txn.objectStore(DOC_STORE);\n  docIdRevIndex = bySeqStore.index('_doc_id_rev');\n\n  var keyRange = (opts.since && !opts.descending) ?\n    IDBKeyRange.lowerBound(opts.since, true) : null;\n\n  runBatchedCursor(bySeqStore, keyRange, opts.descending, limit, onBatch);\n}\n\nvar cachedDBs = new ExportedMap();\nvar blobSupportPromise;\nvar openReqList = new ExportedMap();\n\nfunction IdbPouch(opts, callback) {\n  var api = this;\n\n  enqueueTask(function (thisCallback) {\n    init(api, opts, thisCallback);\n  }, callback, api.constructor);\n}\n\nfunction init(api, opts, callback) {\n\n  var dbName = opts.name;\n\n  var idb = null;\n  api._meta = null;\n\n  // called when creating a fresh new database\n  function createSchema(db) {\n    var docStore = db.createObjectStore(DOC_STORE, {keyPath : 'id'});\n    db.createObjectStore(BY_SEQ_STORE, {autoIncrement: true})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n    db.createObjectStore(ATTACH_STORE, {keyPath: 'digest'});\n    db.createObjectStore(META_STORE, {keyPath: 'id', autoIncrement: false});\n    db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n\n    // added in v2\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    // added in v3\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'});\n\n    // added in v4\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 2\n  // unfortunately \"deletedOrLocal\" is a misnomer now that we no longer\n  // store local docs in the main doc-store, but whaddyagonnado\n  function addDeletedOrLocalIndex(txn, callback) {\n    var docStore = txn.objectStore(DOC_STORE);\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    docStore.openCursor().onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var deleted = isDeleted(metadata);\n        metadata.deletedOrLocal = deleted ? \"1\" : \"0\";\n        docStore.put(metadata);\n        cursor.continue();\n      } else {\n        callback();\n      }\n    };\n  }\n\n  // migration to version 3 (part 1)\n  function createLocalStoreSchema(db) {\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n  }\n\n  // migration to version 3 (part 2)\n  function migrateLocalStore(txn, cb) {\n    var localStore = txn.objectStore(LOCAL_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var docId = metadata.id;\n        var local = isLocalId(docId);\n        var rev = winningRev(metadata);\n        if (local) {\n          var docIdRev = docId + \"::\" + rev;\n          // remove all seq entries\n          // associated with this docId\n          var start = docId + \"::\";\n          var end = docId + \"::~\";\n          var index = seqStore.index('_doc_id_rev');\n          var range = IDBKeyRange.bound(start, end, false, false);\n          var seqCursor = index.openCursor(range);\n          seqCursor.onsuccess = function (e) {\n            seqCursor = e.target.result;\n            if (!seqCursor) {\n              // done\n              docStore.delete(cursor.primaryKey);\n              cursor.continue();\n            } else {\n              var data = seqCursor.value;\n              if (data._doc_id_rev === docIdRev) {\n                localStore.put(data);\n              }\n              seqStore.delete(seqCursor.primaryKey);\n              seqCursor.continue();\n            }\n          };\n        } else {\n          cursor.continue();\n        }\n      } else if (cb) {\n        cb();\n      }\n    };\n  }\n\n  // migration to version 4 (part 1)\n  function addAttachAndSeqStore(db) {\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 4 (part 2)\n  function migrateAttsAndSeqs(txn, callback) {\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n    var attStore = txn.objectStore(ATTACH_STORE);\n    var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n\n    // need to actually populate the table. this is the expensive part,\n    // so as an optimization, check first that this database even\n    // contains attachments\n    var req = attStore.count();\n    req.onsuccess = function (e) {\n      var count = e.target.result;\n      if (!count) {\n        return callback(); // done\n      }\n\n      seqStore.openCursor().onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (!cursor) {\n          return callback(); // done\n        }\n        var doc = cursor.value;\n        var seq = cursor.primaryKey;\n        var atts = Object.keys(doc._attachments || {});\n        var digestMap = {};\n        for (var j = 0; j < atts.length; j++) {\n          var att = doc._attachments[atts[j]];\n          digestMap[att.digest] = true; // uniq digests, just in case\n        }\n        var digests = Object.keys(digestMap);\n        for (j = 0; j < digests.length; j++) {\n          var digest = digests[j];\n          attAndSeqStore.put({\n            seq: seq,\n            digestSeq: digest + '::' + seq\n          });\n        }\n        cursor.continue();\n      };\n    };\n  }\n\n  // migration to version 5\n  // Instead of relying on on-the-fly migration of metadata,\n  // this brings the doc-store to its modern form:\n  // - metadata.winningrev\n  // - metadata.seq\n  // - stringify the metadata when storing it\n  function migrateMetadata(txn) {\n\n    function decodeMetadataCompat(storedObject) {\n      if (!storedObject.data) {\n        // old format, when we didn't store it stringified\n        storedObject.deleted = storedObject.deletedOrLocal === '1';\n        return storedObject;\n      }\n      return decodeMetadata(storedObject);\n    }\n\n    // ensure that every metadata has a winningRev and seq,\n    // which was previously created on-the-fly but better to migrate\n    var bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (e) {\n      var cursor = e.target.result;\n      if (!cursor) {\n        return; // done\n      }\n      var metadata = decodeMetadataCompat(cursor.value);\n\n      metadata.winningRev = metadata.winningRev ||\n        winningRev(metadata);\n\n      function fetchMetadataSeq() {\n        // metadata.seq was added post-3.2.0, so if it's missing,\n        // we need to fetch it manually\n        var start = metadata.id + '::';\n        var end = metadata.id + '::\\uffff';\n        var req = bySeqStore.index('_doc_id_rev').openCursor(\n          IDBKeyRange.bound(start, end));\n\n        var metadataSeq = 0;\n        req.onsuccess = function (e) {\n          var cursor = e.target.result;\n          if (!cursor) {\n            metadata.seq = metadataSeq;\n            return onGetMetadataSeq();\n          }\n          var seq = cursor.primaryKey;\n          if (seq > metadataSeq) {\n            metadataSeq = seq;\n          }\n          cursor.continue();\n        };\n      }\n\n      function onGetMetadataSeq() {\n        var metadataToStore = encodeMetadata(metadata,\n          metadata.winningRev, metadata.deleted);\n\n        var req = docStore.put(metadataToStore);\n        req.onsuccess = function () {\n          cursor.continue();\n        };\n      }\n\n      if (metadata.seq) {\n        return onGetMetadataSeq();\n      }\n\n      fetchMetadataSeq();\n    };\n\n  }\n\n  api._remote = false;\n  api.type = function () {\n    return 'idb';\n  };\n\n  api._id = toPromise(function (callback) {\n    callback(null, api._meta.instanceId);\n  });\n\n  api._bulkDocs = function idb_bulkDocs(req, reqOpts, callback) {\n    idbBulkDocs(opts, req, reqOpts, api, idb, callback);\n  };\n\n  // First we look up the metadata in the ids database, then we fetch the\n  // current revision(s) from the by sequence store\n  api._get = function idb_get(id, opts, callback) {\n    var doc;\n    var metadata;\n    var err;\n    var txn = opts.ctx;\n    if (!txn) {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n\n    function finish() {\n      callback(err, {doc: doc, metadata: metadata, ctx: txn});\n    }\n\n    txn.objectStore(DOC_STORE).get(id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      // we can determine the result here if:\n      // 1. there is no such document\n      // 2. the document is deleted and we don't ask about specific rev\n      // When we ask with opts.rev we expect the answer to be either\n      // doc (possibly with _deleted=true) or missing error\n      if (!metadata) {\n        err = createError(MISSING_DOC, 'missing');\n        return finish();\n      }\n\n      var rev;\n      if (!opts.rev) {\n        rev = metadata.winningRev;\n        var deleted = isDeleted(metadata);\n        if (deleted) {\n          err = createError(MISSING_DOC, \"deleted\");\n          return finish();\n        }\n      } else {\n        rev = opts.latest ? latest(opts.rev, metadata) : opts.rev;\n      }\n\n      var objectStore = txn.objectStore(BY_SEQ_STORE);\n      var key = metadata.id + '::' + rev;\n\n      objectStore.index('_doc_id_rev').get(key).onsuccess = function (e) {\n        doc = e.target.result;\n        if (doc) {\n          doc = decodeDoc(doc);\n        }\n        if (!doc) {\n          err = createError(MISSING_DOC, 'missing');\n          return finish();\n        }\n        finish();\n      };\n    };\n  };\n\n  api._getAttachment = function (docId, attachId, attachment, opts, callback) {\n    var txn;\n    if (opts.ctx) {\n      txn = opts.ctx;\n    } else {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n    var digest = attachment.digest;\n    var type = attachment.content_type;\n\n    txn.objectStore(ATTACH_STORE).get(digest).onsuccess = function (e) {\n      var body = e.target.result.body;\n      readBlobData(body, type, opts.binary, function (blobData) {\n        callback(null, blobData);\n      });\n    };\n  };\n\n  api._info = function idb_info(callback) {\n    var updateSeq;\n    var docCount;\n\n    var txnResult = openTransactionSafely(idb, [META_STORE, BY_SEQ_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      docCount = e.target.result.docCount;\n    };\n    txn.objectStore(BY_SEQ_STORE).openCursor(null, 'prev').onsuccess = function (e) {\n      var cursor = e.target.result;\n      updateSeq = cursor ? cursor.key : 0;\n    };\n\n    txn.oncomplete = function () {\n      callback(null, {\n        doc_count: docCount,\n        update_seq: updateSeq,\n        // for debugging\n        idb_attachment_format: (api._meta.blobSupport ? 'binary' : 'base64')\n      });\n    };\n  };\n\n  api._allDocs = function idb_allDocs(opts, callback) {\n    idbAllDocs(opts, idb, callback);\n  };\n\n  api._changes = function idbChanges(opts) {\n    return changes(opts, api, dbName, idb);\n  };\n\n  api._close = function (callback) {\n    // https://developer.mozilla.org/en-US/docs/IndexedDB/IDBDatabase#close\n    // \"Returns immediately and closes the connection in a separate thread...\"\n    idb.close();\n    cachedDBs.delete(dbName);\n    callback();\n  };\n\n  api._getRevisionTree = function (docId, callback) {\n    var txnResult = openTransactionSafely(idb, [DOC_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    var req = txn.objectStore(DOC_STORE).get(docId);\n    req.onsuccess = function (event) {\n      var doc = decodeMetadata(event.target.result);\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, doc.rev_tree);\n      }\n    };\n  };\n\n  // This function removes revisions of document docId\n  // which are listed in revs and sets this document\n  // revision to to rev_tree\n  api._doCompaction = function (docId, revs, callback) {\n    var stores = [\n      DOC_STORE,\n      BY_SEQ_STORE,\n      ATTACH_STORE,\n      ATTACH_AND_SEQ_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n\n    var docStore = txn.objectStore(DOC_STORE);\n\n    docStore.get(docId).onsuccess = function (event) {\n      var metadata = decodeMetadata(event.target.result);\n      traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                                         revHash, ctx, opts) {\n        var rev = pos + '-' + revHash;\n        if (revs.indexOf(rev) !== -1) {\n          opts.status = 'missing';\n        }\n      });\n      compactRevs(revs, docId, txn);\n      var winningRev$$1 = metadata.winningRev;\n      var deleted = metadata.deleted;\n      txn.objectStore(DOC_STORE).put(\n        encodeMetadata(metadata, winningRev$$1, deleted));\n    };\n    txn.onabort = idbError(callback);\n    txn.oncomplete = function () {\n      callback();\n    };\n  };\n\n\n  api._getLocal = function (id, callback) {\n    var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var tx = txnResult.txn;\n    var req = tx.objectStore(LOCAL_STORE).get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var doc = e.target.result;\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        delete doc['_doc_id_rev']; // for backwards compat\n        callback(null, doc);\n      }\n    };\n  };\n\n  api._putLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    delete doc._revisions; // ignore this, trust the rev\n    var oldRev = doc._rev;\n    var id = doc._id;\n    if (!oldRev) {\n      doc._rev = '0-1';\n    } else {\n      doc._rev = '0-' + (parseInt(oldRev.split('-')[1], 10) + 1);\n    }\n\n    var tx = opts.ctx;\n    var ret;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.onerror = idbError(callback);\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req;\n    if (oldRev) {\n      req = oStore.get(id);\n      req.onsuccess = function (e) {\n        var oldDoc = e.target.result;\n        if (!oldDoc || oldDoc._rev !== oldRev) {\n          callback(createError(REV_CONFLICT));\n        } else { // update\n          var req = oStore.put(doc);\n          req.onsuccess = function () {\n            ret = {ok: true, id: doc._id, rev: doc._rev};\n            if (opts.ctx) { // return immediately\n              callback(null, ret);\n            }\n          };\n        }\n      };\n    } else { // new doc\n      req = oStore.add(doc);\n      req.onerror = function (e) {\n        // constraint error, already exists\n        callback(createError(REV_CONFLICT));\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n      };\n      req.onsuccess = function () {\n        ret = {ok: true, id: doc._id, rev: doc._rev};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      };\n    }\n  };\n\n  api._removeLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var tx = opts.ctx;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n    var ret;\n    var id = doc._id;\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req = oStore.get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var oldDoc = e.target.result;\n      if (!oldDoc || oldDoc._rev !== doc._rev) {\n        callback(createError(MISSING_DOC));\n      } else {\n        oStore.delete(id);\n        ret = {ok: true, id: id, rev: '0-0'};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      }\n    };\n  };\n\n  api._destroy = function (opts, callback) {\n    changesHandler.removeAllListeners(dbName);\n\n    //Close open request for \"dbName\" database to fix ie delay.\n    var openReq = openReqList.get(dbName);\n    if (openReq && openReq.result) {\n      openReq.result.close();\n      cachedDBs.delete(dbName);\n    }\n    var req = indexedDB.deleteDatabase(dbName);\n\n    req.onsuccess = function () {\n      //Remove open request from the list.\n      openReqList.delete(dbName);\n      if (hasLocalStorage() && (dbName in localStorage)) {\n        delete localStorage[dbName];\n      }\n      callback(null, { 'ok': true });\n    };\n\n    req.onerror = idbError(callback);\n  };\n\n  var cached = cachedDBs.get(dbName);\n\n  if (cached) {\n    idb = cached.idb;\n    api._meta = cached.global;\n    return nextTick(function () {\n      callback(null, api);\n    });\n  }\n\n  var req = indexedDB.open(dbName, ADAPTER_VERSION);\n  openReqList.set(dbName, req);\n\n  req.onupgradeneeded = function (e) {\n    var db = e.target.result;\n    if (e.oldVersion < 1) {\n      return createSchema(db); // new db, initial schema\n    }\n    // do migrations\n\n    var txn = e.currentTarget.transaction;\n    // these migrations have to be done in this function, before\n    // control is returned to the event loop, because IndexedDB\n\n    if (e.oldVersion < 3) {\n      createLocalStoreSchema(db); // v2 -> v3\n    }\n    if (e.oldVersion < 4) {\n      addAttachAndSeqStore(db); // v3 -> v4\n    }\n\n    var migrations = [\n      addDeletedOrLocalIndex, // v1 -> v2\n      migrateLocalStore,      // v2 -> v3\n      migrateAttsAndSeqs,     // v3 -> v4\n      migrateMetadata         // v4 -> v5\n    ];\n\n    var i = e.oldVersion;\n\n    function next() {\n      var migration = migrations[i - 1];\n      i++;\n      if (migration) {\n        migration(txn, next);\n      }\n    }\n\n    next();\n  };\n\n  req.onsuccess = function (e) {\n\n    idb = e.target.result;\n\n    idb.onversionchange = function () {\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    idb.onabort = function (e) {\n      guardedConsole('error', 'Database has a global failure', e.target.error);\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    // Do a few setup operations (in parallel as much as possible):\n    // 1. Fetch meta doc\n    // 2. Check blob support\n    // 3. Calculate docCount\n    // 4. Generate an instanceId if necessary\n    // 5. Store docCount and instanceId on meta doc\n\n    var txn = idb.transaction([\n      META_STORE,\n      DETECT_BLOB_SUPPORT_STORE,\n      DOC_STORE\n    ], 'readwrite');\n\n    var storedMetaDoc = false;\n    var metaDoc;\n    var docCount;\n    var blobSupport;\n    var instanceId;\n\n    function completeSetup() {\n      if (typeof blobSupport === 'undefined' || !storedMetaDoc) {\n        return;\n      }\n      api._meta = {\n        name: dbName,\n        instanceId: instanceId,\n        blobSupport: blobSupport\n      };\n\n      cachedDBs.set(dbName, {\n        idb: idb,\n        global: api._meta\n      });\n      callback(null, api);\n    }\n\n    function storeMetaDocIfReady() {\n      if (typeof docCount === 'undefined' || typeof metaDoc === 'undefined') {\n        return;\n      }\n      var instanceKey = dbName + '_id';\n      if (instanceKey in metaDoc) {\n        instanceId = metaDoc[instanceKey];\n      } else {\n        metaDoc[instanceKey] = instanceId = uuid();\n      }\n      metaDoc.docCount = docCount;\n      txn.objectStore(META_STORE).put(metaDoc);\n    }\n\n    //\n    // fetch or generate the instanceId\n    //\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result || { id: META_STORE };\n      storeMetaDocIfReady();\n    };\n\n    //\n    // countDocs\n    //\n    countDocs(txn, function (count) {\n      docCount = count;\n      storeMetaDocIfReady();\n    });\n\n    //\n    // check blob support\n    //\n    if (!blobSupportPromise) {\n      // make sure blob support is only checked once\n      blobSupportPromise = checkBlobSupport(txn);\n    }\n\n    blobSupportPromise.then(function (val) {\n      blobSupport = val;\n      completeSetup();\n    });\n\n    // only when the metadata put transaction has completed,\n    // consider the setup done\n    txn.oncomplete = function () {\n      storedMetaDoc = true;\n      completeSetup();\n    };\n    txn.onabort = idbError(callback);\n  };\n\n  req.onerror = function () {\n    var msg = 'Failed to open indexedDB, are you in private browsing mode?';\n    guardedConsole('error', msg);\n    callback(createError(IDB_ERROR, msg));\n  };\n}\n\nIdbPouch.valid = function () {\n  // Following #7085 buggy idb versions (typically Safari < 10.1) are\n  // considered valid.\n\n  // On Firefox SecurityError is thrown while referencing indexedDB if cookies\n  // are not allowed. `typeof indexedDB` also triggers the error.\n  try {\n    // some outdated implementations of IDB that appear on Samsung\n    // and HTC Android devices <4.4 are missing IDBKeyRange\n    return typeof indexedDB !== 'undefined' && typeof IDBKeyRange !== 'undefined';\n  } catch (e) {\n    return false;\n  }\n};\n\nfunction IDBPouch (PouchDB) {\n  PouchDB.adapter('idb', IdbPouch, true);\n}\n\n// dead simple promise pool, inspired by https://github.com/timdp/es6-promise-pool\n// but much smaller in code size. limits the number of concurrent promises that are executed\n\n\nfunction pool(promiseFactories, limit) {\n  return new Promise(function (resolve, reject) {\n    var running = 0;\n    var current = 0;\n    var done = 0;\n    var len = promiseFactories.length;\n    var err;\n\n    function runNext() {\n      running++;\n      promiseFactories[current++]().then(onSuccess, onError);\n    }\n\n    function doNext() {\n      if (++done === len) {\n        /* istanbul ignore if */\n        if (err) {\n          reject(err);\n        } else {\n          resolve();\n        }\n      } else {\n        runNextBatch();\n      }\n    }\n\n    function onSuccess() {\n      running--;\n      doNext();\n    }\n\n    /* istanbul ignore next */\n    function onError(thisErr) {\n      running--;\n      err = err || thisErr;\n      doNext();\n    }\n\n    function runNextBatch() {\n      while (running < limit && current < len) {\n        runNext();\n      }\n    }\n\n    runNextBatch();\n  });\n}\n\nvar CHANGES_BATCH_SIZE = 25;\nvar MAX_SIMULTANEOUS_REVS = 50;\nvar CHANGES_TIMEOUT_BUFFER = 5000;\nvar DEFAULT_HEARTBEAT = 10000;\n\nvar supportsBulkGetMap = {};\n\nfunction readAttachmentsAsBlobOrBuffer(row) {\n  var doc = row.doc || row.ok;\n  var atts = doc._attachments;\n  if (!atts) {\n    return;\n  }\n  Object.keys(atts).forEach(function (filename) {\n    var att = atts[filename];\n    att.data = b64ToBluffer(att.data, att.content_type);\n  });\n}\n\nfunction encodeDocId(id) {\n  if (/^_design/.test(id)) {\n    return '_design/' + encodeURIComponent(id.slice(8));\n  }\n  if (/^_local/.test(id)) {\n    return '_local/' + encodeURIComponent(id.slice(7));\n  }\n  return encodeURIComponent(id);\n}\n\nfunction preprocessAttachments$1(doc) {\n  if (!doc._attachments || !Object.keys(doc._attachments)) {\n    return Promise.resolve();\n  }\n\n  return Promise.all(Object.keys(doc._attachments).map(function (key) {\n    var attachment = doc._attachments[key];\n    if (attachment.data && typeof attachment.data !== 'string') {\n      return new Promise(function (resolve) {\n        blobToBase64(attachment.data, resolve);\n      }).then(function (b64) {\n        attachment.data = b64;\n      });\n    }\n  }));\n}\n\nfunction hasUrlPrefix(opts) {\n  if (!opts.prefix) {\n    return false;\n  }\n  var protocol = parseUri(opts.prefix).protocol;\n  return protocol === 'http' || protocol === 'https';\n}\n\n// Get all the information you possibly can about the URI given by name and\n// return it as a suitable object.\nfunction getHost(name, opts) {\n  // encode db name if opts.prefix is a url (#5574)\n  if (hasUrlPrefix(opts)) {\n    var dbName = opts.name.substr(opts.prefix.length);\n    // Ensure prefix has a trailing slash\n    var prefix = opts.prefix.replace(/\\/?$/, '/');\n    name = prefix + encodeURIComponent(dbName);\n  }\n\n  var uri = parseUri(name);\n  if (uri.user || uri.password) {\n    uri.auth = {username: uri.user, password: uri.password};\n  }\n\n  // Split the path part of the URI into parts using '/' as the delimiter\n  // after removing any leading '/' and any trailing '/'\n  var parts = uri.path.replace(/(^\\/|\\/$)/g, '').split('/');\n\n  uri.db = parts.pop();\n  // Prevent double encoding of URI component\n  if (uri.db.indexOf('%') === -1) {\n    uri.db = encodeURIComponent(uri.db);\n  }\n\n  uri.path = parts.join('/');\n\n  return uri;\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genDBUrl(opts, path) {\n  return genUrl(opts, opts.db + '/' + path);\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genUrl(opts, path) {\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  var pathDel = !opts.path ? '' : '/';\n\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  return opts.protocol + '://' + opts.host +\n         (opts.port ? (':' + opts.port) : '') +\n         '/' + opts.path + pathDel + path;\n}\n\nfunction paramsToStr(params) {\n  return '?' + Object.keys(params).map(function (k) {\n    return k + '=' + encodeURIComponent(params[k]);\n  }).join('&');\n}\n\nfunction shouldCacheBust(opts) {\n  var ua = (typeof navigator !== 'undefined' && navigator.userAgent) ?\n      navigator.userAgent.toLowerCase() : '';\n  var isIE = ua.indexOf('msie') !== -1;\n  var isTrident = ua.indexOf('trident') !== -1;\n  var isEdge = ua.indexOf('edge') !== -1;\n  var isGET = !('method' in opts) || opts.method === 'GET';\n  return (isIE || isTrident || isEdge) && isGET;\n}\n\n// Implements the PouchDB API for dealing with CouchDB instances over HTTP\nfunction HttpPouch(opts, callback) {\n\n  // The functions that will be publicly available for HttpPouch\n  var api = this;\n\n  var host = getHost(opts.name, opts);\n  var dbUrl = genDBUrl(host, '');\n\n  opts = clone(opts);\n\n  var ourFetch = function (url, options) {\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    if (opts.auth || host.auth) {\n      var nAuth = opts.auth || host.auth;\n      var str = nAuth.username + ':' + nAuth.password;\n      var token = thisBtoa(unescape(encodeURIComponent(str)));\n      options.headers.set('Authorization', 'Basic ' + token);\n    }\n\n    var headers = opts.headers || {};\n    Object.keys(headers).forEach(function (key) {\n      options.headers.append(key, headers[key]);\n    });\n\n    /* istanbul ignore if */\n    if (shouldCacheBust(options)) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + '_nonce=' + Date.now();\n    }\n\n    var fetchFun = opts.fetch || f$1;\n    return fetchFun(url, options);\n  };\n\n  function adapterFun$$1(name, fun) {\n    return adapterFun(name, getArguments(function (args) {\n      setup().then(function () {\n        return fun.apply(this, args);\n      }).catch(function (e) {\n        var callback = args.pop();\n        callback(e);\n      });\n    })).bind(api);\n  }\n\n  function fetchJSON(url, options, callback) {\n\n    var result = {};\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    if (!options.headers.get('Content-Type')) {\n      options.headers.set('Content-Type', 'application/json');\n    }\n    if (!options.headers.get('Accept')) {\n      options.headers.set('Accept', 'application/json');\n    }\n\n    return ourFetch(url, options).then(function (response) {\n      result.ok = response.ok;\n      result.status = response.status;\n      return response.json();\n    }).then(function (json) {\n      result.data = json;\n      if (!result.ok) {\n        result.data.status = result.status;\n        var err = generateErrorFromResponse(result.data);\n        if (callback) {\n          return callback(err);\n        } else {\n          throw err;\n        }\n      }\n\n      if (Array.isArray(result.data)) {\n        result.data = result.data.map(function (v) {\n          if (v.error || v.missing) {\n            return generateErrorFromResponse(v);\n          } else {\n            return v;\n          }\n        });\n      }\n\n      if (callback) {\n        callback(null, result.data);\n      } else {\n        return result;\n      }\n    });\n  }\n\n  var setupPromise;\n\n  function setup() {\n    if (opts.skip_setup) {\n      return Promise.resolve();\n    }\n\n    // If there is a setup in process or previous successful setup\n    // done then we will use that\n    // If previous setups have been rejected we will try again\n    if (setupPromise) {\n      return setupPromise;\n    }\n\n    setupPromise = fetchJSON(dbUrl).catch(function (err) {\n      if (err && err.status && err.status === 404) {\n        // Doesnt exist, create it\n        explainError(404, 'PouchDB is just detecting if the remote exists.');\n        return fetchJSON(dbUrl, {method: 'PUT'});\n      } else {\n        return Promise.reject(err);\n      }\n    }).catch(function (err) {\n      // If we try to create a database that already exists, skipped in\n      // istanbul since its catching a race condition.\n      /* istanbul ignore if */\n      if (err && err.status && err.status === 412) {\n        return true;\n      }\n      return Promise.reject(err);\n    });\n\n    setupPromise.catch(function () {\n      setupPromise = null;\n    });\n\n    return setupPromise;\n  }\n\n  nextTick(function () {\n    callback(null, api);\n  });\n\n  api._remote = true;\n\n  /* istanbul ignore next */\n  api.type = function () {\n    return 'http';\n  };\n\n  api.id = adapterFun$$1('id', function (callback) {\n    ourFetch(genUrl(host, '')).then(function (response) {\n      return response.json();\n    }).then(function (result) {\n      var uuid$$1 = (result && result.uuid) ?\n          (result.uuid + host.db) : genDBUrl(host, '');\n      callback(null, uuid$$1);\n    }).catch(function (err) {\n      callback(err);\n    });\n  });\n\n  // Sends a POST request to the host calling the couchdb _compact function\n  //    version: The version of CouchDB it is running\n  api.compact = adapterFun$$1('compact', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    fetchJSON(genDBUrl(host, '_compact'), {method: 'POST'}).then(function () {\n      function ping() {\n        api.info(function (err, res) {\n          // CouchDB may send a \"compact_running:true\" if it's\n          // already compacting. PouchDB Server doesn't.\n          /* istanbul ignore else */\n          if (res && !res.compact_running) {\n            callback(null, {ok: true});\n          } else {\n            setTimeout(ping, opts.interval || 200);\n          }\n        });\n      }\n      // Ping the http if it's finished compaction\n      ping();\n    });\n  });\n\n  api.bulkGet = adapterFun('bulkGet', function (opts, callback) {\n    var self = this;\n\n    function doBulkGet(cb) {\n      var params = {};\n      if (opts.revs) {\n        params.revs = true;\n      }\n      if (opts.attachments) {\n        /* istanbul ignore next */\n        params.attachments = true;\n      }\n      if (opts.latest) {\n        params.latest = true;\n      }\n      fetchJSON(genDBUrl(host, '_bulk_get' + paramsToStr(params)), {\n        method: 'POST',\n        body: JSON.stringify({ docs: opts.docs})\n      }).then(function (result) {\n        if (opts.attachments && opts.binary) {\n          result.data.results.forEach(function (res) {\n            res.docs.forEach(readAttachmentsAsBlobOrBuffer);\n          });\n        }\n        cb(null, result.data);\n      }).catch(cb);\n    }\n\n    /* istanbul ignore next */\n    function doBulkGetShim() {\n      // avoid \"url too long error\" by splitting up into multiple requests\n      var batchSize = MAX_SIMULTANEOUS_REVS;\n      var numBatches = Math.ceil(opts.docs.length / batchSize);\n      var numDone = 0;\n      var results = new Array(numBatches);\n\n      function onResult(batchNum) {\n        return function (err, res) {\n          // err is impossible because shim returns a list of errs in that case\n          results[batchNum] = res.results;\n          if (++numDone === numBatches) {\n            callback(null, {results: flatten(results)});\n          }\n        };\n      }\n\n      for (var i = 0; i < numBatches; i++) {\n        var subOpts = pick(opts, ['revs', 'attachments', 'binary', 'latest']);\n        subOpts.docs = opts.docs.slice(i * batchSize,\n          Math.min(opts.docs.length, (i + 1) * batchSize));\n        bulkGet(self, subOpts, onResult(i));\n      }\n    }\n\n    // mark the whole database as either supporting or not supporting _bulk_get\n    var dbUrl = genUrl(host, '');\n    var supportsBulkGet = supportsBulkGetMap[dbUrl];\n\n    /* istanbul ignore next */\n    if (typeof supportsBulkGet !== 'boolean') {\n      // check if this database supports _bulk_get\n      doBulkGet(function (err, res) {\n        if (err) {\n          supportsBulkGetMap[dbUrl] = false;\n          explainError(\n            err.status,\n            'PouchDB is just detecting if the remote ' +\n            'supports the _bulk_get API.'\n          );\n          doBulkGetShim();\n        } else {\n          supportsBulkGetMap[dbUrl] = true;\n          callback(null, res);\n        }\n      });\n    } else if (supportsBulkGet) {\n      doBulkGet(callback);\n    } else {\n      doBulkGetShim();\n    }\n  });\n\n  // Calls GET on the host, which gets back a JSON string containing\n  //    couchdb: A welcome string\n  //    version: The version of CouchDB it is running\n  api._info = function (callback) {\n    setup().then(function () {\n      return ourFetch(genDBUrl(host, ''));\n    }).then(function (response) {\n      return response.json();\n    }).then(function (info) {\n      info.host = genDBUrl(host, '');\n      callback(null, info);\n    }).catch(callback);\n  };\n\n  api.fetch = function (path, options) {\n    return setup().then(function () {\n      return ourFetch(genDBUrl(host, path), options);\n    });\n  };\n\n  // Get the document with the given id from the database given by host.\n  // The id could be solely the _id in the database, or it may be a\n  // _design/ID or _local/ID path\n  api.get = adapterFun$$1('get', function (id, opts, callback) {\n    // If no options were given, set the callback to the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n\n    if (opts.revs) {\n      params.revs = true;\n    }\n\n    if (opts.revs_info) {\n      params.revs_info = true;\n    }\n\n    if (opts.latest) {\n      params.latest = true;\n    }\n\n    if (opts.open_revs) {\n      if (opts.open_revs !== \"all\") {\n        opts.open_revs = JSON.stringify(opts.open_revs);\n      }\n      params.open_revs = opts.open_revs;\n    }\n\n    if (opts.rev) {\n      params.rev = opts.rev;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = opts.conflicts;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = opts.update_seq;\n    }\n\n    id = encodeDocId(id);\n\n    function fetchAttachments(doc) {\n      var atts = doc._attachments;\n      var filenames = atts && Object.keys(atts);\n      if (!atts || !filenames.length) {\n        return;\n      }\n      // we fetch these manually in separate XHRs, because\n      // Sync Gateway would normally send it back as multipart/mixed,\n      // which we cannot parse. Also, this is more efficient than\n      // receiving attachments as base64-encoded strings.\n      function fetchData(filename) {\n        var att = atts[filename];\n        var path = encodeDocId(doc._id) + '/' + encodeAttachmentId(filename) +\n            '?rev=' + doc._rev;\n        return ourFetch(genDBUrl(host, path)).then(function (response) {\n          if (typeof process !== 'undefined' && !process.browser) {\n            return response.buffer();\n          } else {\n            /* istanbul ignore next */\n            return response.blob();\n          }\n        }).then(function (blob) {\n          if (opts.binary) {\n            // TODO: Can we remove this?\n            if (typeof process !== 'undefined' && !process.browser) {\n              blob.type = att.content_type;\n            }\n            return blob;\n          }\n          return new Promise(function (resolve) {\n            blobToBase64(blob, resolve);\n          });\n        }).then(function (data) {\n          delete att.stub;\n          delete att.length;\n          att.data = data;\n        });\n      }\n\n      var promiseFactories = filenames.map(function (filename) {\n        return function () {\n          return fetchData(filename);\n        };\n      });\n\n      // This limits the number of parallel xhr requests to 5 any time\n      // to avoid issues with maximum browser request limits\n      return pool(promiseFactories, 5);\n    }\n\n    function fetchAllAttachments(docOrDocs) {\n      if (Array.isArray(docOrDocs)) {\n        return Promise.all(docOrDocs.map(function (doc) {\n          if (doc.ok) {\n            return fetchAttachments(doc.ok);\n          }\n        }));\n      }\n      return fetchAttachments(docOrDocs);\n    }\n\n    var url = genDBUrl(host, id + paramsToStr(params));\n    fetchJSON(url).then(function (res) {\n      return Promise.resolve().then(function () {\n        if (opts.attachments) {\n          return fetchAllAttachments(res.data);\n        }\n      }).then(function () {\n        callback(null, res.data);\n      });\n    }).catch(function (e) {\n      e.docId = id;\n      callback(e);\n    });\n  });\n\n\n  // Delete the document given by doc from the database given by host.\n  api.remove = adapterFun$$1('remove', function (docOrId, optsOrRev, opts, cb) {\n    var doc;\n    if (typeof optsOrRev === 'string') {\n      // id, rev, opts, callback style\n      doc = {\n        _id: docOrId,\n        _rev: optsOrRev\n      };\n      if (typeof opts === 'function') {\n        cb = opts;\n        opts = {};\n      }\n    } else {\n      // doc, opts, callback style\n      doc = docOrId;\n      if (typeof optsOrRev === 'function') {\n        cb = optsOrRev;\n        opts = {};\n      } else {\n        cb = opts;\n        opts = optsOrRev;\n      }\n    }\n\n    var rev = (doc._rev || opts.rev);\n    var url = genDBUrl(host, encodeDocId(doc._id)) + '?rev=' + rev;\n\n    fetchJSON(url, {method: 'DELETE'}, cb).catch(cb);\n  });\n\n  function encodeAttachmentId(attachmentId) {\n    return attachmentId.split(\"/\").map(encodeURIComponent).join(\"/\");\n  }\n\n  // Get the attachment\n  api.getAttachment = adapterFun$$1('getAttachment', function (docId, attachmentId,\n                                                            opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var params = opts.rev ? ('?rev=' + opts.rev) : '';\n    var url = genDBUrl(host, encodeDocId(docId)) + '/' +\n        encodeAttachmentId(attachmentId) + params;\n    var contentType;\n    ourFetch(url, {method: 'GET'}).then(function (response) {\n      contentType = response.headers.get('content-type');\n      if (!response.ok) {\n        throw response;\n      } else {\n        if (typeof process !== 'undefined' && !process.browser) {\n          return response.buffer();\n        } else {\n          /* istanbul ignore next */\n          return response.blob();\n        }\n      }\n    }).then(function (blob) {\n      // TODO: also remove\n      if (typeof process !== 'undefined' && !process.browser) {\n        blob.type = contentType;\n      }\n      callback(null, blob);\n    }).catch(function (err) {\n      callback(err);\n    });\n  });\n\n  // Remove the attachment given by the id and rev\n  api.removeAttachment =  adapterFun$$1('removeAttachment', function (docId,\n                                                                   attachmentId,\n                                                                   rev,\n                                                                   callback) {\n    var url = genDBUrl(host, encodeDocId(docId) + '/' +\n                       encodeAttachmentId(attachmentId)) + '?rev=' + rev;\n    fetchJSON(url, {method: 'DELETE'}, callback).catch(callback);\n  });\n\n  // Add the attachment given by blob and its contentType property\n  // to the document with the given id, the revision given by rev, and\n  // add it to the database given by host.\n  api.putAttachment = adapterFun$$1('putAttachment', function (docId, attachmentId,\n                                                            rev, blob,\n                                                            type, callback) {\n    if (typeof type === 'function') {\n      callback = type;\n      type = blob;\n      blob = rev;\n      rev = null;\n    }\n    var id = encodeDocId(docId) + '/' + encodeAttachmentId(attachmentId);\n    var url = genDBUrl(host, id);\n    if (rev) {\n      url += '?rev=' + rev;\n    }\n\n    if (typeof blob === 'string') {\n      // input is assumed to be a base64 string\n      var binary;\n      try {\n        binary = thisAtob(blob);\n      } catch (err) {\n        return callback(createError(BAD_ARG,\n                        'Attachment is not a valid base64 string'));\n      }\n      blob = binary ? binStringToBluffer(binary, type) : '';\n    }\n\n    // Add the attachment\n    fetchJSON(url, {\n      headers: new h({'Content-Type': type}),\n      method: 'PUT',\n      body: blob\n    }, callback).catch(callback);\n  });\n\n  // Update/create multiple documents given by req in the database\n  // given by host.\n  api._bulkDocs = function (req, opts, callback) {\n    // If new_edits=false then it prevents the database from creating\n    // new revision numbers for the documents. Instead it just uses\n    // the old ones. This is used in database replication.\n    req.new_edits = opts.new_edits;\n\n    setup().then(function () {\n      return Promise.all(req.docs.map(preprocessAttachments$1));\n    }).then(function () {\n      // Update/create the documents\n      return fetchJSON(genDBUrl(host, '_bulk_docs'), {\n        method: 'POST',\n        body: JSON.stringify(req)\n      }, callback);\n    }).catch(callback);\n  };\n\n\n  // Update/create document\n  api._put = function (doc, opts, callback) {\n    setup().then(function () {\n      return preprocessAttachments$1(doc);\n    }).then(function () {\n      return fetchJSON(genDBUrl(host, encodeDocId(doc._id)), {\n        method: 'PUT',\n        body: JSON.stringify(doc)\n      });\n    }).then(function (result) {\n      callback(null, result.data);\n    }).catch(function (err) {\n      err.docId = doc && doc._id;\n      callback(err);\n    });\n  };\n\n\n  // Get a listing of the documents in the database given\n  // by host and ordered by increasing id.\n  api.allDocs = adapterFun$$1('allDocs', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n    var body;\n    var method = 'GET';\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    if (opts.include_docs) {\n      params.include_docs = true;\n    }\n\n    // added in CouchDB 1.6.0\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.key) {\n      params.key = JSON.stringify(opts.key);\n    }\n\n    if (opts.start_key) {\n      opts.startkey = opts.start_key;\n    }\n\n    if (opts.startkey) {\n      params.startkey = JSON.stringify(opts.startkey);\n    }\n\n    if (opts.end_key) {\n      opts.endkey = opts.end_key;\n    }\n\n    if (opts.endkey) {\n      params.endkey = JSON.stringify(opts.endkey);\n    }\n\n    if (typeof opts.inclusive_end !== 'undefined') {\n      params.inclusive_end = !!opts.inclusive_end;\n    }\n\n    if (typeof opts.limit !== 'undefined') {\n      params.limit = opts.limit;\n    }\n\n    if (typeof opts.skip !== 'undefined') {\n      params.skip = opts.skip;\n    }\n\n    var paramStr = paramsToStr(params);\n\n    if (typeof opts.keys !== 'undefined') {\n      method = 'POST';\n      body = {keys: opts.keys};\n    }\n\n    fetchJSON(genDBUrl(host, '_all_docs' + paramStr), {\n       method: method,\n      body: JSON.stringify(body)\n    }).then(function (result) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        result.data.rows.forEach(readAttachmentsAsBlobOrBuffer);\n      }\n      callback(null, result.data);\n    }).catch(callback);\n  });\n\n  // Get a list of changes made to documents in the database given by host.\n  // TODO According to the README, there should be two other methods here,\n  // api.changes.addListener and api.changes.removeListener.\n  api._changes = function (opts) {\n\n    // We internally page the results of a changes request, this means\n    // if there is a large set of changes to be returned we can start\n    // processing them quicker instead of waiting on the entire\n    // set of changes to return and attempting to process them at once\n    var batchSize = 'batch_size' in opts ? opts.batch_size : CHANGES_BATCH_SIZE;\n\n    opts = clone(opts);\n\n    if (opts.continuous && !('heartbeat' in opts)) {\n      opts.heartbeat = DEFAULT_HEARTBEAT;\n    }\n\n    var requestTimeout = ('timeout' in opts) ? opts.timeout : 30 * 1000;\n\n    // ensure CHANGES_TIMEOUT_BUFFER applies\n    if ('timeout' in opts && opts.timeout &&\n      (requestTimeout - opts.timeout) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.timeout + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    /* istanbul ignore if */\n    if ('heartbeat' in opts && opts.heartbeat &&\n       (requestTimeout - opts.heartbeat) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.heartbeat + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    var params = {};\n    if ('timeout' in opts && opts.timeout) {\n      params.timeout = opts.timeout;\n    }\n\n    var limit = (typeof opts.limit !== 'undefined') ? opts.limit : false;\n    var leftToFetch = limit;\n\n    if (opts.style) {\n      params.style = opts.style;\n    }\n\n    if (opts.include_docs || opts.filter && typeof opts.filter === 'function') {\n      params.include_docs = true;\n    }\n\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.continuous) {\n      params.feed = 'longpoll';\n    }\n\n    if (opts.seq_interval) {\n      params.seq_interval = opts.seq_interval;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n    \n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if ('heartbeat' in opts) {\n      // If the heartbeat value is false, it disables the default heartbeat\n      if (opts.heartbeat) {\n        params.heartbeat = opts.heartbeat;\n      }\n    }\n\n    if (opts.filter && typeof opts.filter === 'string') {\n      params.filter = opts.filter;\n    }\n\n    if (opts.view && typeof opts.view === 'string') {\n      params.filter = '_view';\n      params.view = opts.view;\n    }\n\n    // If opts.query_params exists, pass it through to the changes request.\n    // These parameters may be used by the filter on the source database.\n    if (opts.query_params && typeof opts.query_params === 'object') {\n      for (var param_name in opts.query_params) {\n        /* istanbul ignore else */\n        if (opts.query_params.hasOwnProperty(param_name)) {\n          params[param_name] = opts.query_params[param_name];\n        }\n      }\n    }\n\n    var method = 'GET';\n    var body;\n\n    if (opts.doc_ids) {\n      // set this automagically for the user; it's annoying that couchdb\n      // requires both a \"filter\" and a \"doc_ids\" param.\n      params.filter = '_doc_ids';\n      method = 'POST';\n      body = {doc_ids: opts.doc_ids };\n    }\n    /* istanbul ignore next */\n    else if (opts.selector) {\n      // set this automagically for the user, similar to above\n      params.filter = '_selector';\n      method = 'POST';\n      body = {selector: opts.selector };\n    }\n\n    var controller = new a();\n    var lastFetchedSeq;\n\n    // Get all the changes starting wtih the one immediately after the\n    // sequence number given by since.\n    var fetchData = function (since, callback) {\n      if (opts.aborted) {\n        return;\n      }\n      params.since = since;\n      // \"since\" can be any kind of json object in Cloudant/CouchDB 2.x\n      /* istanbul ignore next */\n      if (typeof params.since === \"object\") {\n        params.since = JSON.stringify(params.since);\n      }\n\n      if (opts.descending) {\n        if (limit) {\n          params.limit = leftToFetch;\n        }\n      } else {\n        params.limit = (!limit || leftToFetch > batchSize) ?\n          batchSize : leftToFetch;\n      }\n\n      // Set the options for the ajax call\n      var url = genDBUrl(host, '_changes' + paramsToStr(params));\n      var fetchOpts = {\n        signal: controller.signal,\n        method: method,\n        body: JSON.stringify(body)\n      };\n      lastFetchedSeq = since;\n\n      /* istanbul ignore if */\n      if (opts.aborted) {\n        return;\n      }\n\n      // Get the changes\n      setup().then(function () {\n        return fetchJSON(url, fetchOpts, callback);\n      }).catch(callback);\n    };\n\n    // If opts.since exists, get all the changes from the sequence\n    // number given by opts.since. Otherwise, get all the changes\n    // from the sequence number 0.\n    var results = {results: []};\n\n    var fetched = function (err, res) {\n      if (opts.aborted) {\n        return;\n      }\n      var raw_results_length = 0;\n      // If the result of the ajax call (res) contains changes (res.results)\n      if (res && res.results) {\n        raw_results_length = res.results.length;\n        results.last_seq = res.last_seq;\n        var pending = null;\n        var lastSeq = null;\n        // Attach 'pending' property if server supports it (CouchDB 2.0+)\n        /* istanbul ignore if */\n        if (typeof res.pending === 'number') {\n          pending = res.pending;\n        }\n        if (typeof results.last_seq === 'string' || typeof results.last_seq === 'number') {\n          lastSeq = results.last_seq;\n        }\n        // For each change\n        var req = {};\n        req.query = opts.query_params;\n        res.results = res.results.filter(function (c) {\n          leftToFetch--;\n          var ret = filterChange(opts)(c);\n          if (ret) {\n            if (opts.include_docs && opts.attachments && opts.binary) {\n              readAttachmentsAsBlobOrBuffer(c);\n            }\n            if (opts.return_docs) {\n              results.results.push(c);\n            }\n            opts.onChange(c, pending, lastSeq);\n          }\n          return ret;\n        });\n      } else if (err) {\n        // In case of an error, stop listening for changes and call\n        // opts.complete\n        opts.aborted = true;\n        opts.complete(err);\n        return;\n      }\n\n      // The changes feed may have timed out with no results\n      // if so reuse last update sequence\n      if (res && res.last_seq) {\n        lastFetchedSeq = res.last_seq;\n      }\n\n      var finished = (limit && leftToFetch <= 0) ||\n        (res && raw_results_length < batchSize) ||\n        (opts.descending);\n\n      if ((opts.continuous && !(limit && leftToFetch <= 0)) || !finished) {\n        // Queue a call to fetch again with the newest sequence number\n        nextTick(function () { fetchData(lastFetchedSeq, fetched); });\n      } else {\n        // We're done, call the callback\n        opts.complete(null, results);\n      }\n    };\n\n    fetchData(opts.since || 0, fetched);\n\n    // Return a method to cancel this method from processing any more\n    return {\n      cancel: function () {\n        opts.aborted = true;\n        controller.abort();\n      }\n    };\n  };\n\n  // Given a set of document/revision IDs (given by req), tets the subset of\n  // those that do NOT correspond to revisions stored in the database.\n  // See http://wiki.apache.org/couchdb/HttpPostRevsDiff\n  api.revsDiff = adapterFun$$1('revsDiff', function (req, opts, callback) {\n    // If no options were given, set the callback to be the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n\n    // Get the missing document/revision IDs\n    fetchJSON(genDBUrl(host, '_revs_diff'), {\n      method: 'POST',\n      body: JSON.stringify(req)\n    }, callback).catch(callback);\n  });\n\n  api._close = function (callback) {\n    callback();\n  };\n\n  api._destroy = function (options, callback) {\n    fetchJSON(genDBUrl(host, ''), {method: 'DELETE'}).then(function (json) {\n      callback(null, json);\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status === 404) {\n        callback(null, {ok: true});\n      } else {\n        callback(err);\n      }\n    });\n  };\n}\n\n// HttpPouch is a valid adapter.\nHttpPouch.valid = function () {\n  return true;\n};\n\nfunction HttpPouch$1 (PouchDB) {\n  PouchDB.adapter('http', HttpPouch, false);\n  PouchDB.adapter('https', HttpPouch, false);\n}\n\nfunction QueryParseError(message) {\n  this.status = 400;\n  this.name = 'query_parse_error';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, QueryParseError);\n  } catch (e) {}\n}\n\ninherits(QueryParseError, Error);\n\nfunction NotFoundError(message) {\n  this.status = 404;\n  this.name = 'not_found';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, NotFoundError);\n  } catch (e) {}\n}\n\ninherits(NotFoundError, Error);\n\nfunction BuiltInError(message) {\n  this.status = 500;\n  this.name = 'invalid_value';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, BuiltInError);\n  } catch (e) {}\n}\n\ninherits(BuiltInError, Error);\n\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      nextTick(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      nextTick(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\n\nfunction callbackify(fun) {\n  return getArguments(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  });\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\n\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new ExportedSet(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\n\nfunction createBuiltInError(name) {\n  var message = 'builtin ' + name +\n    ' function requires map values to be numbers' +\n    ' or number arrays';\n  return new BuiltInError(message);\n}\n\nfunction sum(values) {\n  var result = 0;\n  for (var i = 0, len = values.length; i < len; i++) {\n    var num = values[i];\n    if (typeof num !== 'number') {\n      if (Array.isArray(num)) {\n        // lists of numbers are also allowed, sum them separately\n        result = typeof result === 'number' ? [result] : result;\n        for (var j = 0, jLen = num.length; j < jLen; j++) {\n          var jNum = num[j];\n          if (typeof jNum !== 'number') {\n            throw createBuiltInError('_sum');\n          } else if (typeof result[j] === 'undefined') {\n            result.push(jNum);\n          } else {\n            result[j] += jNum;\n          }\n        }\n      } else { // not array/number\n        throw createBuiltInError('_sum');\n      }\n    } else if (typeof result === 'number') {\n      result += num;\n    } else { // add number to array\n      result[0] += num;\n    }\n  }\n  return result;\n}\n\nvar log = guardedConsole.bind(null, 'log');\nvar isArray = Array.isArray;\nvar toJSON = JSON.parse;\n\nfunction evalFunctionWithEval(func, emit) {\n  return scopeEval(\n    \"return (\" + func.replace(/;\\s*$/, \"\") + \");\",\n    {\n      emit: emit,\n      sum: sum,\n      log: log,\n      isArray: isArray,\n      toJSON: toJSON\n    }\n  );\n}\n\n/*\n * Simple task queue to sequentialize actions. Assumes\n * callbacks will eventually fire (once).\n */\n\n\nfunction TaskQueue$1() {\n  this.promise = new Promise(function (fulfill) {fulfill(); });\n}\nTaskQueue$1.prototype.add = function (promiseFactory) {\n  this.promise = this.promise.catch(function () {\n    // just recover\n  }).then(function () {\n    return promiseFactory();\n  });\n  return this.promise;\n};\nTaskQueue$1.prototype.finish = function () {\n  return this.promise;\n};\n\nfunction stringify(input) {\n  if (!input) {\n    return 'undefined'; // backwards compat for empty reduce\n  }\n  // for backwards compat with mapreduce, functions/strings are stringified\n  // as-is. everything else is JSON-stringified.\n  switch (typeof input) {\n    case 'function':\n      // e.g. a mapreduce map\n      return input.toString();\n    case 'string':\n      // e.g. a mapreduce built-in _reduce function\n      return input.toString();\n    default:\n      // e.g. a JSON object in the case of mango queries\n      return JSON.stringify(input);\n  }\n}\n\n/* create a string signature for a view so we can cache it and uniq it */\nfunction createViewSignature(mapFun, reduceFun) {\n  // the \"undefined\" part is for backwards compatibility\n  return stringify(mapFun) + stringify(reduceFun) + 'undefined';\n}\n\nfunction createView(sourceDB, viewName, mapFun, reduceFun, temporary, localDocName) {\n  var viewSignature = createViewSignature(mapFun, reduceFun);\n\n  var cachedViews;\n  if (!temporary) {\n    // cache this to ensure we don't try to update the same view twice\n    cachedViews = sourceDB._cachedViews = sourceDB._cachedViews || {};\n    if (cachedViews[viewSignature]) {\n      return cachedViews[viewSignature];\n    }\n  }\n\n  var promiseForView = sourceDB.info().then(function (info) {\n\n    var depDbName = info.db_name + '-mrview-' +\n      (temporary ? 'temp' : stringMd5(viewSignature));\n\n    // save the view name in the source db so it can be cleaned up if necessary\n    // (e.g. when the _design doc is deleted, remove all associated view data)\n    function diffFunction(doc) {\n      doc.views = doc.views || {};\n      var fullViewName = viewName;\n      if (fullViewName.indexOf('/') === -1) {\n        fullViewName = viewName + '/' + viewName;\n      }\n      var depDbs = doc.views[fullViewName] = doc.views[fullViewName] || {};\n      /* istanbul ignore if */\n      if (depDbs[depDbName]) {\n        return; // no update necessary\n      }\n      depDbs[depDbName] = true;\n      return doc;\n    }\n    return upsert(sourceDB, '_local/' + localDocName, diffFunction).then(function () {\n      return sourceDB.registerDependentDatabase(depDbName).then(function (res) {\n        var db = res.db;\n        db.auto_compaction = true;\n        var view = {\n          name: depDbName,\n          db: db,\n          sourceDB: sourceDB,\n          adapter: sourceDB.adapter,\n          mapFun: mapFun,\n          reduceFun: reduceFun\n        };\n        return view.db.get('_local/lastSeq').catch(function (err) {\n          /* istanbul ignore if */\n          if (err.status !== 404) {\n            throw err;\n          }\n        }).then(function (lastSeqDoc) {\n          view.seq = lastSeqDoc ? lastSeqDoc.seq : 0;\n          if (cachedViews) {\n            view.db.once('destroyed', function () {\n              delete cachedViews[viewSignature];\n            });\n          }\n          return view;\n        });\n      });\n    });\n  });\n\n  if (cachedViews) {\n    cachedViews[viewSignature] = promiseForView;\n  }\n  return promiseForView;\n}\n\nvar persistentQueues = {};\nvar tempViewQueue = new TaskQueue$1();\nvar CHANGES_BATCH_SIZE$1 = 50;\n\nfunction parseViewName(name) {\n  // can be either 'ddocname/viewname' or just 'viewname'\n  // (where the ddoc name is the same)\n  return name.indexOf('/') === -1 ? [name, name] : name.split('/');\n}\n\nfunction isGenOne(changes) {\n  // only return true if the current change is 1-\n  // and there are no other leafs\n  return changes.length === 1 && /^1-/.test(changes[0].rev);\n}\n\nfunction emitError(db, e) {\n  try {\n    db.emit('error', e);\n  } catch (err) {\n    guardedConsole('error',\n      'The user\\'s map/reduce function threw an uncaught error.\\n' +\n      'You can debug this error by doing:\\n' +\n      'myDatabase.on(\\'error\\', function (err) { debugger; });\\n' +\n      'Please double-check your map/reduce function.');\n    guardedConsole('error', e);\n  }\n}\n\n/**\n * Returns an \"abstract\" mapreduce object of the form:\n *\n *   {\n *     query: queryFun,\n *     viewCleanup: viewCleanupFun\n *   }\n *\n * Arguments are:\n *\n * localDoc: string\n *   This is for the local doc that gets saved in order to track the\n *   \"dependent\" DBs and clean them up for viewCleanup. It should be\n *   unique, so that indexer plugins don't collide with each other.\n * mapper: function (mapFunDef, emit)\n *   Returns a map function based on the mapFunDef, which in the case of\n *   normal map/reduce is just the de-stringified function, but may be\n *   something else, such as an object in the case of pouchdb-find.\n * reducer: function (reduceFunDef)\n *   Ditto, but for reducing. Modules don't have to support reducing\n *   (e.g. pouchdb-find).\n * ddocValidator: function (ddoc, viewName)\n *   Throws an error if the ddoc or viewName is not valid.\n *   This could be a way to communicate to the user that the configuration for the\n *   indexer is invalid.\n */\nfunction createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator) {\n\n  function tryMap(db, fun, doc) {\n    // emit an event if there was an error thrown by a map function.\n    // putting try/catches in a single function also avoids deoptimizations.\n    try {\n      fun(doc);\n    } catch (e) {\n      emitError(db, e);\n    }\n  }\n\n  function tryReduce(db, fun, keys, values, rereduce) {\n    // same as above, but returning the result or an error. there are two separate\n    // functions to avoid extra memory allocations since the tryCode() case is used\n    // for custom map functions (common) vs this function, which is only used for\n    // custom reduce functions (rare)\n    try {\n      return {output : fun(keys, values, rereduce)};\n    } catch (e) {\n      emitError(db, e);\n      return {error: e};\n    }\n  }\n\n  function sortByKeyThenValue(x, y) {\n    var keyCompare = collate(x.key, y.key);\n    return keyCompare !== 0 ? keyCompare : collate(x.value, y.value);\n  }\n\n  function sliceResults(results, limit, skip) {\n    skip = skip || 0;\n    if (typeof limit === 'number') {\n      return results.slice(skip, limit + skip);\n    } else if (skip > 0) {\n      return results.slice(skip);\n    }\n    return results;\n  }\n\n  function rowToDocId(row) {\n    var val = row.value;\n    // Users can explicitly specify a joined doc _id, or it\n    // defaults to the doc _id that emitted the key/value.\n    var docId = (val && typeof val === 'object' && val._id) || row.id;\n    return docId;\n  }\n\n  function readAttachmentsAsBlobOrBuffer(res) {\n    res.rows.forEach(function (row) {\n      var atts = row.doc && row.doc._attachments;\n      if (!atts) {\n        return;\n      }\n      Object.keys(atts).forEach(function (filename) {\n        var att = atts[filename];\n        atts[filename].data = b64ToBluffer(att.data, att.content_type);\n      });\n    });\n  }\n\n  function postprocessAttachments(opts) {\n    return function (res) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        readAttachmentsAsBlobOrBuffer(res);\n      }\n      return res;\n    };\n  }\n\n  function addHttpParam(paramName, opts, params, asJson) {\n    // add an http param from opts to params, optionally json-encoded\n    var val = opts[paramName];\n    if (typeof val !== 'undefined') {\n      if (asJson) {\n        val = encodeURIComponent(JSON.stringify(val));\n      }\n      params.push(paramName + '=' + val);\n    }\n  }\n\n  function coerceInteger(integerCandidate) {\n    if (typeof integerCandidate !== 'undefined') {\n      var asNumber = Number(integerCandidate);\n      // prevents e.g. '1foo' or '1.1' being coerced to 1\n      if (!isNaN(asNumber) && asNumber === parseInt(integerCandidate, 10)) {\n        return asNumber;\n      } else {\n        return integerCandidate;\n      }\n    }\n  }\n\n  function coerceOptions(opts) {\n    opts.group_level = coerceInteger(opts.group_level);\n    opts.limit = coerceInteger(opts.limit);\n    opts.skip = coerceInteger(opts.skip);\n    return opts;\n  }\n\n  function checkPositiveInteger(number) {\n    if (number) {\n      if (typeof number !== 'number') {\n        return  new QueryParseError('Invalid value for integer: \"' +\n          number + '\"');\n      }\n      if (number < 0) {\n        return new QueryParseError('Invalid value for positive integer: ' +\n          '\"' + number + '\"');\n      }\n    }\n  }\n\n  function checkQueryParseError(options, fun) {\n    var startkeyName = options.descending ? 'endkey' : 'startkey';\n    var endkeyName = options.descending ? 'startkey' : 'endkey';\n\n    if (typeof options[startkeyName] !== 'undefined' &&\n      typeof options[endkeyName] !== 'undefined' &&\n      collate(options[startkeyName], options[endkeyName]) > 0) {\n      throw new QueryParseError('No rows can match your key range, ' +\n        'reverse your start_key and end_key or set {descending : true}');\n    } else if (fun.reduce && options.reduce !== false) {\n      if (options.include_docs) {\n        throw new QueryParseError('{include_docs:true} is invalid for reduce');\n      } else if (options.keys && options.keys.length > 1 &&\n        !options.group && !options.group_level) {\n        throw new QueryParseError('Multi-key fetches for reduce views must use ' +\n          '{group: true}');\n      }\n    }\n    ['group_level', 'limit', 'skip'].forEach(function (optionName) {\n      var error = checkPositiveInteger(options[optionName]);\n      if (error) {\n        throw error;\n      }\n    });\n  }\n\n  function httpQuery(db, fun, opts) {\n    // List of parameters to add to the PUT request\n    var params = [];\n    var body;\n    var method = 'GET';\n    var ok, status;\n\n    // If opts.reduce exists and is defined, then add it to the list\n    // of parameters.\n    // If reduce=false then the results are that of only the map function\n    // not the final result of map and reduce.\n    addHttpParam('reduce', opts, params);\n    addHttpParam('include_docs', opts, params);\n    addHttpParam('attachments', opts, params);\n    addHttpParam('limit', opts, params);\n    addHttpParam('descending', opts, params);\n    addHttpParam('group', opts, params);\n    addHttpParam('group_level', opts, params);\n    addHttpParam('skip', opts, params);\n    addHttpParam('stale', opts, params);\n    addHttpParam('conflicts', opts, params);\n    addHttpParam('startkey', opts, params, true);\n    addHttpParam('start_key', opts, params, true);\n    addHttpParam('endkey', opts, params, true);\n    addHttpParam('end_key', opts, params, true);\n    addHttpParam('inclusive_end', opts, params);\n    addHttpParam('key', opts, params, true);\n    addHttpParam('update_seq', opts, params);\n\n    // Format the list of parameters into a valid URI query string\n    params = params.join('&');\n    params = params === '' ? '' : '?' + params;\n\n    // If keys are supplied, issue a POST to circumvent GET query string limits\n    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options\n    if (typeof opts.keys !== 'undefined') {\n      var MAX_URL_LENGTH = 2000;\n      // according to http://stackoverflow.com/a/417184/680742,\n      // the de facto URL length limit is 2000 characters\n\n      var keysAsString =\n        'keys=' + encodeURIComponent(JSON.stringify(opts.keys));\n      if (keysAsString.length + params.length + 1 <= MAX_URL_LENGTH) {\n        // If the keys are short enough, do a GET. we do this to work around\n        // Safari not understanding 304s on POSTs (see pouchdb/pouchdb#1239)\n        params += (params[0] === '?' ? '&' : '?') + keysAsString;\n      } else {\n        method = 'POST';\n        if (typeof fun === 'string') {\n          body = {keys: opts.keys};\n        } else { // fun is {map : mapfun}, so append to this\n          fun.keys = opts.keys;\n        }\n      }\n    }\n\n    // We are referencing a query defined in the design doc\n    if (typeof fun === 'string') {\n      var parts = parseViewName(fun);\n      return db.fetch('_design/' + parts[0] + '/_view/' + parts[1] + params, {\n        headers: new h({'Content-Type': 'application/json'}),\n        method: method,\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n        return response.json();\n      }).then(function (result) {\n        if (!ok) {\n          result.status = status;\n          throw generateErrorFromResponse(result);\n        }\n        // fail the entire request if the result contains an error\n        result.rows.forEach(function (row) {\n          /* istanbul ignore if */\n          if (row.value && row.value.error && row.value.error === \"builtin_reduce_error\") {\n            throw new Error(row.reason);\n          }\n        });\n        return result;\n      }).then(postprocessAttachments(opts));\n    }\n\n    // We are using a temporary view, terrible for performance, good for testing\n    body = body || {};\n    Object.keys(fun).forEach(function (key) {\n      if (Array.isArray(fun[key])) {\n        body[key] = fun[key];\n      } else {\n        body[key] = fun[key].toString();\n      }\n    });\n\n    return db.fetch('_temp_view' + params, {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n      return response.json();\n    }).then(function (result) {\n      if (!ok) {\n        result.status = status;\n        throw generateErrorFromResponse(result);\n      }\n      return result;\n    }).then(postprocessAttachments(opts));\n  }\n\n  // custom adapters can define their own api._query\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customQuery(db, fun, opts) {\n    return new Promise(function (resolve, reject) {\n      db._query(fun, opts, function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  // custom adapters can define their own api._viewCleanup\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customViewCleanup(db) {\n    return new Promise(function (resolve, reject) {\n      db._viewCleanup(function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  function defaultsTo(value) {\n    return function (reason) {\n      /* istanbul ignore else */\n      if (reason.status === 404) {\n        return value;\n      } else {\n        throw reason;\n      }\n    };\n  }\n\n  // returns a promise for a list of docs to update, based on the input docId.\n  // the order doesn't matter, because post-3.2.0, bulkDocs\n  // is an atomic operation in all three adapters.\n  function getDocsToPersist(docId, view, docIdsToChangesAndEmits) {\n    var metaDocId = '_local/doc_' + docId;\n    var defaultMetaDoc = {_id: metaDocId, keys: []};\n    var docData = docIdsToChangesAndEmits.get(docId);\n    var indexableKeysToKeyValues = docData[0];\n    var changes = docData[1];\n\n    function getMetaDoc() {\n      if (isGenOne(changes)) {\n        // generation 1, so we can safely assume initial state\n        // for performance reasons (avoids unnecessary GETs)\n        return Promise.resolve(defaultMetaDoc);\n      }\n      return view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc));\n    }\n\n    function getKeyValueDocs(metaDoc) {\n      if (!metaDoc.keys.length) {\n        // no keys, no need for a lookup\n        return Promise.resolve({rows: []});\n      }\n      return view.db.allDocs({\n        keys: metaDoc.keys,\n        include_docs: true\n      });\n    }\n\n    function processKeyValueDocs(metaDoc, kvDocsRes) {\n      var kvDocs = [];\n      var oldKeys = new ExportedSet();\n\n      for (var i = 0, len = kvDocsRes.rows.length; i < len; i++) {\n        var row = kvDocsRes.rows[i];\n        var doc = row.doc;\n        if (!doc) { // deleted\n          continue;\n        }\n        kvDocs.push(doc);\n        oldKeys.add(doc._id);\n        doc._deleted = !indexableKeysToKeyValues.has(doc._id);\n        if (!doc._deleted) {\n          var keyValue = indexableKeysToKeyValues.get(doc._id);\n          if ('value' in keyValue) {\n            doc.value = keyValue.value;\n          }\n        }\n      }\n      var newKeys = mapToKeysArray(indexableKeysToKeyValues);\n      newKeys.forEach(function (key) {\n        if (!oldKeys.has(key)) {\n          // new doc\n          var kvDoc = {\n            _id: key\n          };\n          var keyValue = indexableKeysToKeyValues.get(key);\n          if ('value' in keyValue) {\n            kvDoc.value = keyValue.value;\n          }\n          kvDocs.push(kvDoc);\n        }\n      });\n      metaDoc.keys = uniq(newKeys.concat(metaDoc.keys));\n      kvDocs.push(metaDoc);\n\n      return kvDocs;\n    }\n\n    return getMetaDoc().then(function (metaDoc) {\n      return getKeyValueDocs(metaDoc).then(function (kvDocsRes) {\n        return processKeyValueDocs(metaDoc, kvDocsRes);\n      });\n    });\n  }\n\n  // updates all emitted key/value docs and metaDocs in the mrview database\n  // for the given batch of documents from the source database\n  function saveKeyValues(view, docIdsToChangesAndEmits, seq) {\n    var seqDocId = '_local/lastSeq';\n    return view.db.get(seqDocId)\n      .catch(defaultsTo({_id: seqDocId, seq: 0}))\n      .then(function (lastSeqDoc) {\n        var docIds = mapToKeysArray(docIdsToChangesAndEmits);\n        return Promise.all(docIds.map(function (docId) {\n          return getDocsToPersist(docId, view, docIdsToChangesAndEmits);\n        })).then(function (listOfDocsToPersist) {\n          var docsToPersist = flatten(listOfDocsToPersist);\n          lastSeqDoc.seq = seq;\n          docsToPersist.push(lastSeqDoc);\n          // write all docs in a single operation, update the seq once\n          return view.db.bulkDocs({docs : docsToPersist});\n        });\n      });\n  }\n\n  function getQueue(view) {\n    var viewName = typeof view === 'string' ? view : view.name;\n    var queue = persistentQueues[viewName];\n    if (!queue) {\n      queue = persistentQueues[viewName] = new TaskQueue$1();\n    }\n    return queue;\n  }\n\n  function updateView(view) {\n    return sequentialize(getQueue(view), function () {\n      return updateViewInQueue(view);\n    })();\n  }\n\n  function updateViewInQueue(view) {\n    // bind the emit function once\n    var mapResults;\n    var doc;\n\n    function emit(key, value) {\n      var output = {id: doc._id, key: normalizeKey(key)};\n      // Don't explicitly store the value unless it's defined and non-null.\n      // This saves on storage space, because often people don't use it.\n      if (typeof value !== 'undefined' && value !== null) {\n        output.value = normalizeKey(value);\n      }\n      mapResults.push(output);\n    }\n\n    var mapFun = mapper(view.mapFun, emit);\n\n    var currentSeq = view.seq || 0;\n\n    function processChange(docIdsToChangesAndEmits, seq) {\n      return function () {\n        return saveKeyValues(view, docIdsToChangesAndEmits, seq);\n      };\n    }\n\n    var queue = new TaskQueue$1();\n\n    function processNextBatch() {\n      return view.sourceDB.changes({\n        return_docs: true,\n        conflicts: true,\n        include_docs: true,\n        style: 'all_docs',\n        since: currentSeq,\n        limit: CHANGES_BATCH_SIZE$1\n      }).then(processBatch);\n    }\n\n    function processBatch(response) {\n      var results = response.results;\n      if (!results.length) {\n        return;\n      }\n      var docIdsToChangesAndEmits = createDocIdsToChangesAndEmits(results);\n      queue.add(processChange(docIdsToChangesAndEmits, currentSeq));\n      if (results.length < CHANGES_BATCH_SIZE$1) {\n        return;\n      }\n      return processNextBatch();\n    }\n\n    function createDocIdsToChangesAndEmits(results) {\n      var docIdsToChangesAndEmits = new ExportedMap();\n      for (var i = 0, len = results.length; i < len; i++) {\n        var change = results[i];\n        if (change.doc._id[0] !== '_') {\n          mapResults = [];\n          doc = change.doc;\n\n          if (!doc._deleted) {\n            tryMap(view.sourceDB, mapFun, doc);\n          }\n          mapResults.sort(sortByKeyThenValue);\n\n          var indexableKeysToKeyValues = createIndexableKeysToKeyValues(mapResults);\n          docIdsToChangesAndEmits.set(change.doc._id, [\n            indexableKeysToKeyValues,\n            change.changes\n          ]);\n        }\n        currentSeq = change.seq;\n      }\n      return docIdsToChangesAndEmits;\n    }\n\n    function createIndexableKeysToKeyValues(mapResults) {\n      var indexableKeysToKeyValues = new ExportedMap();\n      var lastKey;\n      for (var i = 0, len = mapResults.length; i < len; i++) {\n        var emittedKeyValue = mapResults[i];\n        var complexKey = [emittedKeyValue.key, emittedKeyValue.id];\n        if (i > 0 && collate(emittedKeyValue.key, lastKey) === 0) {\n          complexKey.push(i); // dup key+id, so make it unique\n        }\n        indexableKeysToKeyValues.set(toIndexableString(complexKey), emittedKeyValue);\n        lastKey = emittedKeyValue.key;\n      }\n      return indexableKeysToKeyValues;\n    }\n\n    return processNextBatch().then(function () {\n      return queue.finish();\n    }).then(function () {\n      view.seq = currentSeq;\n    });\n  }\n\n  function reduceView(view, results, options) {\n    if (options.group_level === 0) {\n      delete options.group_level;\n    }\n\n    var shouldGroup = options.group || options.group_level;\n\n    var reduceFun = reducer(view.reduceFun);\n\n    var groups = [];\n    var lvl = isNaN(options.group_level) ? Number.POSITIVE_INFINITY :\n      options.group_level;\n    results.forEach(function (e) {\n      var last = groups[groups.length - 1];\n      var groupKey = shouldGroup ? e.key : null;\n\n      // only set group_level for array keys\n      if (shouldGroup && Array.isArray(groupKey)) {\n        groupKey = groupKey.slice(0, lvl);\n      }\n\n      if (last && collate(last.groupKey, groupKey) === 0) {\n        last.keys.push([e.key, e.id]);\n        last.values.push(e.value);\n        return;\n      }\n      groups.push({\n        keys: [[e.key, e.id]],\n        values: [e.value],\n        groupKey: groupKey\n      });\n    });\n    results = [];\n    for (var i = 0, len = groups.length; i < len; i++) {\n      var e = groups[i];\n      var reduceTry = tryReduce(view.sourceDB, reduceFun, e.keys, e.values, false);\n      if (reduceTry.error && reduceTry.error instanceof BuiltInError) {\n        // CouchDB returns an error if a built-in errors out\n        throw reduceTry.error;\n      }\n      results.push({\n        // CouchDB just sets the value to null if a non-built-in errors out\n        value: reduceTry.error ? null : reduceTry.output,\n        key: e.groupKey\n      });\n    }\n    // no total_rows/offset when reducing\n    return {rows: sliceResults(results, options.limit, options.skip)};\n  }\n\n  function queryView(view, opts) {\n    return sequentialize(getQueue(view), function () {\n      return queryViewInQueue(view, opts);\n    })();\n  }\n\n  function queryViewInQueue(view, opts) {\n    var totalRows;\n    var shouldReduce = view.reduceFun && opts.reduce !== false;\n    var skip = opts.skip || 0;\n    if (typeof opts.keys !== 'undefined' && !opts.keys.length) {\n      // equivalent query\n      opts.limit = 0;\n      delete opts.keys;\n    }\n\n    function fetchFromView(viewOpts) {\n      viewOpts.include_docs = true;\n      return view.db.allDocs(viewOpts).then(function (res) {\n        totalRows = res.total_rows;\n        return res.rows.map(function (result) {\n\n          // implicit migration - in older versions of PouchDB,\n          // we explicitly stored the doc as {id: ..., key: ..., value: ...}\n          // this is tested in a migration test\n          /* istanbul ignore next */\n          if ('value' in result.doc && typeof result.doc.value === 'object' &&\n            result.doc.value !== null) {\n            var keys = Object.keys(result.doc.value).sort();\n            // this detection method is not perfect, but it's unlikely the user\n            // emitted a value which was an object with these 3 exact keys\n            var expectedKeys = ['id', 'key', 'value'];\n            if (!(keys < expectedKeys || keys > expectedKeys)) {\n              return result.doc.value;\n            }\n          }\n\n          var parsedKeyAndDocId = parseIndexableString(result.doc._id);\n          return {\n            key: parsedKeyAndDocId[0],\n            id: parsedKeyAndDocId[1],\n            value: ('value' in result.doc ? result.doc.value : null)\n          };\n        });\n      });\n    }\n\n    function onMapResultsReady(rows) {\n      var finalResults;\n      if (shouldReduce) {\n        finalResults = reduceView(view, rows, opts);\n      } else {\n        finalResults = {\n          total_rows: totalRows,\n          offset: skip,\n          rows: rows\n        };\n      }\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        finalResults.update_seq = view.seq;\n      }\n      if (opts.include_docs) {\n        var docIds = uniq(rows.map(rowToDocId));\n\n        return view.sourceDB.allDocs({\n          keys: docIds,\n          include_docs: true,\n          conflicts: opts.conflicts,\n          attachments: opts.attachments,\n          binary: opts.binary\n        }).then(function (allDocsRes) {\n          var docIdsToDocs = new ExportedMap();\n          allDocsRes.rows.forEach(function (row) {\n            docIdsToDocs.set(row.id, row.doc);\n          });\n          rows.forEach(function (row) {\n            var docId = rowToDocId(row);\n            var doc = docIdsToDocs.get(docId);\n            if (doc) {\n              row.doc = doc;\n            }\n          });\n          return finalResults;\n        });\n      } else {\n        return finalResults;\n      }\n    }\n\n    if (typeof opts.keys !== 'undefined') {\n      var keys = opts.keys;\n      var fetchPromises = keys.map(function (key) {\n        var viewOpts = {\n          startkey : toIndexableString([key]),\n          endkey   : toIndexableString([key, {}])\n        };\n        /* istanbul ignore if */\n        if (opts.update_seq) {\n          viewOpts.update_seq = true;\n        }\n        return fetchFromView(viewOpts);\n      });\n      return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady);\n    } else { // normal query, no 'keys'\n      var viewOpts = {\n        descending : opts.descending\n      };\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        viewOpts.update_seq = true;\n      }\n      var startkey;\n      var endkey;\n      if ('start_key' in opts) {\n        startkey = opts.start_key;\n      }\n      if ('startkey' in opts) {\n        startkey = opts.startkey;\n      }\n      if ('end_key' in opts) {\n        endkey = opts.end_key;\n      }\n      if ('endkey' in opts) {\n        endkey = opts.endkey;\n      }\n      if (typeof startkey !== 'undefined') {\n        viewOpts.startkey = opts.descending ?\n          toIndexableString([startkey, {}]) :\n          toIndexableString([startkey]);\n      }\n      if (typeof endkey !== 'undefined') {\n        var inclusiveEnd = opts.inclusive_end !== false;\n        if (opts.descending) {\n          inclusiveEnd = !inclusiveEnd;\n        }\n\n        viewOpts.endkey = toIndexableString(\n          inclusiveEnd ? [endkey, {}] : [endkey]);\n      }\n      if (typeof opts.key !== 'undefined') {\n        var keyStart = toIndexableString([opts.key]);\n        var keyEnd = toIndexableString([opts.key, {}]);\n        if (viewOpts.descending) {\n          viewOpts.endkey = keyStart;\n          viewOpts.startkey = keyEnd;\n        } else {\n          viewOpts.startkey = keyStart;\n          viewOpts.endkey = keyEnd;\n        }\n      }\n      if (!shouldReduce) {\n        if (typeof opts.limit === 'number') {\n          viewOpts.limit = opts.limit;\n        }\n        viewOpts.skip = skip;\n      }\n      return fetchFromView(viewOpts).then(onMapResultsReady);\n    }\n  }\n\n  function httpViewCleanup(db) {\n    return db.fetch('_view_cleanup', {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST'\n    }).then(function (response) {\n      return response.json();\n    });\n  }\n\n  function localViewCleanup(db) {\n    return db.get('_local/' + localDocName).then(function (metaDoc) {\n      var docsToViews = new ExportedMap();\n      Object.keys(metaDoc.views).forEach(function (fullViewName) {\n        var parts = parseViewName(fullViewName);\n        var designDocName = '_design/' + parts[0];\n        var viewName = parts[1];\n        var views = docsToViews.get(designDocName);\n        if (!views) {\n          views = new ExportedSet();\n          docsToViews.set(designDocName, views);\n        }\n        views.add(viewName);\n      });\n      var opts = {\n        keys : mapToKeysArray(docsToViews),\n        include_docs : true\n      };\n      return db.allDocs(opts).then(function (res) {\n        var viewsToStatus = {};\n        res.rows.forEach(function (row) {\n          var ddocName = row.key.substring(8); // cuts off '_design/'\n          docsToViews.get(row.key).forEach(function (viewName) {\n            var fullViewName = ddocName + '/' + viewName;\n            /* istanbul ignore if */\n            if (!metaDoc.views[fullViewName]) {\n              // new format, without slashes, to support PouchDB 2.2.0\n              // migration test in pouchdb's browser.migration.js verifies this\n              fullViewName = viewName;\n            }\n            var viewDBNames = Object.keys(metaDoc.views[fullViewName]);\n            // design doc deleted, or view function nonexistent\n            var statusIsGood = row.doc && row.doc.views &&\n              row.doc.views[viewName];\n            viewDBNames.forEach(function (viewDBName) {\n              viewsToStatus[viewDBName] =\n                viewsToStatus[viewDBName] || statusIsGood;\n            });\n          });\n        });\n        var dbsToDelete = Object.keys(viewsToStatus).filter(\n          function (viewDBName) { return !viewsToStatus[viewDBName]; });\n        var destroyPromises = dbsToDelete.map(function (viewDBName) {\n          return sequentialize(getQueue(viewDBName), function () {\n            return new db.constructor(viewDBName, db.__opts).destroy();\n          })();\n        });\n        return Promise.all(destroyPromises).then(function () {\n          return {ok: true};\n        });\n      });\n    }, defaultsTo({ok: true}));\n  }\n\n  function queryPromised(db, fun, opts) {\n    /* istanbul ignore next */\n    if (typeof db._query === 'function') {\n      return customQuery(db, fun, opts);\n    }\n    if (isRemote(db)) {\n      return httpQuery(db, fun, opts);\n    }\n\n    if (typeof fun !== 'string') {\n      // temp_view\n      checkQueryParseError(opts, fun);\n\n      tempViewQueue.add(function () {\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ 'temp_view/temp_view',\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ true,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          return fin(updateView(view).then(function () {\n            return queryView(view, opts);\n          }), function () {\n            return view.db.destroy();\n          });\n        });\n      });\n      return tempViewQueue.finish();\n    } else {\n      // persistent view\n      var fullViewName = fun;\n      var parts = parseViewName(fullViewName);\n      var designDocName = parts[0];\n      var viewName = parts[1];\n      return db.get('_design/' + designDocName).then(function (doc) {\n        var fun = doc.views && doc.views[viewName];\n\n        if (!fun) {\n          // basic validator; it's assumed that every subclass would want this\n          throw new NotFoundError('ddoc ' + doc._id + ' has no view named ' +\n            viewName);\n        }\n\n        ddocValidator(doc, viewName);\n        checkQueryParseError(opts, fun);\n\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ fullViewName,\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ false,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          if (opts.stale === 'ok' || opts.stale === 'update_after') {\n            if (opts.stale === 'update_after') {\n              nextTick(function () {\n                updateView(view);\n              });\n            }\n            return queryView(view, opts);\n          } else { // stale not ok\n            return updateView(view).then(function () {\n              return queryView(view, opts);\n            });\n          }\n        });\n      });\n    }\n  }\n\n  function abstractQuery(fun, opts, callback) {\n    var db = this;\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = opts ? coerceOptions(opts) : {};\n\n    if (typeof fun === 'function') {\n      fun = {map : fun};\n    }\n\n    var promise = Promise.resolve().then(function () {\n      return queryPromised(db, fun, opts);\n    });\n    promisedCallback(promise, callback);\n    return promise;\n  }\n\n  var abstractViewCleanup = callbackify(function () {\n    var db = this;\n    /* istanbul ignore next */\n    if (typeof db._viewCleanup === 'function') {\n      return customViewCleanup(db);\n    }\n    if (isRemote(db)) {\n      return httpViewCleanup(db);\n    }\n    return localViewCleanup(db);\n  });\n\n  return {\n    query: abstractQuery,\n    viewCleanup: abstractViewCleanup\n  };\n}\n\nvar builtInReduce = {\n  _sum: function (keys, values) {\n    return sum(values);\n  },\n\n  _count: function (keys, values) {\n    return values.length;\n  },\n\n  _stats: function (keys, values) {\n    // no need to implement rereduce=true, because Pouch\n    // will never call it\n    function sumsqr(values) {\n      var _sumsqr = 0;\n      for (var i = 0, len = values.length; i < len; i++) {\n        var num = values[i];\n        _sumsqr += (num * num);\n      }\n      return _sumsqr;\n    }\n    return {\n      sum     : sum(values),\n      min     : Math.min.apply(null, values),\n      max     : Math.max.apply(null, values),\n      count   : values.length,\n      sumsqr : sumsqr(values)\n    };\n  }\n};\n\nfunction getBuiltIn(reduceFunString) {\n  if (/^_sum/.test(reduceFunString)) {\n    return builtInReduce._sum;\n  } else if (/^_count/.test(reduceFunString)) {\n    return builtInReduce._count;\n  } else if (/^_stats/.test(reduceFunString)) {\n    return builtInReduce._stats;\n  } else if (/^_/.test(reduceFunString)) {\n    throw new Error(reduceFunString + ' is not a supported reduce function.');\n  }\n}\n\nfunction mapper(mapFun, emit) {\n  // for temp_views one can use emit(doc, emit), see #38\n  if (typeof mapFun === \"function\" && mapFun.length === 2) {\n    var origMap = mapFun;\n    return function (doc) {\n      return origMap(doc, emit);\n    };\n  } else {\n    return evalFunctionWithEval(mapFun.toString(), emit);\n  }\n}\n\nfunction reducer(reduceFun) {\n  var reduceFunString = reduceFun.toString();\n  var builtIn = getBuiltIn(reduceFunString);\n  if (builtIn) {\n    return builtIn;\n  } else {\n    return evalFunctionWithEval(reduceFunString);\n  }\n}\n\nfunction ddocValidator(ddoc, viewName) {\n  var fun = ddoc.views && ddoc.views[viewName];\n  if (typeof fun.map !== 'string') {\n    throw new NotFoundError('ddoc ' + ddoc._id + ' has no string view named ' +\n      viewName + ', instead found object of type: ' + typeof fun.map);\n  }\n}\n\nvar localDocName = 'mrviews';\nvar abstract = createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator);\n\nfunction query(fun, opts, callback) {\n  return abstract.query.call(this, fun, opts, callback);\n}\n\nfunction viewCleanup(callback) {\n  return abstract.viewCleanup.call(this, callback);\n}\n\nvar mapreduce = {\n  query: query,\n  viewCleanup: viewCleanup\n};\n\nfunction isGenOne$1(rev) {\n  return /^1-/.test(rev);\n}\n\nfunction fileHasChanged(localDoc, remoteDoc, filename) {\n  return !localDoc._attachments ||\n         !localDoc._attachments[filename] ||\n         localDoc._attachments[filename].digest !== remoteDoc._attachments[filename].digest;\n}\n\nfunction getDocAttachments(db, doc) {\n  var filenames = Object.keys(doc._attachments);\n  return Promise.all(filenames.map(function (filename) {\n    return db.getAttachment(doc._id, filename, {rev: doc._rev});\n  }));\n}\n\nfunction getDocAttachmentsFromTargetOrSource(target, src, doc) {\n  var doCheckForLocalAttachments = isRemote(src) && !isRemote(target);\n  var filenames = Object.keys(doc._attachments);\n\n  if (!doCheckForLocalAttachments) {\n    return getDocAttachments(src, doc);\n  }\n\n  return target.get(doc._id).then(function (localDoc) {\n    return Promise.all(filenames.map(function (filename) {\n      if (fileHasChanged(localDoc, doc, filename)) {\n        return src.getAttachment(doc._id, filename);\n      }\n\n      return target.getAttachment(localDoc._id, filename);\n    }));\n  }).catch(function (error) {\n    /* istanbul ignore if */\n    if (error.status !== 404) {\n      throw error;\n    }\n\n    return getDocAttachments(src, doc);\n  });\n}\n\nfunction createBulkGetOpts(diffs) {\n  var requests = [];\n  Object.keys(diffs).forEach(function (id) {\n    var missingRevs = diffs[id].missing;\n    missingRevs.forEach(function (missingRev) {\n      requests.push({\n        id: id,\n        rev: missingRev\n      });\n    });\n  });\n\n  return {\n    docs: requests,\n    revs: true,\n    latest: true\n  };\n}\n\n//\n// Fetch all the documents from the src as described in the \"diffs\",\n// which is a mapping of docs IDs to revisions. If the state ever\n// changes to \"cancelled\", then the returned promise will be rejected.\n// Else it will be resolved with a list of fetched documents.\n//\nfunction getDocs(src, target, diffs, state) {\n  diffs = clone(diffs); // we do not need to modify this\n\n  var resultDocs = [],\n      ok = true;\n\n  function getAllDocs() {\n\n    var bulkGetOpts = createBulkGetOpts(diffs);\n\n    if (!bulkGetOpts.docs.length) { // optimization: skip empty requests\n      return;\n    }\n\n    return src.bulkGet(bulkGetOpts).then(function (bulkGetResponse) {\n      /* istanbul ignore if */\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      return Promise.all(bulkGetResponse.results.map(function (bulkGetInfo) {\n        return Promise.all(bulkGetInfo.docs.map(function (doc) {\n          var remoteDoc = doc.ok;\n\n          if (doc.error) {\n            // when AUTO_COMPACTION is set, docs can be returned which look\n            // like this: {\"missing\":\"1-7c3ac256b693c462af8442f992b83696\"}\n            ok = false;\n          }\n\n          if (!remoteDoc || !remoteDoc._attachments) {\n            return remoteDoc;\n          }\n\n          return getDocAttachmentsFromTargetOrSource(target, src, remoteDoc)\n                   .then(function (attachments) {\n                           var filenames = Object.keys(remoteDoc._attachments);\n                           attachments\n                             .forEach(function (attachment, i) {\n                                        var att = remoteDoc._attachments[filenames[i]];\n                                        delete att.stub;\n                                        delete att.length;\n                                        att.data = attachment;\n                                      });\n\n                                      return remoteDoc;\n                                    });\n        }));\n      }))\n\n      .then(function (results) {\n        resultDocs = resultDocs.concat(flatten(results).filter(Boolean));\n      });\n    });\n  }\n\n  function hasAttachments(doc) {\n    return doc._attachments && Object.keys(doc._attachments).length > 0;\n  }\n\n  function hasConflicts(doc) {\n    return doc._conflicts && doc._conflicts.length > 0;\n  }\n\n  function fetchRevisionOneDocs(ids) {\n    // Optimization: fetch gen-1 docs and attachments in\n    // a single request using _all_docs\n    return src.allDocs({\n      keys: ids,\n      include_docs: true,\n      conflicts: true\n    }).then(function (res) {\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      res.rows.forEach(function (row) {\n        if (row.deleted || !row.doc || !isGenOne$1(row.value.rev) ||\n            hasAttachments(row.doc) || hasConflicts(row.doc)) {\n          // if any of these conditions apply, we need to fetch using get()\n          return;\n        }\n\n        // strip _conflicts array to appease CSG (#5793)\n        /* istanbul ignore if */\n        if (row.doc._conflicts) {\n          delete row.doc._conflicts;\n        }\n\n        // the doc we got back from allDocs() is sufficient\n        resultDocs.push(row.doc);\n        delete diffs[row.id];\n      });\n    });\n  }\n\n  function getRevisionOneDocs() {\n    // filter out the generation 1 docs and get them\n    // leaving the non-generation one docs to be got otherwise\n    var ids = Object.keys(diffs).filter(function (id) {\n      var missing = diffs[id].missing;\n      return missing.length === 1 && isGenOne$1(missing[0]);\n    });\n    if (ids.length > 0) {\n      return fetchRevisionOneDocs(ids);\n    }\n  }\n\n  function returnResult() {\n    return { ok:ok, docs:resultDocs };\n  }\n\n  return Promise.resolve()\n    .then(getRevisionOneDocs)\n    .then(getAllDocs)\n    .then(returnResult);\n}\n\nvar CHECKPOINT_VERSION = 1;\nvar REPLICATOR = \"pouchdb\";\n// This is an arbitrary number to limit the\n// amount of replication history we save in the checkpoint.\n// If we save too much, the checkpoing docs will become very big,\n// if we save fewer, we'll run a greater risk of having to\n// read all the changes from 0 when checkpoint PUTs fail\n// CouchDB 2.0 has a more involved history pruning,\n// but let's go for the simple version for now.\nvar CHECKPOINT_HISTORY_SIZE = 5;\nvar LOWEST_SEQ = 0;\n\nfunction updateCheckpoint(db, id, checkpoint, session, returnValue) {\n  return db.get(id).catch(function (err) {\n    if (err.status === 404) {\n      if (db.adapter === 'http' || db.adapter === 'https') {\n        explainError(\n          404, 'PouchDB is just checking if a remote checkpoint exists.'\n        );\n      }\n      return {\n        session_id: session,\n        _id: id,\n        history: [],\n        replicator: REPLICATOR,\n        version: CHECKPOINT_VERSION\n      };\n    }\n    throw err;\n  }).then(function (doc) {\n    if (returnValue.cancelled) {\n      return;\n    }\n\n    // if the checkpoint has not changed, do not update\n    if (doc.last_seq === checkpoint) {\n      return;\n    }\n\n    // Filter out current entry for this replication\n    doc.history = (doc.history || []).filter(function (item) {\n      return item.session_id !== session;\n    });\n\n    // Add the latest checkpoint to history\n    doc.history.unshift({\n      last_seq: checkpoint,\n      session_id: session\n    });\n\n    // Just take the last pieces in history, to\n    // avoid really big checkpoint docs.\n    // see comment on history size above\n    doc.history = doc.history.slice(0, CHECKPOINT_HISTORY_SIZE);\n\n    doc.version = CHECKPOINT_VERSION;\n    doc.replicator = REPLICATOR;\n\n    doc.session_id = session;\n    doc.last_seq = checkpoint;\n\n    return db.put(doc).catch(function (err) {\n      if (err.status === 409) {\n        // retry; someone is trying to write a checkpoint simultaneously\n        return updateCheckpoint(db, id, checkpoint, session, returnValue);\n      }\n      throw err;\n    });\n  });\n}\n\nfunction Checkpointer(src, target, id, returnValue, opts) {\n  this.src = src;\n  this.target = target;\n  this.id = id;\n  this.returnValue = returnValue;\n  this.opts = opts || {};\n}\n\nCheckpointer.prototype.writeCheckpoint = function (checkpoint, session) {\n  var self = this;\n  return this.updateTarget(checkpoint, session).then(function () {\n    return self.updateSource(checkpoint, session);\n  });\n};\n\nCheckpointer.prototype.updateTarget = function (checkpoint, session) {\n  if (this.opts.writeTargetCheckpoint) {\n    return updateCheckpoint(this.target, this.id, checkpoint,\n      session, this.returnValue);\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nCheckpointer.prototype.updateSource = function (checkpoint, session) {\n  if (this.opts.writeSourceCheckpoint) {\n    var self = this;\n    return updateCheckpoint(this.src, this.id, checkpoint,\n      session, this.returnValue)\n      .catch(function (err) {\n        if (isForbiddenError(err)) {\n          self.opts.writeSourceCheckpoint = false;\n          return true;\n        }\n        throw err;\n      });\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nvar comparisons = {\n  \"undefined\": function (targetDoc, sourceDoc) {\n    // This is the previous comparison function\n    if (collate(targetDoc.last_seq, sourceDoc.last_seq) === 0) {\n      return sourceDoc.last_seq;\n    }\n    /* istanbul ignore next */\n    return 0;\n  },\n  \"1\": function (targetDoc, sourceDoc) {\n    // This is the comparison function ported from CouchDB\n    return compareReplicationLogs(sourceDoc, targetDoc).last_seq;\n  }\n};\n\nCheckpointer.prototype.getCheckpoint = function () {\n  var self = this;\n\n  if (self.opts && self.opts.writeSourceCheckpoint && !self.opts.writeTargetCheckpoint) {\n    return self.src.get(self.id).then(function (sourceDoc) {\n      return sourceDoc.last_seq || LOWEST_SEQ;\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        throw err;\n      }\n      return LOWEST_SEQ;\n    });\n  }\n\n  return self.target.get(self.id).then(function (targetDoc) {\n    if (self.opts && self.opts.writeTargetCheckpoint && !self.opts.writeSourceCheckpoint) {\n      return targetDoc.last_seq || LOWEST_SEQ;\n    }\n\n    return self.src.get(self.id).then(function (sourceDoc) {\n      // Since we can't migrate an old version doc to a new one\n      // (no session id), we just go with the lowest seq in this case\n      /* istanbul ignore if */\n      if (targetDoc.version !== sourceDoc.version) {\n        return LOWEST_SEQ;\n      }\n\n      var version;\n      if (targetDoc.version) {\n        version = targetDoc.version.toString();\n      } else {\n        version = \"undefined\";\n      }\n\n      if (version in comparisons) {\n        return comparisons[version](targetDoc, sourceDoc);\n      }\n      /* istanbul ignore next */\n      return LOWEST_SEQ;\n    }, function (err) {\n      if (err.status === 404 && targetDoc.last_seq) {\n        return self.src.put({\n          _id: self.id,\n          last_seq: LOWEST_SEQ\n        }).then(function () {\n          return LOWEST_SEQ;\n        }, function (err) {\n          if (isForbiddenError(err)) {\n            self.opts.writeSourceCheckpoint = false;\n            return targetDoc.last_seq;\n          }\n          /* istanbul ignore next */\n          return LOWEST_SEQ;\n        });\n      }\n      throw err;\n    });\n  }).catch(function (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n    return LOWEST_SEQ;\n  });\n};\n// This checkpoint comparison is ported from CouchDBs source\n// they come from here:\n// https://github.com/apache/couchdb-couch-replicator/blob/master/src/couch_replicator.erl#L863-L906\n\nfunction compareReplicationLogs(srcDoc, tgtDoc) {\n  if (srcDoc.session_id === tgtDoc.session_id) {\n    return {\n      last_seq: srcDoc.last_seq,\n      history: srcDoc.history\n    };\n  }\n\n  return compareReplicationHistory(srcDoc.history, tgtDoc.history);\n}\n\nfunction compareReplicationHistory(sourceHistory, targetHistory) {\n  // the erlang loop via function arguments is not so easy to repeat in JS\n  // therefore, doing this as recursion\n  var S = sourceHistory[0];\n  var sourceRest = sourceHistory.slice(1);\n  var T = targetHistory[0];\n  var targetRest = targetHistory.slice(1);\n\n  if (!S || targetHistory.length === 0) {\n    return {\n      last_seq: LOWEST_SEQ,\n      history: []\n    };\n  }\n\n  var sourceId = S.session_id;\n  /* istanbul ignore if */\n  if (hasSessionId(sourceId, targetHistory)) {\n    return {\n      last_seq: S.last_seq,\n      history: sourceHistory\n    };\n  }\n\n  var targetId = T.session_id;\n  if (hasSessionId(targetId, sourceRest)) {\n    return {\n      last_seq: T.last_seq,\n      history: targetRest\n    };\n  }\n\n  return compareReplicationHistory(sourceRest, targetRest);\n}\n\nfunction hasSessionId(sessionId, history) {\n  var props = history[0];\n  var rest = history.slice(1);\n\n  if (!sessionId || history.length === 0) {\n    return false;\n  }\n\n  if (sessionId === props.session_id) {\n    return true;\n  }\n\n  return hasSessionId(sessionId, rest);\n}\n\nfunction isForbiddenError(err) {\n  return typeof err.status === 'number' && Math.floor(err.status / 100) === 4;\n}\n\nvar STARTING_BACK_OFF = 0;\n\nfunction backOff(opts, returnValue, error, callback) {\n  if (opts.retry === false) {\n    returnValue.emit('error', error);\n    returnValue.removeAllListeners();\n    return;\n  }\n  /* istanbul ignore if */\n  if (typeof opts.back_off_function !== 'function') {\n    opts.back_off_function = defaultBackOff;\n  }\n  returnValue.emit('requestError', error);\n  if (returnValue.state === 'active' || returnValue.state === 'pending') {\n    returnValue.emit('paused', error);\n    returnValue.state = 'stopped';\n    var backOffSet = function backoffTimeSet() {\n      opts.current_back_off = STARTING_BACK_OFF;\n    };\n    var removeBackOffSetter = function removeBackOffTimeSet() {\n      returnValue.removeListener('active', backOffSet);\n    };\n    returnValue.once('paused', removeBackOffSetter);\n    returnValue.once('active', backOffSet);\n  }\n\n  opts.current_back_off = opts.current_back_off || STARTING_BACK_OFF;\n  opts.current_back_off = opts.back_off_function(opts.current_back_off);\n  setTimeout(callback, opts.current_back_off);\n}\n\nfunction sortObjectPropertiesByKey(queryParams) {\n  return Object.keys(queryParams).sort(collate).reduce(function (result, key) {\n    result[key] = queryParams[key];\n    return result;\n  }, {});\n}\n\n// Generate a unique id particular to this replication.\n// Not guaranteed to align perfectly with CouchDB's rep ids.\nfunction generateReplicationId(src, target, opts) {\n  var docIds = opts.doc_ids ? opts.doc_ids.sort(collate) : '';\n  var filterFun = opts.filter ? opts.filter.toString() : '';\n  var queryParams = '';\n  var filterViewName =  '';\n  var selector = '';\n\n  // possibility for checkpoints to be lost here as behaviour of\n  // JSON.stringify is not stable (see #6226)\n  /* istanbul ignore if */\n  if (opts.selector) {\n    selector = JSON.stringify(opts.selector);\n  }\n\n  if (opts.filter && opts.query_params) {\n    queryParams = JSON.stringify(sortObjectPropertiesByKey(opts.query_params));\n  }\n\n  if (opts.filter && opts.filter === '_view') {\n    filterViewName = opts.view.toString();\n  }\n\n  return Promise.all([src.id(), target.id()]).then(function (res) {\n    var queryData = res[0] + res[1] + filterFun + filterViewName +\n      queryParams + docIds + selector;\n    return new Promise(function (resolve) {\n      binaryMd5(queryData, resolve);\n    });\n  }).then(function (md5sum) {\n    // can't use straight-up md5 alphabet, because\n    // the char '/' is interpreted as being for attachments,\n    // and + is also not url-safe\n    md5sum = md5sum.replace(/\\//g, '.').replace(/\\+/g, '_');\n    return '_local/' + md5sum;\n  });\n}\n\nfunction replicate(src, target, opts, returnValue, result) {\n  var batches = [];               // list of batches to be processed\n  var currentBatch;               // the batch currently being processed\n  var pendingBatch = {\n    seq: 0,\n    changes: [],\n    docs: []\n  }; // next batch, not yet ready to be processed\n  var writingCheckpoint = false;  // true while checkpoint is being written\n  var changesCompleted = false;   // true when all changes received\n  var replicationCompleted = false; // true when replication has completed\n  var last_seq = 0;\n  var continuous = opts.continuous || opts.live || false;\n  var batch_size = opts.batch_size || 100;\n  var batches_limit = opts.batches_limit || 10;\n  var changesPending = false;     // true while src.changes is running\n  var doc_ids = opts.doc_ids;\n  var selector = opts.selector;\n  var repId;\n  var checkpointer;\n  var changedDocs = [];\n  // Like couchdb, every replication gets a unique session id\n  var session = uuid();\n\n  result = result || {\n    ok: true,\n    start_time: new Date().toISOString(),\n    docs_read: 0,\n    docs_written: 0,\n    doc_write_failures: 0,\n    errors: []\n  };\n\n  var changesOpts = {};\n  returnValue.ready(src, target);\n\n  function initCheckpointer() {\n    if (checkpointer) {\n      return Promise.resolve();\n    }\n    return generateReplicationId(src, target, opts).then(function (res) {\n      repId = res;\n\n      var checkpointOpts = {};\n      if (opts.checkpoint === false) {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'source') {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'target') {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: true };\n      } else {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: true };\n      }\n\n      checkpointer = new Checkpointer(src, target, repId, returnValue, checkpointOpts);\n    });\n  }\n\n  function writeDocs() {\n    changedDocs = [];\n\n    if (currentBatch.docs.length === 0) {\n      return;\n    }\n    var docs = currentBatch.docs;\n    var bulkOpts = {timeout: opts.timeout};\n    return target.bulkDocs({docs: docs, new_edits: false}, bulkOpts).then(function (res) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n\n      // `res` doesn't include full documents (which live in `docs`), so we create a map of \n      // (id -> error), and check for errors while iterating over `docs`\n      var errorsById = Object.create(null);\n      res.forEach(function (res) {\n        if (res.error) {\n          errorsById[res.id] = res;\n        }\n      });\n\n      var errorsNo = Object.keys(errorsById).length;\n      result.doc_write_failures += errorsNo;\n      result.docs_written += docs.length - errorsNo;\n\n      docs.forEach(function (doc) {\n        var error = errorsById[doc._id];\n        if (error) {\n          result.errors.push(error);\n          // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n          var errorName = (error.name || '').toLowerCase();\n          if (errorName === 'unauthorized' || errorName === 'forbidden') {\n            returnValue.emit('denied', clone(error));\n          } else {\n            throw error;\n          }\n        } else {\n          changedDocs.push(doc);\n        }\n      });\n\n    }, function (err) {\n      result.doc_write_failures += docs.length;\n      throw err;\n    });\n  }\n\n  function finishBatch() {\n    if (currentBatch.error) {\n      throw new Error('There was a problem getting docs.');\n    }\n    result.last_seq = last_seq = currentBatch.seq;\n    var outResult = clone(result);\n    if (changedDocs.length) {\n      outResult.docs = changedDocs;\n      // Attach 'pending' property if server supports it (CouchDB 2.0+)\n      /* istanbul ignore if */\n      if (typeof currentBatch.pending === 'number') {\n        outResult.pending = currentBatch.pending;\n        delete currentBatch.pending;\n      }\n      returnValue.emit('change', outResult);\n    }\n    writingCheckpoint = true;\n    return checkpointer.writeCheckpoint(currentBatch.seq,\n        session).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      currentBatch = undefined;\n      getChanges();\n    }).catch(function (err) {\n      onCheckpointError(err);\n      throw err;\n    });\n  }\n\n  function getDiffs() {\n    var diff = {};\n    currentBatch.changes.forEach(function (change) {\n      // Couchbase Sync Gateway emits these, but we can ignore them\n      /* istanbul ignore if */\n      if (change.id === \"_user/\") {\n        return;\n      }\n      diff[change.id] = change.changes.map(function (x) {\n        return x.rev;\n      });\n    });\n    return target.revsDiff(diff).then(function (diffs) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      // currentBatch.diffs elements are deleted as the documents are written\n      currentBatch.diffs = diffs;\n    });\n  }\n\n  function getBatchDocs() {\n    return getDocs(src, target, currentBatch.diffs, returnValue).then(function (got) {\n      currentBatch.error = !got.ok;\n      got.docs.forEach(function (doc) {\n        delete currentBatch.diffs[doc._id];\n        result.docs_read++;\n        currentBatch.docs.push(doc);\n      });\n    });\n  }\n\n  function startNextBatch() {\n    if (returnValue.cancelled || currentBatch) {\n      return;\n    }\n    if (batches.length === 0) {\n      processPendingBatch(true);\n      return;\n    }\n    currentBatch = batches.shift();\n    getDiffs()\n      .then(getBatchDocs)\n      .then(writeDocs)\n      .then(finishBatch)\n      .then(startNextBatch)\n      .catch(function (err) {\n        abortReplication('batch processing terminated with error', err);\n      });\n  }\n\n\n  function processPendingBatch(immediate) {\n    if (pendingBatch.changes.length === 0) {\n      if (batches.length === 0 && !currentBatch) {\n        if ((continuous && changesOpts.live) || changesCompleted) {\n          returnValue.state = 'pending';\n          returnValue.emit('paused');\n        }\n        if (changesCompleted) {\n          completeReplication();\n        }\n      }\n      return;\n    }\n    if (\n      immediate ||\n      changesCompleted ||\n      pendingBatch.changes.length >= batch_size\n    ) {\n      batches.push(pendingBatch);\n      pendingBatch = {\n        seq: 0,\n        changes: [],\n        docs: []\n      };\n      if (returnValue.state === 'pending' || returnValue.state === 'stopped') {\n        returnValue.state = 'active';\n        returnValue.emit('active');\n      }\n      startNextBatch();\n    }\n  }\n\n\n  function abortReplication(reason, err) {\n    if (replicationCompleted) {\n      return;\n    }\n    if (!err.message) {\n      err.message = reason;\n    }\n    result.ok = false;\n    result.status = 'aborting';\n    batches = [];\n    pendingBatch = {\n      seq: 0,\n      changes: [],\n      docs: []\n    };\n    completeReplication(err);\n  }\n\n\n  function completeReplication(fatalError) {\n    if (replicationCompleted) {\n      return;\n    }\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      result.status = 'cancelled';\n      if (writingCheckpoint) {\n        return;\n      }\n    }\n    result.status = result.status || 'complete';\n    result.end_time = new Date().toISOString();\n    result.last_seq = last_seq;\n    replicationCompleted = true;\n\n    if (fatalError) {\n      // need to extend the error because Firefox considers \".result\" read-only\n      fatalError = createError(fatalError);\n      fatalError.result = result;\n\n      // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n      var errorName = (fatalError.name || '').toLowerCase();\n      if (errorName === 'unauthorized' || errorName === 'forbidden') {\n        returnValue.emit('error', fatalError);\n        returnValue.removeAllListeners();\n      } else {\n        backOff(opts, returnValue, fatalError, function () {\n          replicate(src, target, opts, returnValue);\n        });\n      }\n    } else {\n      returnValue.emit('complete', result);\n      returnValue.removeAllListeners();\n    }\n  }\n\n\n  function onChange(change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    // Attach 'pending' property if server supports it (CouchDB 2.0+)\n    /* istanbul ignore if */\n    if (typeof pending === 'number') {\n      pendingBatch.pending = pending;\n    }\n\n    var filter = filterChange(opts)(change);\n    if (!filter) {\n      return;\n    }\n    pendingBatch.seq = change.seq || lastSeq;\n    pendingBatch.changes.push(change);\n    nextTick(function () {\n      processPendingBatch(batches.length === 0 && changesOpts.live);\n    });\n  }\n\n\n  function onChangesComplete(changes) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n\n    // if no results were returned then we're done,\n    // else fetch more\n    if (changes.results.length > 0) {\n      changesOpts.since = changes.results[changes.results.length - 1].seq;\n      getChanges();\n      processPendingBatch(true);\n    } else {\n\n      var complete = function () {\n        if (continuous) {\n          changesOpts.live = true;\n          getChanges();\n        } else {\n          changesCompleted = true;\n        }\n        processPendingBatch(true);\n      };\n\n      // update the checkpoint so we start from the right seq next time\n      if (!currentBatch && changes.results.length === 0) {\n        writingCheckpoint = true;\n        checkpointer.writeCheckpoint(changes.last_seq,\n            session).then(function () {\n          writingCheckpoint = false;\n          result.last_seq = last_seq = changes.last_seq;\n          complete();\n        })\n        .catch(onCheckpointError);\n      } else {\n        complete();\n      }\n    }\n  }\n\n\n  function onChangesError(err) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    abortReplication('changes rejected', err);\n  }\n\n\n  function getChanges() {\n    if (!(\n      !changesPending &&\n      !changesCompleted &&\n      batches.length < batches_limit\n      )) {\n      return;\n    }\n    changesPending = true;\n    function abortChanges() {\n      changes.cancel();\n    }\n    function removeListener() {\n      returnValue.removeListener('cancel', abortChanges);\n    }\n\n    if (returnValue._changes) { // remove old changes() and listeners\n      returnValue.removeListener('cancel', returnValue._abortChanges);\n      returnValue._changes.cancel();\n    }\n    returnValue.once('cancel', abortChanges);\n\n    var changes = src.changes(changesOpts)\n      .on('change', onChange);\n    changes.then(removeListener, removeListener);\n    changes.then(onChangesComplete)\n      .catch(onChangesError);\n\n    if (opts.retry) {\n      // save for later so we can cancel if necessary\n      returnValue._changes = changes;\n      returnValue._abortChanges = abortChanges;\n    }\n  }\n\n\n  function startChanges() {\n    initCheckpointer().then(function () {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      return checkpointer.getCheckpoint().then(function (checkpoint) {\n        last_seq = checkpoint;\n        changesOpts = {\n          since: last_seq,\n          limit: batch_size,\n          batch_size: batch_size,\n          style: 'all_docs',\n          doc_ids: doc_ids,\n          selector: selector,\n          return_docs: true // required so we know when we're done\n        };\n        if (opts.filter) {\n          if (typeof opts.filter !== 'string') {\n            // required for the client-side filter in onChange\n            changesOpts.include_docs = true;\n          } else { // ddoc filter\n            changesOpts.filter = opts.filter;\n          }\n        }\n        if ('heartbeat' in opts) {\n          changesOpts.heartbeat = opts.heartbeat;\n        }\n        if ('timeout' in opts) {\n          changesOpts.timeout = opts.timeout;\n        }\n        if (opts.query_params) {\n          changesOpts.query_params = opts.query_params;\n        }\n        if (opts.view) {\n          changesOpts.view = opts.view;\n        }\n        getChanges();\n      });\n    }).catch(function (err) {\n      abortReplication('getCheckpoint rejected with ', err);\n    });\n  }\n\n  /* istanbul ignore next */\n  function onCheckpointError(err) {\n    writingCheckpoint = false;\n    abortReplication('writeCheckpoint completed with error', err);\n  }\n\n  /* istanbul ignore if */\n  if (returnValue.cancelled) { // cancelled immediately\n    completeReplication();\n    return;\n  }\n\n  if (!returnValue._addedListeners) {\n    returnValue.once('cancel', completeReplication);\n\n    if (typeof opts.complete === 'function') {\n      returnValue.once('error', opts.complete);\n      returnValue.once('complete', function (result) {\n        opts.complete(null, result);\n      });\n    }\n    returnValue._addedListeners = true;\n  }\n\n  if (typeof opts.since === 'undefined') {\n    startChanges();\n  } else {\n    initCheckpointer().then(function () {\n      writingCheckpoint = true;\n      return checkpointer.writeCheckpoint(opts.since, session);\n    }).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      last_seq = opts.since;\n      startChanges();\n    }).catch(onCheckpointError);\n  }\n}\n\n// We create a basic promise so the caller can cancel the replication possibly\n// before we have actually started listening to changes etc\ninherits(Replication, EventEmitter);\nfunction Replication() {\n  EventEmitter.call(this);\n  this.cancelled = false;\n  this.state = 'pending';\n  var self = this;\n  var promise = new Promise(function (fulfill, reject) {\n    self.once('complete', fulfill);\n    self.once('error', reject);\n  });\n  self.then = function (resolve, reject) {\n    return promise.then(resolve, reject);\n  };\n  self.catch = function (reject) {\n    return promise.catch(reject);\n  };\n  // As we allow error handling via \"error\" event as well,\n  // put a stub in here so that rejecting never throws UnhandledError.\n  self.catch(function () {});\n}\n\nReplication.prototype.cancel = function () {\n  this.cancelled = true;\n  this.state = 'cancelled';\n  this.emit('cancel');\n};\n\nReplication.prototype.ready = function (src, target) {\n  var self = this;\n  if (self._readyCalled) {\n    return;\n  }\n  self._readyCalled = true;\n\n  function onDestroy() {\n    self.cancel();\n  }\n  src.once('destroyed', onDestroy);\n  target.once('destroyed', onDestroy);\n  function cleanup() {\n    src.removeListener('destroyed', onDestroy);\n    target.removeListener('destroyed', onDestroy);\n  }\n  self.once('complete', cleanup);\n};\n\nfunction toPouch(db, opts) {\n  var PouchConstructor = opts.PouchConstructor;\n  if (typeof db === 'string') {\n    return new PouchConstructor(db, opts);\n  } else {\n    return db;\n  }\n}\n\nfunction replicateWrapper(src, target, opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n\n  if (opts.doc_ids && !Array.isArray(opts.doc_ids)) {\n    throw createError(BAD_REQUEST,\n                       \"`doc_ids` filter parameter is not a list.\");\n  }\n\n  opts.complete = callback;\n  opts = clone(opts);\n  opts.continuous = opts.continuous || opts.live;\n  opts.retry = ('retry' in opts) ? opts.retry : false;\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  var replicateRet = new Replication(opts);\n  var srcPouch = toPouch(src, opts);\n  var targetPouch = toPouch(target, opts);\n  replicate(srcPouch, targetPouch, opts, replicateRet);\n  return replicateRet;\n}\n\ninherits(Sync, EventEmitter);\nfunction sync(src, target, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n  opts = clone(opts);\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  src = toPouch(src, opts);\n  target = toPouch(target, opts);\n  return new Sync(src, target, opts, callback);\n}\n\nfunction Sync(src, target, opts, callback) {\n  var self = this;\n  this.canceled = false;\n\n  var optsPush = opts.push ? $inject_Object_assign({}, opts, opts.push) : opts;\n  var optsPull = opts.pull ? $inject_Object_assign({}, opts, opts.pull) : opts;\n\n  this.push = replicateWrapper(src, target, optsPush);\n  this.pull = replicateWrapper(target, src, optsPull);\n\n  this.pushPaused = true;\n  this.pullPaused = true;\n\n  function pullChange(change) {\n    self.emit('change', {\n      direction: 'pull',\n      change: change\n    });\n  }\n  function pushChange(change) {\n    self.emit('change', {\n      direction: 'push',\n      change: change\n    });\n  }\n  function pushDenied(doc) {\n    self.emit('denied', {\n      direction: 'push',\n      doc: doc\n    });\n  }\n  function pullDenied(doc) {\n    self.emit('denied', {\n      direction: 'pull',\n      doc: doc\n    });\n  }\n  function pushPaused() {\n    self.pushPaused = true;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('paused');\n    }\n  }\n  function pullPaused() {\n    self.pullPaused = true;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('paused');\n    }\n  }\n  function pushActive() {\n    self.pushPaused = false;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('active', {\n        direction: 'push'\n      });\n    }\n  }\n  function pullActive() {\n    self.pullPaused = false;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('active', {\n        direction: 'pull'\n      });\n    }\n  }\n\n  var removed = {};\n\n  function removeAll(type) { // type is 'push' or 'pull'\n    return function (event, func) {\n      var isChange = event === 'change' &&\n        (func === pullChange || func === pushChange);\n      var isDenied = event === 'denied' &&\n        (func === pullDenied || func === pushDenied);\n      var isPaused = event === 'paused' &&\n        (func === pullPaused || func === pushPaused);\n      var isActive = event === 'active' &&\n        (func === pullActive || func === pushActive);\n\n      if (isChange || isDenied || isPaused || isActive) {\n        if (!(event in removed)) {\n          removed[event] = {};\n        }\n        removed[event][type] = true;\n        if (Object.keys(removed[event]).length === 2) {\n          // both push and pull have asked to be removed\n          self.removeAllListeners(event);\n        }\n      }\n    };\n  }\n\n  if (opts.live) {\n    this.push.on('complete', self.pull.cancel.bind(self.pull));\n    this.pull.on('complete', self.push.cancel.bind(self.push));\n  }\n\n  function addOneListener(ee, event, listener) {\n    if (ee.listeners(event).indexOf(listener) == -1) {\n      ee.on(event, listener);\n    }\n  }\n\n  this.on('newListener', function (event) {\n    if (event === 'change') {\n      addOneListener(self.pull, 'change', pullChange);\n      addOneListener(self.push, 'change', pushChange);\n    } else if (event === 'denied') {\n      addOneListener(self.pull, 'denied', pullDenied);\n      addOneListener(self.push, 'denied', pushDenied);\n    } else if (event === 'active') {\n      addOneListener(self.pull, 'active', pullActive);\n      addOneListener(self.push, 'active', pushActive);\n    } else if (event === 'paused') {\n      addOneListener(self.pull, 'paused', pullPaused);\n      addOneListener(self.push, 'paused', pushPaused);\n    }\n  });\n\n  this.on('removeListener', function (event) {\n    if (event === 'change') {\n      self.pull.removeListener('change', pullChange);\n      self.push.removeListener('change', pushChange);\n    } else if (event === 'denied') {\n      self.pull.removeListener('denied', pullDenied);\n      self.push.removeListener('denied', pushDenied);\n    } else if (event === 'active') {\n      self.pull.removeListener('active', pullActive);\n      self.push.removeListener('active', pushActive);\n    } else if (event === 'paused') {\n      self.pull.removeListener('paused', pullPaused);\n      self.push.removeListener('paused', pushPaused);\n    }\n  });\n\n  this.pull.on('removeListener', removeAll('pull'));\n  this.push.on('removeListener', removeAll('push'));\n\n  var promise = Promise.all([\n    this.push,\n    this.pull\n  ]).then(function (resp) {\n    var out = {\n      push: resp[0],\n      pull: resp[1]\n    };\n    self.emit('complete', out);\n    if (callback) {\n      callback(null, out);\n    }\n    self.removeAllListeners();\n    return out;\n  }, function (err) {\n    self.cancel();\n    if (callback) {\n      // if there's a callback, then the callback can receive\n      // the error event\n      callback(err);\n    } else {\n      // if there's no callback, then we're safe to emit an error\n      // event, which would otherwise throw an unhandled error\n      // due to 'error' being a special event in EventEmitters\n      self.emit('error', err);\n    }\n    self.removeAllListeners();\n    if (callback) {\n      // no sense throwing if we're already emitting an 'error' event\n      throw err;\n    }\n  });\n\n  this.then = function (success, err) {\n    return promise.then(success, err);\n  };\n\n  this.catch = function (err) {\n    return promise.catch(err);\n  };\n}\n\nSync.prototype.cancel = function () {\n  if (!this.canceled) {\n    this.canceled = true;\n    this.push.cancel();\n    this.pull.cancel();\n  }\n};\n\nfunction replication(PouchDB) {\n  PouchDB.replicate = replicateWrapper;\n  PouchDB.sync = sync;\n\n  Object.defineProperty(PouchDB.prototype, 'replicate', {\n    get: function () {\n      var self = this;\n      if (typeof this.replicateMethods === 'undefined') {\n        this.replicateMethods = {\n          from: function (other, opts, callback) {\n            return self.constructor.replicate(other, self, opts, callback);\n          },\n          to: function (other, opts, callback) {\n            return self.constructor.replicate(self, other, opts, callback);\n          }\n        };\n      }\n      return this.replicateMethods;\n    }\n  });\n\n  PouchDB.prototype.sync = function (dbName, opts, callback) {\n    return this.constructor.sync(this, dbName, opts, callback);\n  };\n}\n\nPouchDB.plugin(IDBPouch)\n  .plugin(HttpPouch$1)\n  .plugin(mapreduce)\n  .plugin(replication);\n\nexport default PouchDB;\n","// Create a simple path alias to allow browserify to resolve\n// the runtime on a supported path.\nmodule.exports = require('./dist/cjs/handlebars.runtime')['default'];\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _handlebarsBase = require('./handlebars/base');\n\nvar base = _interopRequireWildcard(_handlebarsBase);\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\nvar _handlebarsSafeString = require('./handlebars/safe-string');\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = require('./handlebars/exception');\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = require('./handlebars/utils');\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = require('./handlebars/runtime');\n\nvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = require('./handlebars/no-conflict');\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  var hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function (spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\n\nexports['default'] = inst;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultHelpers = registerDefaultHelpers;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersBlockHelperMissing = require('./helpers/block-helper-missing');\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = require('./helpers/each');\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = require('./helpers/helper-missing');\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = require('./helpers/if');\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = require('./helpers/log');\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = require('./helpers/lookup');\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = require('./helpers/with');\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n  _helpersEach2['default'](instance);\n  _helpersHelperMissing2['default'](instance);\n  _helpersIf2['default'](instance);\n  _helpersLog2['default'](instance);\n  _helpersLookup2['default'](instance);\n  _helpersWith2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7eUNBQXVDLGdDQUFnQzs7OzsyQkFDOUMsZ0JBQWdCOzs7O29DQUNQLDBCQUEwQjs7Ozt5QkFDckMsY0FBYzs7OzswQkFDYixlQUFlOzs7OzZCQUNaLGtCQUFrQjs7OzsyQkFDcEIsZ0JBQWdCOzs7O0FBRWxDLFNBQVMsc0JBQXNCLENBQUMsUUFBUSxFQUFFO0FBQy9DLHlDQUEyQixRQUFRLENBQUMsQ0FBQztBQUNyQywyQkFBYSxRQUFRLENBQUMsQ0FBQztBQUN2QixvQ0FBc0IsUUFBUSxDQUFDLENBQUM7QUFDaEMseUJBQVcsUUFBUSxDQUFDLENBQUM7QUFDckIsMEJBQVksUUFBUSxDQUFDLENBQUM7QUFDdEIsNkJBQWUsUUFBUSxDQUFDLENBQUM7QUFDekIsMkJBQWEsUUFBUSxDQUFDLENBQUM7Q0FDeEIiLCJmaWxlIjoiaGVscGVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWdpc3RlckJsb2NrSGVscGVyTWlzc2luZyBmcm9tICcuL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcnO1xuaW1wb3J0IHJlZ2lzdGVyRWFjaCBmcm9tICcuL2hlbHBlcnMvZWFjaCc7XG5pbXBvcnQgcmVnaXN0ZXJIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJJZiBmcm9tICcuL2hlbHBlcnMvaWYnO1xuaW1wb3J0IHJlZ2lzdGVyTG9nIGZyb20gJy4vaGVscGVycy9sb2cnO1xuaW1wb3J0IHJlZ2lzdGVyTG9va3VwIGZyb20gJy4vaGVscGVycy9sb29rdXAnO1xuaW1wb3J0IHJlZ2lzdGVyV2l0aCBmcm9tICcuL2hlbHBlcnMvd2l0aCc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRlZmF1bHRIZWxwZXJzKGluc3RhbmNlKSB7XG4gIHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJFYWNoKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJIZWxwZXJNaXNzaW5nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJJZihpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyTG9nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb29rdXAoaW5zdGFuY2UpO1xuICByZWdpc3RlcldpdGgoaW5zdGFuY2UpO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBc0QsVUFBVTs7cUJBRWpELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQ3pCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVwQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzdFLGVBQU8sR0FBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FBQztPQUN4Qjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGNyZWF0ZUZyYW1lLCBpc0FycmF5fSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdibG9ja0hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgbGV0IGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5uYW1lKTtcbiAgICAgICAgb3B0aW9ucyA9IHtkYXRhOiBkYXRhfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else {\n        var priorKey = undefined;\n\n        for (var key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQUErRSxVQUFVOzt5QkFDbkUsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksQ0FBQyxPQUFPLEVBQUU7QUFDWixZQUFNLDJCQUFjLDZCQUE2QixDQUFDLENBQUM7S0FDcEQ7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUU7UUFDZixPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU87UUFDekIsQ0FBQyxHQUFHLENBQUM7UUFDTCxHQUFHLEdBQUcsRUFBRTtRQUNSLElBQUksWUFBQTtRQUNKLFdBQVcsWUFBQSxDQUFDOztBQUVoQixRQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixpQkFBVyxHQUFHLHlCQUFrQixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0tBQ2pGOztBQUVELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOztBQUUxRCxRQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDaEIsVUFBSSxHQUFHLG1CQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNsQzs7QUFFRCxhQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtBQUN6QyxVQUFJLElBQUksRUFBRTtBQUNSLFlBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ2pCLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ25CLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQztBQUN6QixZQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7O0FBRW5CLFlBQUksV0FBVyxFQUFFO0FBQ2YsY0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLEdBQUcsS0FBSyxDQUFDO1NBQ3hDO09BQ0Y7O0FBRUQsU0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFlBQUksRUFBRSxJQUFJO0FBQ1YsbUJBQVcsRUFBRSxtQkFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7T0FDL0UsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNO0FBQ0wsWUFBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixhQUFLLElBQUksR0FBRyxJQUFJLE9BQU8sRUFBRTtBQUN2QixjQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Ozs7QUFJL0IsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0w7U0FDRjtBQUNELFlBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQix1QkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ3RDO09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGJsb2NrUGFyYW1zLCBjcmVhdGVGcmFtZSwgaXNBcnJheSwgaXNGdW5jdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICAgIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICByZXQgPSAnJyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgY29udGV4dFBhdGg7XG5cbiAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pICsgJy4nO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7IGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7IH1cblxuICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4ZWNJdGVyYXRpb24oZmllbGQsIGluZGV4LCBsYXN0KSB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBkYXRhLmtleSA9IGZpZWxkO1xuICAgICAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGRhdGEuZmlyc3QgPSBpbmRleCA9PT0gMDtcbiAgICAgICAgZGF0YS5sYXN0ID0gISFsYXN0O1xuXG4gICAgICAgIGlmIChjb250ZXh0UGF0aCkge1xuICAgICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBjb250ZXh0UGF0aCArIGZpZWxkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldCA9IHJldCArIGZuKGNvbnRleHRbZmllbGRdLCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dFtmaWVsZF0sIGZpZWxkXSwgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSBpbiBjb250ZXh0KSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJpb3JLZXk7XG5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIGNvbnRleHQpIHtcbiAgICAgICAgICBpZiAoY29udGV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAvLyBXZSdyZSBydW5uaW5nIHRoZSBpdGVyYXRpb25zIG9uZSBzdGVwIG91dCBvZiBzeW5jIHNvIHdlIGNhbiBkZXRlY3RcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IGl0ZXJhdGlvbiB3aXRob3V0IGhhdmUgdG8gc2NhbiB0aGUgb2JqZWN0IHR3aWNlIGFuZCBjcmVhdGVcbiAgICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgICBpZiAocHJpb3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmlvcktleSA9IGtleTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFBYyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDdkY7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ01pc3NpbmcgaGVscGVyOiBcIicgKyBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdLm5hbWUgKyAnXCInKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function (conditional, options) {\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBa0MsVUFBVTs7cUJBRTdCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLGtCQUFXLFdBQVcsQ0FBQyxFQUFFO0FBQUUsaUJBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQUU7Ozs7O0FBS3RFLFFBQUksQUFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxJQUFLLGVBQVEsV0FBVyxDQUFDLEVBQUU7QUFDdkUsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekI7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9ELFdBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxFQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztHQUN2SCxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJpZi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aXNFbXB0eSwgaXNGdW5jdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaWYnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChpc0Z1bmN0aW9uKGNvbmRpdGlvbmFsKSkgeyBjb25kaXRpb25hbCA9IGNvbmRpdGlvbmFsLmNhbGwodGhpcyk7IH1cblxuICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgaXMgdG8gcmVuZGVyIHRoZSBwb3NpdGl2ZSBwYXRoIGlmIHRoZSB2YWx1ZSBpcyB0cnV0aHkgYW5kIG5vdCBlbXB0eS5cbiAgICAvLyBUaGUgYGluY2x1ZGVaZXJvYCBvcHRpb24gbWF5IGJlIHNldCB0byB0cmVhdCB0aGUgY29uZHRpb25hbCBhcyBwdXJlbHkgbm90IGVtcHR5IGJhc2VkIG9uIHRoZVxuICAgIC8vIGJlaGF2aW9yIG9mIGlzRW1wdHkuIEVmZmVjdGl2ZWx5IHRoaXMgZGV0ZXJtaW5lcyBpZiAwIGlzIGhhbmRsZWQgYnkgdGhlIHBvc2l0aXZlIHBhdGggb3IgbmVnYXRpdmUuXG4gICAgaWYgKCghb3B0aW9ucy5oYXNoLmluY2x1ZGVaZXJvICYmICFjb25kaXRpb25hbCkgfHwgaXNFbXB0eShjb25kaXRpb25hbCkpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3VubGVzcycsIGZ1bmN0aW9uKGNvbmRpdGlvbmFsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwge2ZuOiBvcHRpb25zLmludmVyc2UsIGludmVyc2U6IG9wdGlvbnMuZm4sIGhhc2g6IG9wdGlvbnMuaGFzaH0pO1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM5QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVMsSUFBSSxDQUFDLENBQUM7R0FDeEIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIGxldCBsZXZlbCA9IDE7XG4gICAgaWYgKG9wdGlvbnMuaGFzaC5sZXZlbCAhPSBudWxsKSB7XG4gICAgICBsZXZlbCA9IG9wdGlvbnMuaGFzaC5sZXZlbDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGEubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmRhdGEubGV2ZWw7XG4gICAgfVxuICAgIGFyZ3NbMF0gPSBsZXZlbDtcblxuICAgIGluc3RhbmNlLmxvZyguLi4gYXJncyk7XG4gIH0pO1xufVxuIl19\n","var parser = require('graphql/language/parser');\n\nvar parse = parser.parse;\n\n// Strip insignificant whitespace\n// Note that this could do a lot more, such as reorder fields etc.\nfunction normalize(string) {\n  return string.replace(/[\\s,]+/g, ' ').trim();\n}\n\n// A map docString -> graphql document\nvar docCache = {};\n\n// A map fragmentName -> [normalized source]\nvar fragmentSourceMap = {};\n\nfunction cacheKeyFromLoc(loc) {\n  return normalize(loc.source.body.substring(loc.start, loc.end));\n}\n\n// For testing.\nfunction resetCaches() {\n  docCache = {};\n  fragmentSourceMap = {};\n}\n\n// Take a unstripped parsed document (query/mutation or even fragment), and\n// check all fragment definitions, checking for name->source uniqueness.\n// We also want to make sure only unique fragments exist in the document.\nvar printFragmentWarnings = true;\nfunction processFragments(ast) {\n  var astFragmentMap = {};\n  var definitions = [];\n\n  for (var i = 0; i < ast.definitions.length; i++) {\n    var fragmentDefinition = ast.definitions[i];\n\n    if (fragmentDefinition.kind === 'FragmentDefinition') {\n      var fragmentName = fragmentDefinition.name.value;\n      var sourceKey = cacheKeyFromLoc(fragmentDefinition.loc);\n\n      // We know something about this fragment\n      if (fragmentSourceMap.hasOwnProperty(fragmentName) && !fragmentSourceMap[fragmentName][sourceKey]) {\n\n        // this is a problem because the app developer is trying to register another fragment with\n        // the same name as one previously registered. So, we tell them about it.\n        if (printFragmentWarnings) {\n          console.warn(\"Warning: fragment with name \" + fragmentName + \" already exists.\\n\"\n            + \"graphql-tag enforces all fragment names across your application to be unique; read more about\\n\"\n            + \"this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names\");\n        }\n\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n\n      } else if (!fragmentSourceMap.hasOwnProperty(fragmentName)) {\n        fragmentSourceMap[fragmentName] = {};\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n      }\n\n      if (!astFragmentMap[sourceKey]) {\n        astFragmentMap[sourceKey] = true;\n        definitions.push(fragmentDefinition);\n      }\n    } else {\n      definitions.push(fragmentDefinition);\n    }\n  }\n\n  ast.definitions = definitions;\n  return ast;\n}\n\nfunction disableFragmentWarnings() {\n  printFragmentWarnings = false;\n}\n\nfunction stripLoc(doc, removeLocAtThisLevel) {\n  var docType = Object.prototype.toString.call(doc);\n\n  if (docType === '[object Array]') {\n    return doc.map(function (d) {\n      return stripLoc(d, removeLocAtThisLevel);\n    });\n  }\n\n  if (docType !== '[object Object]') {\n    throw new Error('Unexpected input.');\n  }\n\n  // We don't want to remove the root loc field so we can use it\n  // for fragment substitution (see below)\n  if (removeLocAtThisLevel && doc.loc) {\n    delete doc.loc;\n  }\n\n  // https://github.com/apollographql/graphql-tag/issues/40\n  if (doc.loc) {\n    delete doc.loc.startToken;\n    delete doc.loc.endToken;\n  }\n\n  var keys = Object.keys(doc);\n  var key;\n  var value;\n  var valueType;\n\n  for (key in keys) {\n    if (keys.hasOwnProperty(key)) {\n      value = doc[keys[key]];\n      valueType = Object.prototype.toString.call(value);\n\n      if (valueType === '[object Object]' || valueType === '[object Array]') {\n        doc[keys[key]] = stripLoc(value, true);\n      }\n    }\n  }\n\n  return doc;\n}\n\nvar experimentalFragmentVariables = false;\nfunction parseDocument(doc) {\n  var cacheKey = normalize(doc);\n\n  if (docCache[cacheKey]) {\n    return docCache[cacheKey];\n  }\n\n  var parsed = parse(doc, { experimentalFragmentVariables: experimentalFragmentVariables });\n  if (!parsed || parsed.kind !== 'Document') {\n    throw new Error('Not a valid GraphQL document.');\n  }\n\n  // check that all \"new\" fragments inside the documents are consistent with\n  // existing fragments of the same name\n  parsed = processFragments(parsed);\n  parsed = stripLoc(parsed, false);\n  docCache[cacheKey] = parsed;\n\n  return parsed;\n}\n\nfunction enableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = true;\n}\n\nfunction disableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = false;\n}\n\n// XXX This should eventually disallow arbitrary string interpolation, like Relay does\nfunction gql(/* arguments */) {\n  var args = Array.prototype.slice.call(arguments);\n\n  var literals = args[0];\n\n  // We always get literals[0] and then matching post literals for each arg given\n  var result = (typeof(literals) === \"string\") ? literals : literals[0];\n\n  for (var i = 1; i < args.length; i++) {\n    if (args[i] && args[i].kind && args[i].kind === 'Document') {\n      result += args[i].loc.source.body;\n    } else {\n      result += args[i];\n    }\n\n    result += literals[i];\n  }\n\n  return parseDocument(result);\n}\n\n// Support typescript, which isn't as nice as Babel about default exports\ngql.default = gql;\ngql.resetCaches = resetCaches;\ngql.disableFragmentWarnings = disableFragmentWarnings;\ngql.enableExperimentalFragmentVariables = enableExperimentalFragmentVariables;\ngql.disableExperimentalFragmentVariables = disableExperimentalFragmentVariables;\n\nmodule.exports = gql;\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field) {\n    return obj && obj[field];\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQ3JELFdBQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztHQUMxQixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJsb29rdXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9va3VwJywgZnVuY3Rpb24ob2JqLCBmaWVsZCkge1xuICAgIHJldHVybiBvYmogJiYgb2JqW2ZpZWxkXTtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUErRSxVQUFVOztxQkFFMUUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOztBQUUxRCxRQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVwQixRQUFJLENBQUMsZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNyQixVQUFJLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLFVBQUksT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQy9CLFlBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQ2hGOztBQUVELGFBQU8sRUFBRSxDQUFDLE9BQU8sRUFBRTtBQUNqQixZQUFJLEVBQUUsSUFBSTtBQUNWLG1CQUFXLEVBQUUsbUJBQVksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7T0FDaEUsQ0FBQyxDQUFDO0tBQ0osTUFBTTtBQUNMLGFBQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUM5QjtHQUNGLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6IndpdGguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2FwcGVuZENvbnRleHRQYXRoLCBibG9ja1BhcmFtcywgY3JlYXRlRnJhbWUsIGlzRW1wdHksIGlzRnVuY3Rpb259IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHsgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTsgfVxuXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmICghaXNFbXB0eShjb250ZXh0KSkge1xuICAgICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dF0sIFtkYXRhICYmIGRhdGEuY29udGV4dFBhdGhdKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultDecorators = registerDefaultDecorators;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _decoratorsInline = require('./decorators/inline');\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG5cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXFCLFVBQVU7O3FCQUVoQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVyRGVjb3JhdG9yKCdpbmxpbmUnLCBmdW5jdGlvbihmbiwgcHJvcHMsIGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIGxldCByZXQgPSBmbjtcbiAgICBpZiAoIXByb3BzLnBhcnRpYWxzKSB7XG4gICAgICBwcm9wcy5wYXJ0aWFscyA9IHt9O1xuICAgICAgcmV0ID0gZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFydGlhbHMgc3RhY2sgZnJhbWUgcHJpb3IgdG8gZXhlYy5cbiAgICAgICAgbGV0IG9yaWdpbmFsID0gY29udGFpbmVyLnBhcnRpYWxzO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBleHRlbmQoe30sIG9yaWdpbmFsLCBwcm9wcy5wYXJ0aWFscyk7XG4gICAgICAgIGxldCByZXQgPSBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3JpZ2luYWw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHByb3BzLnBhcnRpYWxzW29wdGlvbnMuYXJnc1swXV0gPSBvcHRpb25zLmZuO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('./utils');\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level];\n      if (!console[method]) {\n        // eslint-disable-line no-console\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexports['default'] = logger;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFzQixTQUFTOztBQUUvQixJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7QUFDL0UsVUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxVQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFOztBQUNwQixjQUFNLEdBQUcsS0FBSyxDQUFDO09BQ2hCOzt3Q0FQbUIsT0FBTztBQUFQLGVBQU87OztBQVEzQixhQUFPLENBQUMsTUFBTSxPQUFDLENBQWYsT0FBTyxFQUFZLE9BQU8sQ0FBQyxDQUFDO0tBQzdCO0dBQ0Y7Q0FDRixDQUFDOztxQkFFYSxNQUFNIiwiZmlsZSI6ImxvZ2dlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5kZXhPZn0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWwpIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7ICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIG1ldGhvZCA9ICdsb2cnO1xuICAgICAgfVxuICAgICAgY29uc29sZVttZXRob2RdKC4uLm1lc3NhZ2UpOyAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiJdfQ==\n","// Build out our basic SafeString type\n'use strict';\n\nexports.__esModule = true;\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.checkRevision = checkRevision;\nexports.template = template;\nexports.wrapProgram = wrapProgram;\nexports.resolvePartial = resolvePartial;\nexports.invokePartial = invokePartial;\nexports.noop = noop;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _utils = require('./utils');\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = require('./base');\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision !== currentRevision) {\n    if (compilerRevision < currentRevision) {\n      var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n          compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n      throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n    } else {\n      // Use the embedded version info since the runtime doesn't know about this revision yet\n      throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n    }\n  }\n}\n\nfunction template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as psuedo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n    var result = env.VM.invokePartial.call(this, partial, context, options);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, options);\n    }\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  var container = {\n    strict: function strict(obj, name) {\n      if (!(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj);\n      }\n      return obj[name];\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n      for (var i = 0; i < len; i++) {\n        if (depths[i] && depths[i][name] != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    merge: function merge(param, common) {\n      var obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      container.helpers = container.merge(options.helpers, env.helpers);\n\n      if (templateSpec.usePartial) {\n        container.partials = container.merge(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = container.merge(options.decorators, env.decorators);\n      }\n    } else {\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data);\n      // Wrapper function to get access to currentPartialBlock from the closure\n      var fn = options.fn;\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBQzhCLFFBQVE7O0FBRWxFLFNBQVMsYUFBYSxDQUFDLFlBQVksRUFBRTtBQUMxQyxNQUFNLGdCQUFnQixHQUFHLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztNQUN2RCxlQUFlLDBCQUFvQixDQUFDOztBQUUxQyxNQUFJLGdCQUFnQixLQUFLLGVBQWUsRUFBRTtBQUN4QyxRQUFJLGdCQUFnQixHQUFHLGVBQWUsRUFBRTtBQUN0QyxVQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1VBQ25ELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVELFlBQU0sMkJBQWMseUZBQXlGLEdBQ3ZHLHFEQUFxRCxHQUFHLGVBQWUsR0FBRyxtREFBbUQsR0FBRyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNoSyxNQUFNOztBQUVMLFlBQU0sMkJBQWMsd0ZBQXdGLEdBQ3RHLGlEQUFpRCxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNuRjtHQUNGO0NBQ0Y7O0FBRU0sU0FBUyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTs7QUFFMUMsTUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLFVBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztHQUMxRDtBQUNELE1BQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQ3ZDLFVBQU0sMkJBQWMsMkJBQTJCLEdBQUcsT0FBTyxZQUFZLENBQUMsQ0FBQztHQUN4RTs7QUFFRCxjQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDOzs7O0FBSWxELEtBQUcs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QUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDNUYsU0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDM0I7QUFDRCxTQUFPLElBQUksQ0FBQztDQUNiIiwiZmlsZSI6InJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9leGNlcHRpb24nO1xuaW1wb3J0IHsgQ09NUElMRVJfUkVWSVNJT04sIFJFVklTSU9OX0NIQU5HRVMsIGNyZWF0ZUZyYW1lIH0gZnJvbSAnLi9iYXNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSBjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdIHx8IDEsXG4gICAgICAgIGN1cnJlbnRSZXZpc2lvbiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXG4gIGlmIChjb21waWxlclJldmlzaW9uICE9PSBjdXJyZW50UmV2aXNpb24pIHtcbiAgICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IGN1cnJlbnRSZXZpc2lvbikge1xuICAgICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgdXBkYXRlIHlvdXIgcHJlY29tcGlsZXIgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgcnVudGltZVZlcnNpb25zICsgJykgb3IgZG93bmdyYWRlIHlvdXIgcnVudGltZSB0byBhbiBvbGRlciB2ZXJzaW9uICgnICsgY29tcGlsZXJWZXJzaW9ucyArICcpLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVc2UgdGhlIGVtYmVkZGVkIHZlcnNpb24gaW5mbyBzaW5jZSB0aGUgcnVudGltZSBkb2Vzbid0IGtub3cgYWJvdXQgdGhpcyByZXZpc2lvbiB5ZXRcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGEgbmV3ZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgY29tcGlsZXJJbmZvWzFdICsgJykuJyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIWVudikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ05vIGVudmlyb25tZW50IHBhc3NlZCB0byB0ZW1wbGF0ZScpO1xuICB9XG4gIGlmICghdGVtcGxhdGVTcGVjIHx8ICF0ZW1wbGF0ZVNwZWMubWFpbikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1Vua25vd24gdGVtcGxhdGUgb2JqZWN0OiAnICsgdHlwZW9mIHRlbXBsYXRlU3BlYyk7XG4gIH1cblxuICB0ZW1wbGF0ZVNwZWMubWFpbi5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWMubWFpbl9kO1xuXG4gIC8vIE5vdGU6IFVzaW5nIGVudi5WTSByZWZlcmVuY2VzIHJhdGhlciB0aGFuIGxvY2FsIHZhciByZWZlcmVuY2VzIHRocm91Z2hvdXQgdGhpcyBzZWN0aW9uIHRvIGFsbG93XG4gIC8vIGZvciBleHRlcm5hbCB1c2VycyB0byBvdmVycmlkZSB0aGVzZSBhcyBwc3VlZG8tc3VwcG9ydGVkIEFQSXMuXG4gIGVudi5WTS5jaGVja1JldmlzaW9uKHRlbXBsYXRlU3BlYy5jb21waWxlcik7XG5cbiAgZnVuY3Rpb24gaW52b2tlUGFydGlhbFdyYXBwZXIocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAgIGNvbnRleHQgPSBVdGlscy5leHRlbmQoe30sIGNvbnRleHQsIG9wdGlvbnMuaGFzaCk7XG4gICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgb3B0aW9ucy5pZHNbMF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcbiAgICBsZXQgcmVzdWx0ID0gZW52LlZNLmludm9rZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGlmIChyZXN1bHQgPT0gbnVsbCAmJiBlbnYuY29tcGlsZSkge1xuICAgICAgb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdID0gZW52LmNvbXBpbGUocGFydGlhbCwgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucywgZW52KTtcbiAgICAgIHJlc3VsdCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXShjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbmRlbnQpIHtcbiAgICAgICAgbGV0IGxpbmVzID0gcmVzdWx0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoIWxpbmVzW2ldICYmIGkgKyAxID09PSBsKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5lc1tpXSA9IG9wdGlvbnMuaW5kZW50ICsgbGluZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUaGUgcGFydGlhbCAnICsgb3B0aW9ucy5uYW1lICsgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gSnVzdCBhZGQgd2F0ZXJcbiAgbGV0IGNvbnRhaW5lciA9IHtcbiAgICBzdHJpY3Q6IGZ1bmN0aW9uKG9iaiwgbmFtZSkge1xuICAgICAgaWYgKCEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqW25hbWVdO1xuICAgIH0sXG4gICAgbG9va3VwOiBmdW5jdGlvbihkZXB0aHMsIG5hbWUpIHtcbiAgICAgIGNvbnN0IGxlbiA9IGRlcHRocy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChkZXB0aHNbaV0gJiYgZGVwdGhzW2ldW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW1iZGE6IGZ1bmN0aW9uKGN1cnJlbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGN1cnJlbnQuY2FsbChjb250ZXh0KSA6IGN1cnJlbnQ7XG4gICAgfSxcblxuICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG4gICAgaW52b2tlUGFydGlhbDogaW52b2tlUGFydGlhbFdyYXBwZXIsXG5cbiAgICBmbjogZnVuY3Rpb24oaSkge1xuICAgICAgbGV0IHJldCA9IHRlbXBsYXRlU3BlY1tpXTtcbiAgICAgIHJldC5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWNbaSArICdfZCddO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgcHJvZ3JhbXM6IFtdLFxuICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0sXG4gICAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuICAgICAgaWYgKGRhdGEgfHwgZGVwdGhzIHx8IGJsb2NrUGFyYW1zIHx8IGRlY2xhcmVkQmxvY2tQYXJhbXMpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbiwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9ncmFtV3JhcHBlcikge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7XG4gICAgfSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uKHZhbHVlLCBkZXB0aCkge1xuICAgICAgd2hpbGUgKHZhbHVlICYmIGRlcHRoLS0pIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5fcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgbWVyZ2U6IGZ1bmN0aW9uKHBhcmFtLCBjb21tb24pIHtcbiAgICAgIGxldCBvYmogPSBwYXJhbSB8fCBjb21tb247XG5cbiAgICAgIGlmIChwYXJhbSAmJiBjb21tb24gJiYgKHBhcmFtICE9PSBjb21tb24pKSB7XG4gICAgICAgIG9iaiA9IFV0aWxzLmV4dGVuZCh7fSwgY29tbW9uLCBwYXJhbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICAvLyBBbiBlbXB0eSBvYmplY3QgdG8gdXNlIGFzIHJlcGxhY2VtZW50IGZvciBudWxsLWNvbnRleHRzXG4gICAgbnVsbENvbnRleHQ6IE9iamVjdC5zZWFsKHt9KSxcblxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gcmV0KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXG4gICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCAmJiB0ZW1wbGF0ZVNwZWMudXNlRGF0YSkge1xuICAgICAgZGF0YSA9IGluaXREYXRhKGNvbnRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBsZXQgZGVwdGhzLFxuICAgICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID0gY29udGV4dCAhPSBvcHRpb25zLmRlcHRoc1swXSA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpIDogb3B0aW9ucy5kZXB0aHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXB0aHMgPSBbY29udGV4dF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFpbihjb250ZXh0LyosIG9wdGlvbnMqLykge1xuICAgICAgcmV0dXJuICcnICsgdGVtcGxhdGVTcGVjLm1haW4oY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICB9XG4gICAgbWFpbiA9IGV4ZWN1dGVEZWNvcmF0b3JzKHRlbXBsYXRlU3BlYy5tYWluLCBtYWluLCBjb250YWluZXIsIG9wdGlvbnMuZGVwdGhzIHx8IFtdLCBkYXRhLCBibG9ja1BhcmFtcyk7XG4gICAgcmV0dXJuIG1haW4oY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLmhlbHBlcnMsIGVudi5oZWxwZXJzKTtcblxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsKSB7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLnBhcnRpYWxzLCBlbnYucGFydGlhbHMpO1xuICAgICAgfVxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsIHx8IHRlbXBsYXRlU3BlYy51c2VEZWNvcmF0b3JzKSB7XG4gICAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gY29udGFpbmVyLm1lcmdlKG9wdGlvbnMuZGVjb3JhdG9ycywgZW52LmRlY29yYXRvcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IG9wdGlvbnMuaGVscGVycztcbiAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9wdGlvbnMucGFydGlhbHM7XG4gICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IG9wdGlvbnMuZGVjb3JhdG9ycztcbiAgICB9XG4gIH07XG5cbiAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zICYmICFibG9ja1BhcmFtcykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgcGFyZW50IGRlcHRocycpO1xuICAgIH1cblxuICAgIHJldHVybiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIHRlbXBsYXRlU3BlY1tpXSwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gIH07XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gIGZ1bmN0aW9uIHByb2coY29udGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGN1cnJlbnREZXB0aHMgPSBkZXB0aHM7XG4gICAgaWYgKGRlcHRocyAmJiBjb250ZXh0ICE9IGRlcHRoc1swXSAmJiAhKGNvbnRleHQgPT09IGNvbnRhaW5lci5udWxsQ29udGV4dCAmJiBkZXB0aHNbMF0gPT09IG51bGwpKSB7XG4gICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuICAgIH1cblxuICAgIHJldHVybiBmbihjb250YWluZXIsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lci5oZWxwZXJzLCBjb250YWluZXIucGFydGlhbHMsXG4gICAgICAgIG9wdGlvbnMuZGF0YSB8fCBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtcyAmJiBbb3B0aW9ucy5ibG9ja1BhcmFtc10uY29uY2F0KGJsb2NrUGFyYW1zKSxcbiAgICAgICAgY3VycmVudERlcHRocyk7XG4gIH1cblxuICBwcm9nID0gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcyk7XG5cbiAgcHJvZy5wcm9ncmFtID0gaTtcbiAgcHJvZy5kZXB0aCA9IGRlcHRocyA/IGRlcHRocy5sZW5ndGggOiAwO1xuICBwcm9nLmJsb2NrUGFyYW1zID0gZGVjbGFyZWRCbG9ja1BhcmFtcyB8fCAwO1xuICByZXR1cm4gcHJvZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgaWYgKG9wdGlvbnMubmFtZSA9PT0gJ0BwYXJ0aWFsLWJsb2NrJykge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdO1xuICAgIH1cbiAgfSBlbHNlIGlmICghcGFydGlhbC5jYWxsICYmICFvcHRpb25zLm5hbWUpIHtcbiAgICAvLyBUaGlzIGlzIGEgZHluYW1pYyBwYXJ0aWFsIHRoYXQgcmV0dXJuZWQgYSBzdHJpbmdcbiAgICBvcHRpb25zLm5hbWUgPSBwYXJ0aWFsO1xuICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW3BhcnRpYWxdO1xuICB9XG4gIHJldHVybiBwYXJ0aWFsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIC8vIFVzZSB0aGUgY3VycmVudCBjbG9zdXJlIGNvbnRleHQgdG8gc2F2ZSB0aGUgcGFydGlhbC1ibG9jayBpZiB0aGlzIHBhcnRpYWxcbiAgY29uc3QgY3VycmVudFBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgb3B0aW9ucy5wYXJ0aWFsID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoID0gb3B0aW9ucy5pZHNbMF0gfHwgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoO1xuICB9XG5cbiAgbGV0IHBhcnRpYWxCbG9jaztcbiAgaWYgKG9wdGlvbnMuZm4gJiYgb3B0aW9ucy5mbiAhPT0gbm9vcCkge1xuICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgLy8gV3JhcHBlciBmdW5jdGlvbiB0byBnZXQgYWNjZXNzIHRvIGN1cnJlbnRQYXJ0aWFsQmxvY2sgZnJvbSB0aGUgY2xvc3VyZVxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm47XG4gICAgcGFydGlhbEJsb2NrID0gb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBmdW5jdGlvbiBwYXJ0aWFsQmxvY2tXcmFwcGVyKGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuXG4gICAgICAvLyBSZXN0b3JlIHRoZSBwYXJ0aWFsLWJsb2NrIGZyb20gdGhlIGNsb3N1cmUgZm9yIHRoZSBleGVjdXRpb24gb2YgdGhlIGJsb2NrXG4gICAgICAvLyBpLmUuIHRoZSBwYXJ0IGluc2lkZSB0aGUgYmxvY2sgb2YgdGhlIHBhcnRpYWwgY2FsbC5cbiAgICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGN1cnJlbnRQYXJ0aWFsQmxvY2s7XG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAoZm4ucGFydGlhbHMpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIGZuLnBhcnRpYWxzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkICYmIHBhcnRpYWxCbG9jaykge1xuICAgIHBhcnRpYWwgPSBwYXJ0aWFsQmxvY2s7XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gIH0gZWxzZSBpZiAocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7IHJldHVybiAnJzsgfVxuXG5mdW5jdGlvbiBpbml0RGF0YShjb250ZXh0LCBkYXRhKSB7XG4gIGlmICghZGF0YSB8fCAhKCdyb290JyBpbiBkYXRhKSkge1xuICAgIGRhdGEgPSBkYXRhID8gY3JlYXRlRnJhbWUoZGF0YSkgOiB7fTtcbiAgICBkYXRhLnJvb3QgPSBjb250ZXh0O1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKSB7XG4gIGlmIChmbi5kZWNvcmF0b3IpIHtcbiAgICBsZXQgcHJvcHMgPSB7fTtcbiAgICBwcm9nID0gZm4uZGVjb3JhdG9yKHByb2csIHByb3BzLCBjb250YWluZXIsIGRlcHRocyAmJiBkZXB0aHNbMF0sIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICAgIFV0aWxzLmV4dGVuZChwcm9nLCBwcm9wcyk7XG4gIH1cbiAgcmV0dXJuIHByb2c7XG59XG4iXX0=\n","/* global window */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O3FCQUNlLFVBQVMsVUFBVSxFQUFFOztBQUVsQyxNQUFJLElBQUksR0FBRyxPQUFPLE1BQU0sS0FBSyxXQUFXLEdBQUcsTUFBTSxHQUFHLE1BQU07TUFDdEQsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7O0FBRWxDLFlBQVUsQ0FBQyxVQUFVLEdBQUcsWUFBVztBQUNqQyxRQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFO0FBQ2xDLFVBQUksQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFDO0tBQy9CO0FBQ0QsV0FBTyxVQUFVLENBQUM7R0FDbkIsQ0FBQztDQUNIIiwiZmlsZSI6Im5vLWNvbmZsaWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdpbmRvdyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oSGFuZGxlYmFycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBsZXQgcm9vdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93LFxuICAgICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyb290LkhhbmRsZWJhcnMgPT09IEhhbmRsZWJhcnMpIHtcbiAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGFuZGxlYmFycztcbiAgfTtcbn1cbiJdfQ==\n","export const CSRF_TOKEN_NAME = \"_csrf_token\";\nexport const SHIFT_TYPENAME = \"Shift\";\nexport const NEW_SHIFT_URL_TYPENAME = \"NewShiftUrl\";\nexport const OFFLINE_TOKEN_TYPENAME = \"OfflineToken\";\nexport const DATA_CHANNEL_TOPIC_GRAPHQL = 'graphql'\n","export const capitalize = (val: string) => {\n  return val.charAt(0).toUpperCase() + val.slice(1);\n};\n\nexport const docReady = (fn: () => void) =>\n  document.addEventListener(\"DOMContentLoaded\", fn);\n\nexport const isServerRendered = () =>\n  !!document.querySelector('[name=\"3snsaaPmwVPzy6mFtib\"]');\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nexport default function invariant(condition, message) {\n  /* istanbul ignore else */\n  if (!condition) {\n    throw new Error(message);\n  }\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nimport invariant from '../jsutils/invariant';\n\n/**\n * A representation of source input to GraphQL.\n * `name` and `locationOffset` are optional. They are useful for clients who\n * store GraphQL documents in source files; for example, if the GraphQL input\n * starts at line 40 in a file named Foo.graphql, it might be useful for name to\n * be \"Foo.graphql\" and location to be `{ line: 40, column: 0 }`.\n * line and column in locationOffset are 1-indexed\n */\nexport var Source = function Source(body, name, locationOffset) {\n  _classCallCheck(this, Source);\n\n  this.body = body;\n  this.name = name || 'GraphQL request';\n  this.locationOffset = locationOffset || { line: 1, column: 1 };\n  !(this.locationOffset.line > 0) ? invariant(0, 'line in locationOffset is 1-indexed and must be positive') : void 0;\n  !(this.locationOffset.column > 0) ? invariant(0, 'column in locationOffset is 1-indexed and must be positive') : void 0;\n};","\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nexport function getLocation(source, position) {\n  var lineRegexp = /\\r\\n|[\\n\\r]/g;\n  var line = 1;\n  var column = position + 1;\n  var match = void 0;\n  while ((match = lineRegexp.exec(source.body)) && match.index < position) {\n    line += 1;\n    column = position + 1 - (match.index + match[0].length);\n  }\n  return { line: line, column: column };\n}\n\n/**\n * Represents a location in a Source.\n */","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nimport { getLocation } from '../language/location';\n\n\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n */\nexport function printError(error) {\n  var printedLocations = [];\n  if (error.nodes) {\n    error.nodes.forEach(function (node) {\n      if (node.loc) {\n        printedLocations.push(highlightSourceAtLocation(node.loc.source, getLocation(node.loc.source, node.loc.start)));\n      }\n    });\n  } else if (error.source && error.locations) {\n    var source = error.source;\n    error.locations.forEach(function (location) {\n      printedLocations.push(highlightSourceAtLocation(source, location));\n    });\n  }\n  return printedLocations.length === 0 ? error.message : [error.message].concat(printedLocations).join('\\n\\n') + '\\n';\n}\n\n/**\n * Render a helpful description of the location of the error in the GraphQL\n * Source document.\n */\nfunction highlightSourceAtLocation(source, location) {\n  var line = location.line;\n  var lineOffset = source.locationOffset.line - 1;\n  var columnOffset = getColumnOffset(source, location);\n  var contextLine = line + lineOffset;\n  var contextColumn = location.column + columnOffset;\n  var prevLineNum = (contextLine - 1).toString();\n  var lineNum = contextLine.toString();\n  var nextLineNum = (contextLine + 1).toString();\n  var padLen = nextLineNum.length;\n  var lines = source.body.split(/\\r\\n|[\\n\\r]/g);\n  lines[0] = whitespace(source.locationOffset.column - 1) + lines[0];\n  var outputLines = [source.name + ' (' + contextLine + ':' + contextColumn + ')', line >= 2 && lpad(padLen, prevLineNum) + ': ' + lines[line - 2], lpad(padLen, lineNum) + ': ' + lines[line - 1], whitespace(2 + padLen + contextColumn - 1) + '^', line < lines.length && lpad(padLen, nextLineNum) + ': ' + lines[line]];\n  return outputLines.filter(Boolean).join('\\n');\n}\n\nfunction getColumnOffset(source, location) {\n  return location.line === 1 ? source.locationOffset.column - 1 : 0;\n}\n\nfunction whitespace(len) {\n  return Array(len + 1).join(' ');\n}\n\nfunction lpad(len, str) {\n  return whitespace(len - str.length) + str;\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nimport { printError } from './printError';\nimport { getLocation } from '../language/location';\n\n/**\n * A GraphQLError describes an Error found during the parse, validate, or\n * execute phases of performing a GraphQL operation. In addition to a message\n * and stack trace, it also includes information about the locations in a\n * GraphQL document and/or execution result that correspond to the Error.\n */\n\n\nexport function GraphQLError( // eslint-disable-line no-redeclare\nmessage, nodes, source, positions, path, originalError, extensions) {\n  // Compute list of blame nodes.\n  var _nodes = Array.isArray(nodes) ? nodes.length !== 0 ? nodes : undefined : nodes ? [nodes] : undefined;\n\n  // Compute locations in the source for the given nodes/positions.\n  var _source = source;\n  if (!_source && _nodes) {\n    var node = _nodes[0];\n    _source = node && node.loc && node.loc.source;\n  }\n\n  var _positions = positions;\n  if (!_positions && _nodes) {\n    _positions = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(node.loc.start);\n      }\n      return list;\n    }, []);\n  }\n  if (_positions && _positions.length === 0) {\n    _positions = undefined;\n  }\n\n  var _locations = void 0;\n  if (positions && source) {\n    _locations = positions.map(function (pos) {\n      return getLocation(source, pos);\n    });\n  } else if (_nodes) {\n    _locations = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(getLocation(node.loc.source, node.loc.start));\n      }\n      return list;\n    }, []);\n  }\n\n  Object.defineProperties(this, {\n    message: {\n      value: message,\n      // By being enumerable, JSON.stringify will include `message` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: true,\n      writable: true\n    },\n    locations: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _locations || undefined,\n      // By being enumerable, JSON.stringify will include `locations` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: true\n    },\n    path: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: path || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: true\n    },\n    nodes: {\n      value: _nodes || undefined\n    },\n    source: {\n      value: _source || undefined\n    },\n    positions: {\n      value: _positions || undefined\n    },\n    originalError: {\n      value: originalError\n    },\n    extensions: {\n      value: extensions || originalError && originalError.extensions\n    }\n  });\n\n  // Include (non-enumerable) stack trace.\n  if (originalError && originalError.stack) {\n    Object.defineProperty(this, 'stack', {\n      value: originalError.stack,\n      writable: true,\n      configurable: true\n    });\n  } else if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, GraphQLError);\n  } else {\n    Object.defineProperty(this, 'stack', {\n      value: Error().stack,\n      writable: true,\n      configurable: true\n    });\n  }\n}\n\nGraphQLError.prototype = Object.create(Error.prototype, {\n  constructor: { value: GraphQLError },\n  name: { value: 'GraphQLError' },\n  toString: {\n    value: function toString() {\n      return printError(this);\n    }\n  }\n});","\nimport { GraphQLError } from './GraphQLError';\n\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nexport function syntaxError(source, position, description) {\n  return new GraphQLError('Syntax Error: ' + description, undefined, source, [position]);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nimport invariant from '../jsutils/invariant';\n\n\n/**\n * Given a GraphQLError, format it according to the rules described by the\n * Response Format, Errors section of the GraphQL Specification.\n */\nexport function formatError(error) {\n  !error ? invariant(0, 'Received null or undefined error.') : void 0;\n  return _extends({}, error.extensions, {\n    message: error.message || 'An unknown error occurred.',\n    locations: error.locations,\n    path: error.path\n  });\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * Produces the value of a block string from its parsed raw value, similar to\n * Coffeescript's block string, Python's docstring trim or Ruby's strip_heredoc.\n *\n * This implements the GraphQL spec's BlockStringValue() static algorithm.\n */\nexport default function blockStringValue(rawString) {\n  // Expand a block string's raw value into independent lines.\n  var lines = rawString.split(/\\r\\n|[\\n\\r]/g);\n\n  // Remove common indentation from all lines but first.\n  var commonIndent = null;\n  for (var i = 1; i < lines.length; i++) {\n    var line = lines[i];\n    var indent = leadingWhitespace(line);\n    if (indent < line.length && (commonIndent === null || indent < commonIndent)) {\n      commonIndent = indent;\n      if (commonIndent === 0) {\n        break;\n      }\n    }\n  }\n\n  if (commonIndent) {\n    for (var _i = 1; _i < lines.length; _i++) {\n      lines[_i] = lines[_i].slice(commonIndent);\n    }\n  }\n\n  // Remove leading and trailing blank lines.\n  while (lines.length > 0 && isBlank(lines[0])) {\n    lines.shift();\n  }\n  while (lines.length > 0 && isBlank(lines[lines.length - 1])) {\n    lines.pop();\n  }\n\n  // Return a string of the lines joined with U+000A.\n  return lines.join('\\n');\n}\n\nfunction leadingWhitespace(str) {\n  var i = 0;\n  while (i < str.length && (str[i] === ' ' || str[i] === '\\t')) {\n    i++;\n  }\n  return i;\n}\n\nfunction isBlank(str) {\n  return leadingWhitespace(str) === str.length;\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nimport { syntaxError } from '../error';\nimport blockStringValue from './blockStringValue';\n\n/**\n * Given a Source object, this returns a Lexer for that source.\n * A Lexer is a stateful stream generator in that every time\n * it is advanced, it returns the next token in the Source. Assuming the\n * source lexes, the final Token emitted by the lexer will be of kind\n * EOF, after which the lexer will repeatedly return the same EOF token\n * whenever called.\n */\nexport function createLexer(source, options) {\n  var startOfFileToken = new Tok(TokenKind.SOF, 0, 0, 0, 0, null);\n  var lexer = {\n    source: source,\n    options: options,\n    lastToken: startOfFileToken,\n    token: startOfFileToken,\n    line: 1,\n    lineStart: 0,\n    advance: advanceLexer,\n    lookahead: lookahead\n  };\n  return lexer;\n}\n\nfunction advanceLexer() {\n  this.lastToken = this.token;\n  var token = this.token = this.lookahead();\n  return token;\n}\n\nfunction lookahead() {\n  var token = this.token;\n  if (token.kind !== TokenKind.EOF) {\n    do {\n      // Note: next is only mutable during parsing, so we cast to allow this.\n      token = token.next || (token.next = readToken(this, token));\n    } while (token.kind === TokenKind.COMMENT);\n  }\n  return token;\n}\n\n/**\n * The return type of createLexer.\n */\n\n\n/**\n * An exported enum describing the different kinds of tokens that the\n * lexer emits.\n */\nexport var TokenKind = Object.freeze({\n  SOF: '<SOF>',\n  EOF: '<EOF>',\n  BANG: '!',\n  DOLLAR: '$',\n  AMP: '&',\n  PAREN_L: '(',\n  PAREN_R: ')',\n  SPREAD: '...',\n  COLON: ':',\n  EQUALS: '=',\n  AT: '@',\n  BRACKET_L: '[',\n  BRACKET_R: ']',\n  BRACE_L: '{',\n  PIPE: '|',\n  BRACE_R: '}',\n  NAME: 'Name',\n  INT: 'Int',\n  FLOAT: 'Float',\n  STRING: 'String',\n  BLOCK_STRING: 'BlockString',\n  COMMENT: 'Comment'\n});\n\n/**\n * The enum type representing the token kinds values.\n */\n\n\n/**\n * A helper function to describe a token as a string for debugging\n */\nexport function getTokenDesc(token) {\n  var value = token.value;\n  return value ? token.kind + ' \"' + value + '\"' : token.kind;\n}\n\nvar charCodeAt = String.prototype.charCodeAt;\nvar slice = String.prototype.slice;\n\n/**\n * Helper function for constructing the Token object.\n */\nfunction Tok(kind, start, end, line, column, prev, value) {\n  this.kind = kind;\n  this.start = start;\n  this.end = end;\n  this.line = line;\n  this.column = column;\n  this.value = value;\n  this.prev = prev;\n  this.next = null;\n}\n\n// Print a simplified form when appearing in JSON/util.inspect.\nTok.prototype.toJSON = Tok.prototype.inspect = function toJSON() {\n  return {\n    kind: this.kind,\n    value: this.value,\n    line: this.line,\n    column: this.column\n  };\n};\n\nfunction printCharCode(code) {\n  return (\n    // NaN/undefined represents access beyond the end of the file.\n    isNaN(code) ? TokenKind.EOF : // Trust JSON for ASCII.\n    code < 0x007f ? JSON.stringify(String.fromCharCode(code)) : // Otherwise print the escaped form.\n    '\"\\\\u' + ('00' + code.toString(16).toUpperCase()).slice(-4) + '\"'\n  );\n}\n\n/**\n * Gets the next token from the source starting at the given position.\n *\n * This skips over whitespace and comments until it finds the next lexable\n * token, then lexes punctuators immediately or calls the appropriate helper\n * function for more complicated tokens.\n */\nfunction readToken(lexer, prev) {\n  var source = lexer.source;\n  var body = source.body;\n  var bodyLength = body.length;\n\n  var pos = positionAfterWhitespace(body, prev.end, lexer);\n  var line = lexer.line;\n  var col = 1 + pos - lexer.lineStart;\n\n  if (pos >= bodyLength) {\n    return new Tok(TokenKind.EOF, bodyLength, bodyLength, line, col, prev);\n  }\n\n  var code = charCodeAt.call(body, pos);\n\n  // SourceCharacter\n  if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n    throw syntaxError(source, pos, 'Cannot contain the invalid character ' + printCharCode(code) + '.');\n  }\n\n  switch (code) {\n    // !\n    case 33:\n      return new Tok(TokenKind.BANG, pos, pos + 1, line, col, prev);\n    // #\n    case 35:\n      return readComment(source, pos, line, col, prev);\n    // $\n    case 36:\n      return new Tok(TokenKind.DOLLAR, pos, pos + 1, line, col, prev);\n    // &\n    case 38:\n      return new Tok(TokenKind.AMP, pos, pos + 1, line, col, prev);\n    // (\n    case 40:\n      return new Tok(TokenKind.PAREN_L, pos, pos + 1, line, col, prev);\n    // )\n    case 41:\n      return new Tok(TokenKind.PAREN_R, pos, pos + 1, line, col, prev);\n    // .\n    case 46:\n      if (charCodeAt.call(body, pos + 1) === 46 && charCodeAt.call(body, pos + 2) === 46) {\n        return new Tok(TokenKind.SPREAD, pos, pos + 3, line, col, prev);\n      }\n      break;\n    // :\n    case 58:\n      return new Tok(TokenKind.COLON, pos, pos + 1, line, col, prev);\n    // =\n    case 61:\n      return new Tok(TokenKind.EQUALS, pos, pos + 1, line, col, prev);\n    // @\n    case 64:\n      return new Tok(TokenKind.AT, pos, pos + 1, line, col, prev);\n    // [\n    case 91:\n      return new Tok(TokenKind.BRACKET_L, pos, pos + 1, line, col, prev);\n    // ]\n    case 93:\n      return new Tok(TokenKind.BRACKET_R, pos, pos + 1, line, col, prev);\n    // {\n    case 123:\n      return new Tok(TokenKind.BRACE_L, pos, pos + 1, line, col, prev);\n    // |\n    case 124:\n      return new Tok(TokenKind.PIPE, pos, pos + 1, line, col, prev);\n    // }\n    case 125:\n      return new Tok(TokenKind.BRACE_R, pos, pos + 1, line, col, prev);\n    // A-Z _ a-z\n    case 65:\n    case 66:\n    case 67:\n    case 68:\n    case 69:\n    case 70:\n    case 71:\n    case 72:\n    case 73:\n    case 74:\n    case 75:\n    case 76:\n    case 77:\n    case 78:\n    case 79:\n    case 80:\n    case 81:\n    case 82:\n    case 83:\n    case 84:\n    case 85:\n    case 86:\n    case 87:\n    case 88:\n    case 89:\n    case 90:\n    case 95:\n    case 97:\n    case 98:\n    case 99:\n    case 100:\n    case 101:\n    case 102:\n    case 103:\n    case 104:\n    case 105:\n    case 106:\n    case 107:\n    case 108:\n    case 109:\n    case 110:\n    case 111:\n    case 112:\n    case 113:\n    case 114:\n    case 115:\n    case 116:\n    case 117:\n    case 118:\n    case 119:\n    case 120:\n    case 121:\n    case 122:\n      return readName(source, pos, line, col, prev);\n    // - 0-9\n    case 45:\n    case 48:\n    case 49:\n    case 50:\n    case 51:\n    case 52:\n    case 53:\n    case 54:\n    case 55:\n    case 56:\n    case 57:\n      return readNumber(source, pos, code, line, col, prev);\n    // \"\n    case 34:\n      if (charCodeAt.call(body, pos + 1) === 34 && charCodeAt.call(body, pos + 2) === 34) {\n        return readBlockString(source, pos, line, col, prev);\n      }\n      return readString(source, pos, line, col, prev);\n  }\n\n  throw syntaxError(source, pos, unexpectedCharacterMessage(code));\n}\n\n/**\n * Report a message that an unexpected character was encountered.\n */\nfunction unexpectedCharacterMessage(code) {\n  if (code === 39) {\n    // '\n    return \"Unexpected single quote character ('), did you mean to use \" + 'a double quote (\")?';\n  }\n\n  return 'Cannot parse the unexpected character ' + printCharCode(code) + '.';\n}\n\n/**\n * Reads from body starting at startPosition until it finds a non-whitespace\n * or commented character, then returns the position of that character for\n * lexing.\n */\nfunction positionAfterWhitespace(body, startPosition, lexer) {\n  var bodyLength = body.length;\n  var position = startPosition;\n  while (position < bodyLength) {\n    var code = charCodeAt.call(body, position);\n    // tab | space | comma | BOM\n    if (code === 9 || code === 32 || code === 44 || code === 0xfeff) {\n      ++position;\n    } else if (code === 10) {\n      // new line\n      ++position;\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if (code === 13) {\n      // carriage return\n      if (charCodeAt.call(body, position + 1) === 10) {\n        position += 2;\n      } else {\n        ++position;\n      }\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else {\n      break;\n    }\n  }\n  return position;\n}\n\n/**\n * Reads a comment token from the source file.\n *\n * #[\\u0009\\u0020-\\uFFFF]*\n */\nfunction readComment(source, start, line, col, prev) {\n  var body = source.body;\n  var code = void 0;\n  var position = start;\n\n  do {\n    code = charCodeAt.call(body, ++position);\n  } while (code !== null && (\n  // SourceCharacter but not LineTerminator\n  code > 0x001f || code === 0x0009));\n\n  return new Tok(TokenKind.COMMENT, start, position, line, col, prev, slice.call(body, start + 1, position));\n}\n\n/**\n * Reads a number token from the source file, either a float\n * or an int depending on whether a decimal point appears.\n *\n * Int:   -?(0|[1-9][0-9]*)\n * Float: -?(0|[1-9][0-9]*)(\\.[0-9]+)?((E|e)(+|-)?[0-9]+)?\n */\nfunction readNumber(source, start, firstCode, line, col, prev) {\n  var body = source.body;\n  var code = firstCode;\n  var position = start;\n  var isFloat = false;\n\n  if (code === 45) {\n    // -\n    code = charCodeAt.call(body, ++position);\n  }\n\n  if (code === 48) {\n    // 0\n    code = charCodeAt.call(body, ++position);\n    if (code >= 48 && code <= 57) {\n      throw syntaxError(source, position, 'Invalid number, unexpected digit after 0: ' + printCharCode(code) + '.');\n    }\n  } else {\n    position = readDigits(source, position, code);\n    code = charCodeAt.call(body, position);\n  }\n\n  if (code === 46) {\n    // .\n    isFloat = true;\n\n    code = charCodeAt.call(body, ++position);\n    position = readDigits(source, position, code);\n    code = charCodeAt.call(body, position);\n  }\n\n  if (code === 69 || code === 101) {\n    // E e\n    isFloat = true;\n\n    code = charCodeAt.call(body, ++position);\n    if (code === 43 || code === 45) {\n      // + -\n      code = charCodeAt.call(body, ++position);\n    }\n    position = readDigits(source, position, code);\n  }\n\n  return new Tok(isFloat ? TokenKind.FLOAT : TokenKind.INT, start, position, line, col, prev, slice.call(body, start, position));\n}\n\n/**\n * Returns the new position in the source after reading digits.\n */\nfunction readDigits(source, start, firstCode) {\n  var body = source.body;\n  var position = start;\n  var code = firstCode;\n  if (code >= 48 && code <= 57) {\n    // 0 - 9\n    do {\n      code = charCodeAt.call(body, ++position);\n    } while (code >= 48 && code <= 57); // 0 - 9\n    return position;\n  }\n  throw syntaxError(source, position, 'Invalid number, expected digit but got: ' + printCharCode(code) + '.');\n}\n\n/**\n * Reads a string token from the source file.\n *\n * \"([^\"\\\\\\u000A\\u000D]|(\\\\(u[0-9a-fA-F]{4}|[\"\\\\/bfnrt])))*\"\n */\nfunction readString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 1;\n  var chunkStart = position;\n  var code = 0;\n  var value = '';\n\n  while (position < body.length && (code = charCodeAt.call(body, position)) !== null &&\n  // not LineTerminator\n  code !== 0x000a && code !== 0x000d) {\n    // Closing Quote (\")\n    if (code === 34) {\n      value += slice.call(body, chunkStart, position);\n      return new Tok(TokenKind.STRING, start, position + 1, line, col, prev, value);\n    }\n\n    // SourceCharacter\n    if (code < 0x0020 && code !== 0x0009) {\n      throw syntaxError(source, position, 'Invalid character within String: ' + printCharCode(code) + '.');\n    }\n\n    ++position;\n    if (code === 92) {\n      // \\\n      value += slice.call(body, chunkStart, position - 1);\n      code = charCodeAt.call(body, position);\n      switch (code) {\n        case 34:\n          value += '\"';\n          break;\n        case 47:\n          value += '/';\n          break;\n        case 92:\n          value += '\\\\';\n          break;\n        case 98:\n          value += '\\b';\n          break;\n        case 102:\n          value += '\\f';\n          break;\n        case 110:\n          value += '\\n';\n          break;\n        case 114:\n          value += '\\r';\n          break;\n        case 116:\n          value += '\\t';\n          break;\n        case 117:\n          // u\n          var charCode = uniCharCode(charCodeAt.call(body, position + 1), charCodeAt.call(body, position + 2), charCodeAt.call(body, position + 3), charCodeAt.call(body, position + 4));\n          if (charCode < 0) {\n            throw syntaxError(source, position, 'Invalid character escape sequence: ' + ('\\\\u' + body.slice(position + 1, position + 5) + '.'));\n          }\n          value += String.fromCharCode(charCode);\n          position += 4;\n          break;\n        default:\n          throw syntaxError(source, position, 'Invalid character escape sequence: \\\\' + String.fromCharCode(code) + '.');\n      }\n      ++position;\n      chunkStart = position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n\n/**\n * Reads a block string token from the source file.\n *\n * \"\"\"(\"?\"?(\\\\\"\"\"|\\\\(?!=\"\"\")|[^\"\\\\]))*\"\"\"\n */\nfunction readBlockString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 3;\n  var chunkStart = position;\n  var code = 0;\n  var rawValue = '';\n\n  while (position < body.length && (code = charCodeAt.call(body, position)) !== null) {\n    // Closing Triple-Quote (\"\"\")\n    if (code === 34 && charCodeAt.call(body, position + 1) === 34 && charCodeAt.call(body, position + 2) === 34) {\n      rawValue += slice.call(body, chunkStart, position);\n      return new Tok(TokenKind.BLOCK_STRING, start, position + 3, line, col, prev, blockStringValue(rawValue));\n    }\n\n    // SourceCharacter\n    if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n      throw syntaxError(source, position, 'Invalid character within String: ' + printCharCode(code) + '.');\n    }\n\n    // Escape Triple-Quote (\\\"\"\")\n    if (code === 92 && charCodeAt.call(body, position + 1) === 34 && charCodeAt.call(body, position + 2) === 34 && charCodeAt.call(body, position + 3) === 34) {\n      rawValue += slice.call(body, chunkStart, position) + '\"\"\"';\n      position += 4;\n      chunkStart = position;\n    } else {\n      ++position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n\n/**\n * Converts four hexidecimal chars to the integer that the\n * string represents. For example, uniCharCode('0','0','0','f')\n * will return 15, and uniCharCode('0','0','f','f') returns 255.\n *\n * Returns a negative number on error, if a char was invalid.\n *\n * This is implemented by noting that char2hex() returns -1 on error,\n * which means the result of ORing the char2hex() will also be negative.\n */\nfunction uniCharCode(a, b, c, d) {\n  return char2hex(a) << 12 | char2hex(b) << 8 | char2hex(c) << 4 | char2hex(d);\n}\n\n/**\n * Converts a hex character to its integer value.\n * '0' becomes 0, '9' becomes 9\n * 'A' becomes 10, 'F' becomes 15\n * 'a' becomes 10, 'f' becomes 15\n *\n * Returns -1 on error.\n */\nfunction char2hex(a) {\n  return a >= 48 && a <= 57 ? a - 48 // 0-9\n  : a >= 65 && a <= 70 ? a - 55 // A-F\n  : a >= 97 && a <= 102 ? a - 87 // a-f\n  : -1;\n}\n\n/**\n * Reads an alphanumeric + underscore name from the source.\n *\n * [_A-Za-z][_0-9A-Za-z]*\n */\nfunction readName(source, start, line, col, prev) {\n  var body = source.body;\n  var bodyLength = body.length;\n  var position = start + 1;\n  var code = 0;\n  while (position !== bodyLength && (code = charCodeAt.call(body, position)) !== null && (code === 95 || // _\n  code >= 48 && code <= 57 || // 0-9\n  code >= 65 && code <= 90 || // A-Z\n  code >= 97 && code <= 122) // a-z\n  ) {\n    ++position;\n  }\n  return new Tok(TokenKind.NAME, start, position, line, col, prev, slice.call(body, start, position));\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * The set of allowed kind values for AST nodes.\n */\nexport var Kind = Object.freeze({\n  // Name\n  NAME: 'Name',\n\n  // Document\n  DOCUMENT: 'Document',\n  OPERATION_DEFINITION: 'OperationDefinition',\n  VARIABLE_DEFINITION: 'VariableDefinition',\n  VARIABLE: 'Variable',\n  SELECTION_SET: 'SelectionSet',\n  FIELD: 'Field',\n  ARGUMENT: 'Argument',\n\n  // Fragments\n  FRAGMENT_SPREAD: 'FragmentSpread',\n  INLINE_FRAGMENT: 'InlineFragment',\n  FRAGMENT_DEFINITION: 'FragmentDefinition',\n\n  // Values\n  INT: 'IntValue',\n  FLOAT: 'FloatValue',\n  STRING: 'StringValue',\n  BOOLEAN: 'BooleanValue',\n  NULL: 'NullValue',\n  ENUM: 'EnumValue',\n  LIST: 'ListValue',\n  OBJECT: 'ObjectValue',\n  OBJECT_FIELD: 'ObjectField',\n\n  // Directives\n  DIRECTIVE: 'Directive',\n\n  // Types\n  NAMED_TYPE: 'NamedType',\n  LIST_TYPE: 'ListType',\n  NON_NULL_TYPE: 'NonNullType',\n\n  // Type System Definitions\n  SCHEMA_DEFINITION: 'SchemaDefinition',\n  OPERATION_TYPE_DEFINITION: 'OperationTypeDefinition',\n\n  // Type Definitions\n  SCALAR_TYPE_DEFINITION: 'ScalarTypeDefinition',\n  OBJECT_TYPE_DEFINITION: 'ObjectTypeDefinition',\n  FIELD_DEFINITION: 'FieldDefinition',\n  INPUT_VALUE_DEFINITION: 'InputValueDefinition',\n  INTERFACE_TYPE_DEFINITION: 'InterfaceTypeDefinition',\n  UNION_TYPE_DEFINITION: 'UnionTypeDefinition',\n  ENUM_TYPE_DEFINITION: 'EnumTypeDefinition',\n  ENUM_VALUE_DEFINITION: 'EnumValueDefinition',\n  INPUT_OBJECT_TYPE_DEFINITION: 'InputObjectTypeDefinition',\n\n  // Type Extensions\n  SCALAR_TYPE_EXTENSION: 'ScalarTypeExtension',\n  OBJECT_TYPE_EXTENSION: 'ObjectTypeExtension',\n  INTERFACE_TYPE_EXTENSION: 'InterfaceTypeExtension',\n  UNION_TYPE_EXTENSION: 'UnionTypeExtension',\n  ENUM_TYPE_EXTENSION: 'EnumTypeExtension',\n  INPUT_OBJECT_TYPE_EXTENSION: 'InputObjectTypeExtension',\n\n  // Directive Definitions\n  DIRECTIVE_DEFINITION: 'DirectiveDefinition'\n});\n\n/**\n * The enum type representing the possible kind values of AST nodes.\n */","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * The set of allowed directive location values.\n */\nexport var DirectiveLocation = Object.freeze({\n  // Request Definitions\n  QUERY: 'QUERY',\n  MUTATION: 'MUTATION',\n  SUBSCRIPTION: 'SUBSCRIPTION',\n  FIELD: 'FIELD',\n  FRAGMENT_DEFINITION: 'FRAGMENT_DEFINITION',\n  FRAGMENT_SPREAD: 'FRAGMENT_SPREAD',\n  INLINE_FRAGMENT: 'INLINE_FRAGMENT',\n  // Type System Definitions\n  SCHEMA: 'SCHEMA',\n  SCALAR: 'SCALAR',\n  OBJECT: 'OBJECT',\n  FIELD_DEFINITION: 'FIELD_DEFINITION',\n  ARGUMENT_DEFINITION: 'ARGUMENT_DEFINITION',\n  INTERFACE: 'INTERFACE',\n  UNION: 'UNION',\n  ENUM: 'ENUM',\n  ENUM_VALUE: 'ENUM_VALUE',\n  INPUT_OBJECT: 'INPUT_OBJECT',\n  INPUT_FIELD_DEFINITION: 'INPUT_FIELD_DEFINITION'\n});\n\n/**\n * The enum type representing the directive location values.\n */","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\nimport { Source } from './source';\nimport { syntaxError } from '../error';\n\nimport { createLexer, TokenKind, getTokenDesc } from './lexer';\n\n\nimport { Kind } from './kinds';\nimport { DirectiveLocation } from './directiveLocation';\n\n/**\n * Configuration options to control parser behavior\n */\n\n\n/**\n * Given a GraphQL source, parses it into a Document.\n * Throws GraphQLError if a syntax error is encountered.\n */\nexport function parse(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  if (!(sourceObj instanceof Source)) {\n    throw new TypeError('Must provide Source. Received: ' + String(sourceObj));\n  }\n  var lexer = createLexer(sourceObj, options || {});\n  return parseDocument(lexer);\n}\n\n/**\n * Given a string containing a GraphQL value (ex. `[42]`), parse the AST for\n * that value.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Values directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: valueFromAST().\n */\nexport function parseValue(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  var lexer = createLexer(sourceObj, options || {});\n  expect(lexer, TokenKind.SOF);\n  var value = parseValueLiteral(lexer, false);\n  expect(lexer, TokenKind.EOF);\n  return value;\n}\n\n/**\n * Given a string containing a GraphQL Type (ex. `[Int!]`), parse the AST for\n * that type.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Types directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: typeFromAST().\n */\nexport function parseType(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  var lexer = createLexer(sourceObj, options || {});\n  expect(lexer, TokenKind.SOF);\n  var type = parseTypeReference(lexer);\n  expect(lexer, TokenKind.EOF);\n  return type;\n}\n\n/**\n * Converts a name lex token into a name parse node.\n */\nfunction parseName(lexer) {\n  var token = expect(lexer, TokenKind.NAME);\n  return {\n    kind: Kind.NAME,\n    value: token.value,\n    loc: loc(lexer, token)\n  };\n}\n\n// Implements the parsing rules in the Document section.\n\n/**\n * Document : Definition+\n */\nfunction parseDocument(lexer) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.SOF);\n  var definitions = [];\n  do {\n    definitions.push(parseDefinition(lexer));\n  } while (!skip(lexer, TokenKind.EOF));\n\n  return {\n    kind: Kind.DOCUMENT,\n    definitions: definitions,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * Definition :\n *   - ExecutableDefinition\n *   - TypeSystemDefinition\n */\nfunction parseDefinition(lexer) {\n  if (peek(lexer, TokenKind.NAME)) {\n    switch (lexer.token.value) {\n      case 'query':\n      case 'mutation':\n      case 'subscription':\n      case 'fragment':\n        return parseExecutableDefinition(lexer);\n      case 'schema':\n      case 'scalar':\n      case 'type':\n      case 'interface':\n      case 'union':\n      case 'enum':\n      case 'input':\n      case 'extend':\n      case 'directive':\n        // Note: The schema definition language is an experimental addition.\n        return parseTypeSystemDefinition(lexer);\n    }\n  } else if (peek(lexer, TokenKind.BRACE_L)) {\n    return parseExecutableDefinition(lexer);\n  } else if (peekDescription(lexer)) {\n    // Note: The schema definition language is an experimental addition.\n    return parseTypeSystemDefinition(lexer);\n  }\n\n  throw unexpected(lexer);\n}\n\n/**\n * ExecutableDefinition :\n *   - OperationDefinition\n *   - FragmentDefinition\n */\nfunction parseExecutableDefinition(lexer) {\n  if (peek(lexer, TokenKind.NAME)) {\n    switch (lexer.token.value) {\n      case 'query':\n      case 'mutation':\n      case 'subscription':\n        return parseOperationDefinition(lexer);\n\n      case 'fragment':\n        return parseFragmentDefinition(lexer);\n    }\n  } else if (peek(lexer, TokenKind.BRACE_L)) {\n    return parseOperationDefinition(lexer);\n  }\n\n  throw unexpected(lexer);\n}\n\n// Implements the parsing rules in the Operations section.\n\n/**\n * OperationDefinition :\n *  - SelectionSet\n *  - OperationType Name? VariableDefinitions? Directives? SelectionSet\n */\nfunction parseOperationDefinition(lexer) {\n  var start = lexer.token;\n  if (peek(lexer, TokenKind.BRACE_L)) {\n    return {\n      kind: Kind.OPERATION_DEFINITION,\n      operation: 'query',\n      name: undefined,\n      variableDefinitions: [],\n      directives: [],\n      selectionSet: parseSelectionSet(lexer),\n      loc: loc(lexer, start)\n    };\n  }\n  var operation = parseOperationType(lexer);\n  var name = void 0;\n  if (peek(lexer, TokenKind.NAME)) {\n    name = parseName(lexer);\n  }\n  return {\n    kind: Kind.OPERATION_DEFINITION,\n    operation: operation,\n    name: name,\n    variableDefinitions: parseVariableDefinitions(lexer),\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * OperationType : one of query mutation subscription\n */\nfunction parseOperationType(lexer) {\n  var operationToken = expect(lexer, TokenKind.NAME);\n  switch (operationToken.value) {\n    case 'query':\n      return 'query';\n    case 'mutation':\n      return 'mutation';\n    case 'subscription':\n      return 'subscription';\n  }\n\n  throw unexpected(lexer, operationToken);\n}\n\n/**\n * VariableDefinitions : ( VariableDefinition+ )\n */\nfunction parseVariableDefinitions(lexer) {\n  return peek(lexer, TokenKind.PAREN_L) ? many(lexer, TokenKind.PAREN_L, parseVariableDefinition, TokenKind.PAREN_R) : [];\n}\n\n/**\n * VariableDefinition : Variable : Type DefaultValue?\n */\nfunction parseVariableDefinition(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.VARIABLE_DEFINITION,\n    variable: parseVariable(lexer),\n    type: (expect(lexer, TokenKind.COLON), parseTypeReference(lexer)),\n    defaultValue: skip(lexer, TokenKind.EQUALS) ? parseValueLiteral(lexer, true) : undefined,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * Variable : $ Name\n */\nfunction parseVariable(lexer) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.DOLLAR);\n  return {\n    kind: Kind.VARIABLE,\n    name: parseName(lexer),\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * SelectionSet : { Selection+ }\n */\nfunction parseSelectionSet(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.SELECTION_SET,\n    selections: many(lexer, TokenKind.BRACE_L, parseSelection, TokenKind.BRACE_R),\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * Selection :\n *   - Field\n *   - FragmentSpread\n *   - InlineFragment\n */\nfunction parseSelection(lexer) {\n  return peek(lexer, TokenKind.SPREAD) ? parseFragment(lexer) : parseField(lexer);\n}\n\n/**\n * Field : Alias? Name Arguments? Directives? SelectionSet?\n *\n * Alias : Name :\n */\nfunction parseField(lexer) {\n  var start = lexer.token;\n\n  var nameOrAlias = parseName(lexer);\n  var alias = void 0;\n  var name = void 0;\n  if (skip(lexer, TokenKind.COLON)) {\n    alias = nameOrAlias;\n    name = parseName(lexer);\n  } else {\n    name = nameOrAlias;\n  }\n\n  return {\n    kind: Kind.FIELD,\n    alias: alias,\n    name: name,\n    arguments: parseArguments(lexer, false),\n    directives: parseDirectives(lexer, false),\n    selectionSet: peek(lexer, TokenKind.BRACE_L) ? parseSelectionSet(lexer) : undefined,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * Arguments[Const] : ( Argument[?Const]+ )\n */\nfunction parseArguments(lexer, isConst) {\n  var item = isConst ? parseConstArgument : parseArgument;\n  return peek(lexer, TokenKind.PAREN_L) ? many(lexer, TokenKind.PAREN_L, item, TokenKind.PAREN_R) : [];\n}\n\n/**\n * Argument[Const] : Name : Value[?Const]\n */\nfunction parseArgument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.ARGUMENT,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseValueLiteral(lexer, false)),\n    loc: loc(lexer, start)\n  };\n}\n\nfunction parseConstArgument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.ARGUMENT,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseConstValue(lexer)),\n    loc: loc(lexer, start)\n  };\n}\n\n// Implements the parsing rules in the Fragments section.\n\n/**\n * Corresponds to both FragmentSpread and InlineFragment in the spec.\n *\n * FragmentSpread : ... FragmentName Directives?\n *\n * InlineFragment : ... TypeCondition? Directives? SelectionSet\n */\nfunction parseFragment(lexer) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.SPREAD);\n  if (peek(lexer, TokenKind.NAME) && lexer.token.value !== 'on') {\n    return {\n      kind: Kind.FRAGMENT_SPREAD,\n      name: parseFragmentName(lexer),\n      directives: parseDirectives(lexer, false),\n      loc: loc(lexer, start)\n    };\n  }\n  var typeCondition = void 0;\n  if (lexer.token.value === 'on') {\n    lexer.advance();\n    typeCondition = parseNamedType(lexer);\n  }\n  return {\n    kind: Kind.INLINE_FRAGMENT,\n    typeCondition: typeCondition,\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * FragmentDefinition :\n *   - fragment FragmentName on TypeCondition Directives? SelectionSet\n *\n * TypeCondition : NamedType\n */\nfunction parseFragmentDefinition(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'fragment');\n  // Experimental support for defining variables within fragments changes\n  // the grammar of FragmentDefinition:\n  //   - fragment FragmentName VariableDefinitions? on TypeCondition Directives? SelectionSet\n  if (lexer.options.experimentalFragmentVariables) {\n    return {\n      kind: Kind.FRAGMENT_DEFINITION,\n      name: parseFragmentName(lexer),\n      variableDefinitions: parseVariableDefinitions(lexer),\n      typeCondition: (expectKeyword(lexer, 'on'), parseNamedType(lexer)),\n      directives: parseDirectives(lexer, false),\n      selectionSet: parseSelectionSet(lexer),\n      loc: loc(lexer, start)\n    };\n  }\n  return {\n    kind: Kind.FRAGMENT_DEFINITION,\n    name: parseFragmentName(lexer),\n    typeCondition: (expectKeyword(lexer, 'on'), parseNamedType(lexer)),\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * FragmentName : Name but not `on`\n */\nfunction parseFragmentName(lexer) {\n  if (lexer.token.value === 'on') {\n    throw unexpected(lexer);\n  }\n  return parseName(lexer);\n}\n\n// Implements the parsing rules in the Values section.\n\n/**\n * Value[Const] :\n *   - [~Const] Variable\n *   - IntValue\n *   - FloatValue\n *   - StringValue\n *   - BooleanValue\n *   - NullValue\n *   - EnumValue\n *   - ListValue[?Const]\n *   - ObjectValue[?Const]\n *\n * BooleanValue : one of `true` `false`\n *\n * NullValue : `null`\n *\n * EnumValue : Name but not `true`, `false` or `null`\n */\nfunction parseValueLiteral(lexer, isConst) {\n  var token = lexer.token;\n  switch (token.kind) {\n    case TokenKind.BRACKET_L:\n      return parseList(lexer, isConst);\n    case TokenKind.BRACE_L:\n      return parseObject(lexer, isConst);\n    case TokenKind.INT:\n      lexer.advance();\n      return {\n        kind: Kind.INT,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n    case TokenKind.FLOAT:\n      lexer.advance();\n      return {\n        kind: Kind.FLOAT,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n    case TokenKind.STRING:\n    case TokenKind.BLOCK_STRING:\n      return parseStringLiteral(lexer);\n    case TokenKind.NAME:\n      if (token.value === 'true' || token.value === 'false') {\n        lexer.advance();\n        return {\n          kind: Kind.BOOLEAN,\n          value: token.value === 'true',\n          loc: loc(lexer, token)\n        };\n      } else if (token.value === 'null') {\n        lexer.advance();\n        return {\n          kind: Kind.NULL,\n          loc: loc(lexer, token)\n        };\n      }\n      lexer.advance();\n      return {\n        kind: Kind.ENUM,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n    case TokenKind.DOLLAR:\n      if (!isConst) {\n        return parseVariable(lexer);\n      }\n      break;\n  }\n  throw unexpected(lexer);\n}\n\nfunction parseStringLiteral(lexer) {\n  var token = lexer.token;\n  lexer.advance();\n  return {\n    kind: Kind.STRING,\n    value: token.value,\n    block: token.kind === TokenKind.BLOCK_STRING,\n    loc: loc(lexer, token)\n  };\n}\n\nexport function parseConstValue(lexer) {\n  return parseValueLiteral(lexer, true);\n}\n\nfunction parseValueValue(lexer) {\n  return parseValueLiteral(lexer, false);\n}\n\n/**\n * ListValue[Const] :\n *   - [ ]\n *   - [ Value[?Const]+ ]\n */\nfunction parseList(lexer, isConst) {\n  var start = lexer.token;\n  var item = isConst ? parseConstValue : parseValueValue;\n  return {\n    kind: Kind.LIST,\n    values: any(lexer, TokenKind.BRACKET_L, item, TokenKind.BRACKET_R),\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * ObjectValue[Const] :\n *   - { }\n *   - { ObjectField[?Const]+ }\n */\nfunction parseObject(lexer, isConst) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.BRACE_L);\n  var fields = [];\n  while (!skip(lexer, TokenKind.BRACE_R)) {\n    fields.push(parseObjectField(lexer, isConst));\n  }\n  return {\n    kind: Kind.OBJECT,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * ObjectField[Const] : Name : Value[?Const]\n */\nfunction parseObjectField(lexer, isConst) {\n  var start = lexer.token;\n  return {\n    kind: Kind.OBJECT_FIELD,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseValueLiteral(lexer, isConst)),\n    loc: loc(lexer, start)\n  };\n}\n\n// Implements the parsing rules in the Directives section.\n\n/**\n * Directives[Const] : Directive[?Const]+\n */\nfunction parseDirectives(lexer, isConst) {\n  var directives = [];\n  while (peek(lexer, TokenKind.AT)) {\n    directives.push(parseDirective(lexer, isConst));\n  }\n  return directives;\n}\n\n/**\n * Directive[Const] : @ Name Arguments[?Const]?\n */\nfunction parseDirective(lexer, isConst) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.AT);\n  return {\n    kind: Kind.DIRECTIVE,\n    name: parseName(lexer),\n    arguments: parseArguments(lexer, isConst),\n    loc: loc(lexer, start)\n  };\n}\n\n// Implements the parsing rules in the Types section.\n\n/**\n * Type :\n *   - NamedType\n *   - ListType\n *   - NonNullType\n */\nexport function parseTypeReference(lexer) {\n  var start = lexer.token;\n  var type = void 0;\n  if (skip(lexer, TokenKind.BRACKET_L)) {\n    type = parseTypeReference(lexer);\n    expect(lexer, TokenKind.BRACKET_R);\n    type = {\n      kind: Kind.LIST_TYPE,\n      type: type,\n      loc: loc(lexer, start)\n    };\n  } else {\n    type = parseNamedType(lexer);\n  }\n  if (skip(lexer, TokenKind.BANG)) {\n    return {\n      kind: Kind.NON_NULL_TYPE,\n      type: type,\n      loc: loc(lexer, start)\n    };\n  }\n  return type;\n}\n\n/**\n * NamedType : Name\n */\nexport function parseNamedType(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.NAMED_TYPE,\n    name: parseName(lexer),\n    loc: loc(lexer, start)\n  };\n}\n\n// Implements the parsing rules in the Type Definition section.\n\n/**\n * TypeSystemDefinition :\n *   - SchemaDefinition\n *   - TypeDefinition\n *   - TypeExtension\n *   - DirectiveDefinition\n *\n * TypeDefinition :\n *   - ScalarTypeDefinition\n *   - ObjectTypeDefinition\n *   - InterfaceTypeDefinition\n *   - UnionTypeDefinition\n *   - EnumTypeDefinition\n *   - InputObjectTypeDefinition\n */\nfunction parseTypeSystemDefinition(lexer) {\n  // Many definitions begin with a description and require a lookahead.\n  var keywordToken = peekDescription(lexer) ? lexer.lookahead() : lexer.token;\n\n  if (keywordToken.kind === TokenKind.NAME) {\n    switch (keywordToken.value) {\n      case 'schema':\n        return parseSchemaDefinition(lexer);\n      case 'scalar':\n        return parseScalarTypeDefinition(lexer);\n      case 'type':\n        return parseObjectTypeDefinition(lexer);\n      case 'interface':\n        return parseInterfaceTypeDefinition(lexer);\n      case 'union':\n        return parseUnionTypeDefinition(lexer);\n      case 'enum':\n        return parseEnumTypeDefinition(lexer);\n      case 'input':\n        return parseInputObjectTypeDefinition(lexer);\n      case 'extend':\n        return parseTypeExtension(lexer);\n      case 'directive':\n        return parseDirectiveDefinition(lexer);\n    }\n  }\n\n  throw unexpected(lexer, keywordToken);\n}\n\nfunction peekDescription(lexer) {\n  return peek(lexer, TokenKind.STRING) || peek(lexer, TokenKind.BLOCK_STRING);\n}\n\n/**\n * Description : StringValue\n */\nfunction parseDescription(lexer) {\n  if (peekDescription(lexer)) {\n    return parseStringLiteral(lexer);\n  }\n}\n\n/**\n * SchemaDefinition : schema Directives[Const]? { OperationTypeDefinition+ }\n */\nfunction parseSchemaDefinition(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'schema');\n  var directives = parseDirectives(lexer, true);\n  var operationTypes = many(lexer, TokenKind.BRACE_L, parseOperationTypeDefinition, TokenKind.BRACE_R);\n  return {\n    kind: Kind.SCHEMA_DEFINITION,\n    directives: directives,\n    operationTypes: operationTypes,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * OperationTypeDefinition : OperationType : NamedType\n */\nfunction parseOperationTypeDefinition(lexer) {\n  var start = lexer.token;\n  var operation = parseOperationType(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseNamedType(lexer);\n  return {\n    kind: Kind.OPERATION_TYPE_DEFINITION,\n    operation: operation,\n    type: type,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * ScalarTypeDefinition : Description? scalar Name Directives[Const]?\n */\nfunction parseScalarTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'scalar');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.SCALAR_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * ObjectTypeDefinition :\n *   Description?\n *   type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition?\n */\nfunction parseObjectTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'type');\n  var name = parseName(lexer);\n  var interfaces = parseImplementsInterfaces(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  return {\n    kind: Kind.OBJECT_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    interfaces: interfaces,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * ImplementsInterfaces :\n *   - implements `&`? NamedType\n *   - ImplementsInterfaces & NamedType\n */\nfunction parseImplementsInterfaces(lexer) {\n  var types = [];\n  if (lexer.token.value === 'implements') {\n    lexer.advance();\n    // Optional leading ampersand\n    skip(lexer, TokenKind.AMP);\n    do {\n      types.push(parseNamedType(lexer));\n    } while (skip(lexer, TokenKind.AMP) ||\n    // Legacy support for the SDL?\n    lexer.options.allowLegacySDLImplementsInterfaces && peek(lexer, TokenKind.NAME));\n  }\n  return types;\n}\n\n/**\n * FieldsDefinition : { FieldDefinition+ }\n */\nfunction parseFieldsDefinition(lexer) {\n  // Legacy support for the SDL?\n  if (lexer.options.allowLegacySDLEmptyFields && peek(lexer, TokenKind.BRACE_L) && lexer.lookahead().kind === TokenKind.BRACE_R) {\n    lexer.advance();\n    lexer.advance();\n    return [];\n  }\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseFieldDefinition, TokenKind.BRACE_R) : [];\n}\n\n/**\n * FieldDefinition :\n *   - Description? Name ArgumentsDefinition? : Type Directives[Const]?\n */\nfunction parseFieldDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  var args = parseArgumentDefs(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseTypeReference(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.FIELD_DEFINITION,\n    description: description,\n    name: name,\n    arguments: args,\n    type: type,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * ArgumentsDefinition : ( InputValueDefinition+ )\n */\nfunction parseArgumentDefs(lexer) {\n  if (!peek(lexer, TokenKind.PAREN_L)) {\n    return [];\n  }\n  return many(lexer, TokenKind.PAREN_L, parseInputValueDef, TokenKind.PAREN_R);\n}\n\n/**\n * InputValueDefinition :\n *   - Description? Name : Type DefaultValue? Directives[Const]?\n */\nfunction parseInputValueDef(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseTypeReference(lexer);\n  var defaultValue = void 0;\n  if (skip(lexer, TokenKind.EQUALS)) {\n    defaultValue = parseConstValue(lexer);\n  }\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.INPUT_VALUE_DEFINITION,\n    description: description,\n    name: name,\n    type: type,\n    defaultValue: defaultValue,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * InterfaceTypeDefinition :\n *   - Description? interface Name Directives[Const]? FieldsDefinition?\n */\nfunction parseInterfaceTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'interface');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  return {\n    kind: Kind.INTERFACE_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * UnionTypeDefinition :\n *   - Description? union Name Directives[Const]? UnionMemberTypes?\n */\nfunction parseUnionTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'union');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var types = parseUnionMemberTypes(lexer);\n  return {\n    kind: Kind.UNION_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    types: types,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * UnionMemberTypes :\n *   - = `|`? NamedType\n *   - UnionMemberTypes | NamedType\n */\nfunction parseUnionMemberTypes(lexer) {\n  var types = [];\n  if (skip(lexer, TokenKind.EQUALS)) {\n    // Optional leading pipe\n    skip(lexer, TokenKind.PIPE);\n    do {\n      types.push(parseNamedType(lexer));\n    } while (skip(lexer, TokenKind.PIPE));\n  }\n  return types;\n}\n\n/**\n * EnumTypeDefinition :\n *   - Description? enum Name Directives[Const]? EnumValuesDefinition?\n */\nfunction parseEnumTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'enum');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var values = parseEnumValuesDefinition(lexer);\n  return {\n    kind: Kind.ENUM_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    values: values,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * EnumValuesDefinition : { EnumValueDefinition+ }\n */\nfunction parseEnumValuesDefinition(lexer) {\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseEnumValueDefinition, TokenKind.BRACE_R) : [];\n}\n\n/**\n * EnumValueDefinition : Description? EnumValue Directives[Const]?\n *\n * EnumValue : Name\n */\nfunction parseEnumValueDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.ENUM_VALUE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * InputObjectTypeDefinition :\n *   - Description? input Name Directives[Const]? InputFieldsDefinition?\n */\nfunction parseInputObjectTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'input');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseInputFieldsDefinition(lexer);\n  return {\n    kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * InputFieldsDefinition : { InputValueDefinition+ }\n */\nfunction parseInputFieldsDefinition(lexer) {\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseInputValueDef, TokenKind.BRACE_R) : [];\n}\n\n/**\n * TypeExtension :\n *   - ScalarTypeExtension\n *   - ObjectTypeExtension\n *   - InterfaceTypeExtension\n *   - UnionTypeExtension\n *   - EnumTypeExtension\n *   - InputObjectTypeDefinition\n */\nfunction parseTypeExtension(lexer) {\n  var keywordToken = lexer.lookahead();\n\n  if (keywordToken.kind === TokenKind.NAME) {\n    switch (keywordToken.value) {\n      case 'scalar':\n        return parseScalarTypeExtension(lexer);\n      case 'type':\n        return parseObjectTypeExtension(lexer);\n      case 'interface':\n        return parseInterfaceTypeExtension(lexer);\n      case 'union':\n        return parseUnionTypeExtension(lexer);\n      case 'enum':\n        return parseEnumTypeExtension(lexer);\n      case 'input':\n        return parseInputObjectTypeExtension(lexer);\n    }\n  }\n\n  throw unexpected(lexer, keywordToken);\n}\n\n/**\n * ScalarTypeExtension :\n *   - extend scalar Name Directives[Const]\n */\nfunction parseScalarTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'scalar');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  if (directives.length === 0) {\n    throw unexpected(lexer);\n  }\n  return {\n    kind: Kind.SCALAR_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * ObjectTypeExtension :\n *  - extend type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n *  - extend type Name ImplementsInterfaces? Directives[Const]\n *  - extend type Name ImplementsInterfaces\n */\nfunction parseObjectTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'type');\n  var name = parseName(lexer);\n  var interfaces = parseImplementsInterfaces(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n  return {\n    kind: Kind.OBJECT_TYPE_EXTENSION,\n    name: name,\n    interfaces: interfaces,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * InterfaceTypeExtension :\n *   - extend interface Name Directives[Const]? FieldsDefinition\n *   - extend interface Name Directives[Const]\n */\nfunction parseInterfaceTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'interface');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  if (directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n  return {\n    kind: Kind.INTERFACE_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * UnionTypeExtension :\n *   - extend union Name Directives[Const]? UnionMemberTypes\n *   - extend union Name Directives[Const]\n */\nfunction parseUnionTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'union');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var types = parseUnionMemberTypes(lexer);\n  if (directives.length === 0 && types.length === 0) {\n    throw unexpected(lexer);\n  }\n  return {\n    kind: Kind.UNION_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    types: types,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * EnumTypeExtension :\n *   - extend enum Name Directives[Const]? EnumValuesDefinition\n *   - extend enum Name Directives[Const]\n */\nfunction parseEnumTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'enum');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var values = parseEnumValuesDefinition(lexer);\n  if (directives.length === 0 && values.length === 0) {\n    throw unexpected(lexer);\n  }\n  return {\n    kind: Kind.ENUM_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    values: values,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * InputObjectTypeExtension :\n *   - extend input Name Directives[Const]? InputFieldsDefinition\n *   - extend input Name Directives[Const]\n */\nfunction parseInputObjectTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'input');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseInputFieldsDefinition(lexer);\n  if (directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n  return {\n    kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * DirectiveDefinition :\n *   - Description? directive @ Name ArgumentsDefinition? on DirectiveLocations\n */\nfunction parseDirectiveDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'directive');\n  expect(lexer, TokenKind.AT);\n  var name = parseName(lexer);\n  var args = parseArgumentDefs(lexer);\n  expectKeyword(lexer, 'on');\n  var locations = parseDirectiveLocations(lexer);\n  return {\n    kind: Kind.DIRECTIVE_DEFINITION,\n    description: description,\n    name: name,\n    arguments: args,\n    locations: locations,\n    loc: loc(lexer, start)\n  };\n}\n\n/**\n * DirectiveLocations :\n *   - `|`? DirectiveLocation\n *   - DirectiveLocations | DirectiveLocation\n */\nfunction parseDirectiveLocations(lexer) {\n  // Optional leading pipe\n  skip(lexer, TokenKind.PIPE);\n  var locations = [];\n  do {\n    locations.push(parseDirectiveLocation(lexer));\n  } while (skip(lexer, TokenKind.PIPE));\n  return locations;\n}\n\n/*\n * DirectiveLocation :\n *   - ExecutableDirectiveLocation\n *   - TypeSystemDirectiveLocation\n *\n * ExecutableDirectiveLocation : one of\n *   `QUERY`\n *   `MUTATION`\n *   `SUBSCRIPTION`\n *   `FIELD`\n *   `FRAGMENT_DEFINITION`\n *   `FRAGMENT_SPREAD`\n *   `INLINE_FRAGMENT`\n *\n * TypeSystemDirectiveLocation : one of\n *   `SCHEMA`\n *   `SCALAR`\n *   `OBJECT`\n *   `FIELD_DEFINITION`\n *   `ARGUMENT_DEFINITION`\n *   `INTERFACE`\n *   `UNION`\n *   `ENUM`\n *   `ENUM_VALUE`\n *   `INPUT_OBJECT`\n *   `INPUT_FIELD_DEFINITION`\n */\nfunction parseDirectiveLocation(lexer) {\n  var start = lexer.token;\n  var name = parseName(lexer);\n  if (DirectiveLocation.hasOwnProperty(name.value)) {\n    return name;\n  }\n  throw unexpected(lexer, start);\n}\n\n// Core parsing utility functions\n\n/**\n * Returns a location object, used to identify the place in\n * the source that created a given parsed object.\n */\nfunction loc(lexer, startToken) {\n  if (!lexer.options.noLocation) {\n    return new Loc(startToken, lexer.lastToken, lexer.source);\n  }\n}\n\nfunction Loc(startToken, endToken, source) {\n  this.start = startToken.start;\n  this.end = endToken.end;\n  this.startToken = startToken;\n  this.endToken = endToken;\n  this.source = source;\n}\n\n// Print a simplified form when appearing in JSON/util.inspect.\nLoc.prototype.toJSON = Loc.prototype.inspect = function toJSON() {\n  return { start: this.start, end: this.end };\n};\n\n/**\n * Determines if the next token is of a given kind\n */\nfunction peek(lexer, kind) {\n  return lexer.token.kind === kind;\n}\n\n/**\n * If the next token is of the given kind, return true after advancing\n * the lexer. Otherwise, do not change the parser state and return false.\n */\nfunction skip(lexer, kind) {\n  var match = lexer.token.kind === kind;\n  if (match) {\n    lexer.advance();\n  }\n  return match;\n}\n\n/**\n * If the next token is of the given kind, return that token after advancing\n * the lexer. Otherwise, do not change the parser state and throw an error.\n */\nfunction expect(lexer, kind) {\n  var token = lexer.token;\n  if (token.kind === kind) {\n    lexer.advance();\n    return token;\n  }\n  throw syntaxError(lexer.source, token.start, 'Expected ' + kind + ', found ' + getTokenDesc(token));\n}\n\n/**\n * If the next token is a keyword with the given value, return that token after\n * advancing the lexer. Otherwise, do not change the parser state and return\n * false.\n */\nfunction expectKeyword(lexer, value) {\n  var token = lexer.token;\n  if (token.kind === TokenKind.NAME && token.value === value) {\n    lexer.advance();\n    return token;\n  }\n  throw syntaxError(lexer.source, token.start, 'Expected \"' + value + '\", found ' + getTokenDesc(token));\n}\n\n/**\n * Helper function for creating an error when an unexpected lexed token\n * is encountered.\n */\nfunction unexpected(lexer, atToken) {\n  var token = atToken || lexer.token;\n  return syntaxError(lexer.source, token.start, 'Unexpected ' + getTokenDesc(token));\n}\n\n/**\n * Returns a possibly empty list of parse nodes, determined by\n * the parseFn. This list begins with a lex token of openKind\n * and ends with a lex token of closeKind. Advances the parser\n * to the next lex token after the closing token.\n */\nfunction any(lexer, openKind, parseFn, closeKind) {\n  expect(lexer, openKind);\n  var nodes = [];\n  while (!skip(lexer, closeKind)) {\n    nodes.push(parseFn(lexer));\n  }\n  return nodes;\n}\n\n/**\n * Returns a non-empty list of parse nodes, determined by\n * the parseFn. This list begins with a lex token of openKind\n * and ends with a lex token of closeKind. Advances the parser\n * to the next lex token after the closing token.\n */\nfunction many(lexer, openKind, parseFn, closeKind) {\n  expect(lexer, openKind);\n  var nodes = [parseFn(lexer)];\n  while (!skip(lexer, closeKind)) {\n    nodes.push(parseFn(lexer));\n  }\n  return nodes;\n}","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","'use strict';\n\n/**\n * Stringify/parse functions that don't operate\n * recursively, so they avoid call stack exceeded\n * errors.\n */\nexports.stringify = function stringify(input) {\n  var queue = [];\n  queue.push({obj: input});\n\n  var res = '';\n  var next, obj, prefix, val, i, arrayPrefix, keys, k, key, value, objPrefix;\n  while ((next = queue.pop())) {\n    obj = next.obj;\n    prefix = next.prefix || '';\n    val = next.val || '';\n    res += prefix;\n    if (val) {\n      res += val;\n    } else if (typeof obj !== 'object') {\n      res += typeof obj === 'undefined' ? null : JSON.stringify(obj);\n    } else if (obj === null) {\n      res += 'null';\n    } else if (Array.isArray(obj)) {\n      queue.push({val: ']'});\n      for (i = obj.length - 1; i >= 0; i--) {\n        arrayPrefix = i === 0 ? '' : ',';\n        queue.push({obj: obj[i], prefix: arrayPrefix});\n      }\n      queue.push({val: '['});\n    } else { // object\n      keys = [];\n      for (k in obj) {\n        if (obj.hasOwnProperty(k)) {\n          keys.push(k);\n        }\n      }\n      queue.push({val: '}'});\n      for (i = keys.length - 1; i >= 0; i--) {\n        key = keys[i];\n        value = obj[key];\n        objPrefix = (i > 0 ? ',' : '');\n        objPrefix += JSON.stringify(key) + ':';\n        queue.push({obj: value, prefix: objPrefix});\n      }\n      queue.push({val: '{'});\n    }\n  }\n  return res;\n};\n\n// Convenience function for the parse function.\n// This pop function is basically copied from\n// pouchCollate.parseIndexableString\nfunction pop(obj, stack, metaStack) {\n  var lastMetaElement = metaStack[metaStack.length - 1];\n  if (obj === lastMetaElement.element) {\n    // popping a meta-element, e.g. an object whose value is another object\n    metaStack.pop();\n    lastMetaElement = metaStack[metaStack.length - 1];\n  }\n  var element = lastMetaElement.element;\n  var lastElementIndex = lastMetaElement.index;\n  if (Array.isArray(element)) {\n    element.push(obj);\n  } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n    var key = stack.pop();\n    element[key] = obj;\n  } else {\n    stack.push(obj); // obj with key only\n  }\n}\n\nexports.parse = function (str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n  var collationIndex,parsedNum,numChar;\n  var parsedString,lastCh,numConsecutiveSlashes,ch;\n  var arrayElement, objElement;\n  while (true) {\n    collationIndex = str[i++];\n    if (collationIndex === '}' ||\n        collationIndex === ']' ||\n        typeof collationIndex === 'undefined') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack.pop(), stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case ':':\n      case ',':\n        break;\n      case 'n':\n        i += 3; // 'ull'\n        pop(null, stack, metaStack);\n        break;\n      case 't':\n        i += 3; // 'rue'\n        pop(true, stack, metaStack);\n        break;\n      case 'f':\n        i += 4; // 'alse'\n        pop(false, stack, metaStack);\n        break;\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '-':\n        parsedNum = '';\n        i--;\n        while (true) {\n          numChar = str[i++];\n          if (/[\\d\\.\\-e\\+]/.test(numChar)) {\n            parsedNum += numChar;\n          } else {\n            i--;\n            break;\n          }\n        }\n        pop(parseFloat(parsedNum), stack, metaStack);\n        break;\n      case '\"':\n        parsedString = '';\n        lastCh = void 0;\n        numConsecutiveSlashes = 0;\n        while (true) {\n          ch = str[i++];\n          if (ch !== '\"' || (lastCh === '\\\\' &&\n              numConsecutiveSlashes % 2 === 1)) {\n            parsedString += ch;\n            lastCh = ch;\n            if (lastCh === '\\\\') {\n              numConsecutiveSlashes++;\n            } else {\n              numConsecutiveSlashes = 0;\n            }\n          } else {\n            break;\n          }\n        }\n        pop(JSON.parse('\"' + parsedString + '\"'), stack, metaStack);\n        break;\n      case '[':\n        arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '{':\n        objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      default:\n        throw new Error(\n          'unexpectedly reached end of input: ' + collationIndex);\n    }\n  }\n};\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n"],"sourceRoot":""}